/*! For license information please see main.ae87be8a.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),o=n(43),i=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var S=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function E(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case u:return"Portal";case f:return"Profiler";case h:return"StrictMode";case y:return"Suspense";case b:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case m:return(e.displayName||"Context")+".Provider";case g:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:E(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return E(e(t))}catch(n){}}return null}var _,P,R=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.assign;function N(e){if(void 0===_)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||"",P=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+_+e+P}var O=!1;function M(e,t){if(!e||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],s=i[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===c.length)for(r=l.length-1,o=c.length-1;1<=r&&0<=o&&l[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==c[o]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{O=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?N(n):""}function L(e){switch(e.tag){case 26:case 27:case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return e=M(e.type,!1);case 11:return e=M(e.type.render,!1);case 1:return e=M(e.type,!0);default:return""}}function q(e){try{var t="";do{t+=L(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function U(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function H(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function F(e){if(U(e)!==e)throw Error(a(188))}function z(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=z(e)))return t;e=e.sibling}return null}var D=Array.isArray,j=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},K=[],W=-1;function Q(e){return{current:e}}function V(e){0>W||(e.current=K[W],K[W]=null,W--)}function G(e,t){W++,K[W]=e.current,e.current=t}var Y=Q(null),$=Q(null),J=Q(null),X=Q(null);function Z(e,t){switch(G(J,t),G($,e),G(Y,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?$u(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Ju(e=$u(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}V(Y),G(Y,t)}function ee(){V(Y),V($),V(J)}function te(e){null!==e.memoizedState&&G(X,e);var t=Y.current,n=Ju(t,e.type);t!==n&&(G($,e),G(Y,n))}function ne(e){$.current===e&&(V(Y),V($)),X.current===e&&(V(X),qd._currentValue=B)}var re=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,ae=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,ge=r.log,me=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof ge&&me(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ce(e)/ke|0)|0},Ce=Math.log,ke=Math.LN2;var Se=128,Te=4194304;function Ie(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ae(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=e.warmLanes;e=0!==e.finishedLanes;var s=134217727&n;return 0!==s?0!==(n=s&~o)?r=Ie(n):0!==(i&=s)?r=Ie(i):e||0!==(a=s&~a)&&(r=Ie(a)):0!==(s=n&~o)?r=Ie(s):0!==i?r=Ie(i):e||0!==(a=n&~a)&&(r=Ie(a)),0===r?0:0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(a=t&-t)||32===o&&0!==(4194176&a))?t:r}function Ee(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function _e(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Se;return 0===(4194176&(Se<<=1))&&(Se=128),e}function Re(){var e=Te;return 0===(62914560&(Te<<=1))&&(Te=4194304),e}function xe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ne(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Me(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function qe(){var e=j.p;return 0!==e?e:void 0===(e=window.event)?32:Jd(e.type)}var Ue=Math.random().toString(36).slice(2),He="__reactFiber$"+Ue,Fe="__reactProps$"+Ue,ze="__reactContainer$"+Ue,De="__reactEvents$"+Ue,je="__reactListeners$"+Ue,Be="__reactHandles$"+Ue,Ke="__reactResources$"+Ue,We="__reactMarker$"+Ue;function Qe(e){delete e[He],delete e[Fe],delete e[De],delete e[je],delete e[Be]}function Ve(e){var t=e[He];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ze]||n[He]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ld(e);null!==e;){if(n=e[He])return n;e=ld(e)}return t}n=(e=n).parentNode}return null}function Ge(e){if(e=e[He]||e[ze]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ye(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function $e(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[We]=!0}var Xe=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Xe.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},it={};function at(e,t,n){if(o=t,re.call(it,o)||!re.call(ot,o)&&(rt.test(o)?it[o]=!0:(ot[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function st(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function mt(e,t,n,r,o,i,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?yt(e,a,ct(t)):null!=n?yt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function vt(e,t,n,r,o,i,a,s){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Ct(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(D(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function It(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Tt(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&Tt(e,i,t[i])}function At(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_t=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return _t.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Rt=null;function xt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,Ot=null;function Mt(e){var t=Ge(e);if(t&&(e=t.stateNode)){var n=e[Fe]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Fe]||null;if(!o)throw Error(a(90));mt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Lt=!1;function qt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Nt||null!==Ot)&&(Hc(),Nt&&(t=Nt,e=Ot,Ot=Nt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Fe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ht=!1;if(nt)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch(Ch){Ht=!1}var zt=null,Dt=null,jt=null;function Bt(){if(jt)return jt;var e,t,n=Dt,r=n.length,o="value"in zt?zt.value:zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return jt=o.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Qt(){return!1}function Vt(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Wt:Qt,this.isPropagationStopped=Qt,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Gt,Yt,$t,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xt=Vt(Jt),Zt=x({},Jt,{view:0,detail:0}),en=Vt(Zt),tn=x({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$t&&($t&&"mousemove"===e.type?(Gt=e.screenX-$t.screenX,Yt=e.screenY-$t.screenY):Yt=Gt=0,$t=e),Gt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),nn=Vt(tn),rn=Vt(x({},tn,{dataTransfer:0})),on=Vt(x({},Zt,{relatedTarget:0})),an=Vt(x({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),sn=Vt(x({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Vt(x({},Jt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function fn(){return hn}var pn=Vt(x({},Zt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Vt(x({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),mn=Vt(x({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Vt(x({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Vt(x({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Vt(x({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],Cn=nt&&"CompositionEvent"in window,kn=null;nt&&"documentMode"in document&&(kn=document.documentMode);var Sn=nt&&"TextEvent"in window&&!kn,Tn=nt&&(!Cn||kn&&8<kn&&11>=kn),In=String.fromCharCode(32),An=!1;function En(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Nn(e,t,n,r){Nt?Ot?Ot.push(r):Ot=[r]:Nt=r,0<(t=qu(t,"onChange")).length&&(n=new Xt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Mn=null;function Ln(e){_u(e,0)}function qn(e){if(ht(Ye(e)))return e}function Un(e,t){if("change"===e)return t}var Hn=!1;if(nt){var Fn;if(nt){var zn="oninput"in document;if(!zn){var Dn=document.createElement("div");Dn.setAttribute("oninput","return;"),zn="function"===typeof Dn.oninput}Fn=zn}else Fn=!1;Hn=Fn&&(!document.documentMode||9<document.documentMode)}function jn(){On&&(On.detachEvent("onpropertychange",Bn),Mn=On=null)}function Bn(e){if("value"===e.propertyName&&qn(Mn)){var t=[];Nn(t,Mn,e,xt(e)),qt(Ln,t)}}function Kn(e,t,n){"focusin"===e?(jn(),Mn=n,(On=t).attachEvent("onpropertychange",Bn)):"focusout"===e&&jn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Mn)}function Qn(e,t){if("click"===e)return qn(t)}function Vn(e,t){if("input"===e||"change"===e)return qn(t)}var Gn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Gn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!re.call(t,o)||!Gn(e[o],t[o]))return!1}return!0}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=$n(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$n(r)}}function Xn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Xn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var o=t.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!n.extend&&i>r&&(o=r,r=i,i=o),o=Jn(t,i);var a=Jn(t,r);o&&a&&(1!==n.rangeCount||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&((e=e.createRange()).setStart(o.node,o.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,or=null,ir=null,ar=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Yn(ir,r)||(ir=r,0<(r=qu(or,"onSelect")).length&&(t=new Xt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}nt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),gr=hr("animationstart"),mr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function kr(e,t){wr.set(e,t),et(t,[e])}var Sr=[],Tr=0,Ir=0;function Ar(){for(var e=Tr,t=Ir=Tr=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var o=Sr[t];Sr[t++]=null;var i=Sr[t];if(Sr[t++]=null,null!==r&&null!==o){var a=r.pending;null===a?o.next=o:(o.next=a.next,a.next=o),r.pending=o}0!==i&&Rr(n,o,i)}}function Er(e,t,n,r){Sr[Tr++]=e,Sr[Tr++]=t,Sr[Tr++]=n,Sr[Tr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function _r(e,t,n,r){return Er(e,t,n,r),xr(e)}function Pr(e,t){return Er(e,null,null,t),xr(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;o&&null!==t&&3===e.tag&&(i=e.stateNode,o=31-we(n),null===(e=(i=i.hiddenUpdates)[o])?i[o]=[t]:e.push(t),t.lane=536870912|n)}function xr(e){if(50<_c)throw _c=0,Pc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Nr={},Or=new WeakMap;function Mr(e,t){if("object"===typeof e&&null!==e){var n=Or.get(e);return void 0!==n?n:(t={value:e,source:t,stack:q(t)},Or.set(e,t),t)}return{value:e,source:t,stack:q(t)}}var Lr=[],qr=0,Ur=null,Hr=0,Fr=[],zr=0,Dr=null,jr=1,Br="";function Kr(e,t){Lr[qr++]=Hr,Lr[qr++]=Ur,Ur=e,Hr=t}function Wr(e,t,n){Fr[zr++]=jr,Fr[zr++]=Br,Fr[zr++]=Dr,Dr=e;var r=jr;e=Br;var o=32-we(r)-1;r&=~(1<<o),n+=1;var i=32-we(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,jr=1<<32-we(t)+o|n<<o|r,Br=i+e}else jr=1<<i|n<<o|r,Br=e}function Qr(e){null!==e.return&&(Kr(e,1),Wr(e,1,0))}function Vr(e){for(;e===Ur;)Ur=Lr[--qr],Lr[qr]=null,Hr=Lr[--qr],Lr[qr]=null;for(;e===Dr;)Dr=Fr[--zr],Fr[zr]=null,Br=Fr[--zr],Fr[zr]=null,jr=Fr[--zr],Fr[zr]=null}var Gr=null,Yr=null,$r=!1,Jr=null,Xr=!1,Zr=Error(a(519));function eo(e){throw io(Mr(Error(a(418,"")),e)),Zr}function to(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[He]=e,t[Fe]=r,n){case"dialog":Pu("cancel",t),Pu("close",t);break;case"iframe":case"object":case"embed":Pu("load",t);break;case"video":case"audio":for(n=0;n<Au.length;n++)Pu(Au[n],t);break;case"source":Pu("error",t);break;case"img":case"image":case"link":Pu("error",t),Pu("load",t);break;case"details":Pu("toggle",t);break;case"input":Pu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Pu("invalid",t);break;case"textarea":Pu("invalid",t),Ct(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ju(t.textContent,n)?(null!=r.popover&&(Pu("beforetoggle",t),Pu("toggle",t)),null!=r.onScroll&&Pu("scroll",t),null!=r.onScrollEnd&&Pu("scrollend",t),null!=r.onClick&&(t.onclick=Bu),t=!0):t=!1,t||eo(e)}function no(e){for(Gr=e.return;Gr;)switch(Gr.tag){case 3:case 27:return void(Xr=!0);case 5:case 13:return void(Xr=!1);default:Gr=Gr.return}}function ro(e){if(e!==Gr)return!1;if(!$r)return no(e),$r=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Xu(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Yr&&eo(e),no(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Yr=sd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Yr=null}}else Yr=Gr?sd(e.stateNode.nextSibling):null;return!0}function oo(){Yr=Gr=null,$r=!1}function io(e){null===Jr?Jr=[e]:Jr.push(e)}var ao=Error(a(460)),so=Error(a(474)),lo={then:function(){}};function co(e){return"fulfilled"===(e=e.status)||"rejected"===e}function uo(){}function ho(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(uo,uo),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ao)throw Error(a(483));throw e;default:if("string"===typeof t.status)t.then(uo,uo);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ao)throw Error(a(483));throw e}throw fo=t,ao}}var fo=null;function po(){if(null===fo)throw Error(a(459));var e=fo;return fo=null,e}var go=null,mo=0;function vo(e){var t=mo;return mo+=1,null===go&&(go=[]),ho(go,e,t)}function yo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function bo(e,t){if(t.$$typeof===l)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wo(e){return(0,e._init)(e._payload)}function Co(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Ul(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jl(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n,r){var i=n.type;return i===d?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===C&&wo(i)===t.type)?(yo(t=o(t,n.props),n),t.return=e,t):(yo(t=Fl(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function p(e,t,n,r,i){return null===t||7!==t.tag?((t=zl(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function g(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return yo(n=Fl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=Bl(t,e.mode,n)).return=e,t;case C:return g(e,t=(0,t._init)(t._payload),n)}if(D(t)||I(t))return(t=zl(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return g(e,vo(t),n);if(t.$$typeof===m)return g(e,As(e,t),n);bo(e,t)}return null}function v(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===o?h(e,t,n,r):null;case u:return n.key===o?f(e,t,n,r):null;case C:return v(e,t,n=(o=n._init)(n._payload),r)}if(D(n)||I(n))return null!==o?null:p(e,t,n,r,null);if("function"===typeof n.then)return v(e,t,vo(n),r);if(n.$$typeof===m)return v(e,t,As(e,n),r);bo(e,n)}return null}function y(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return h(t,e=e.get(null===r.key?n:r.key)||null,r,o);case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,o);case C:return y(e,t,n,r=(0,r._init)(r._payload),o)}if(D(r)||I(r))return p(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return y(e,t,n,vo(r),o);if(r.$$typeof===m)return y(e,t,n,As(t,r),o);bo(t,r)}return null}function b(l,h,f,p){if("object"===typeof f&&null!==f&&f.type===d&&null===f.key&&(f=f.props.children),"object"===typeof f&&null!==f){switch(f.$$typeof){case c:e:{for(var w=f.key;null!==h;){if(h.key===w){if((w=f.type)===d){if(7===h.tag){n(l,h.sibling),(p=o(h,f.props.children)).return=l,l=p;break e}}else if(h.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===C&&wo(w)===h.type){n(l,h.sibling),yo(p=o(h,f.props),f),p.return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}f.type===d?((p=zl(f.props.children,l.mode,p,f.key)).return=l,l=p):(yo(p=Fl(f.type,f.key,f.props,null,l.mode,p),f),p.return=l,l=p)}return s(l);case u:e:{for(w=f.key;null!==h;){if(h.key===w){if(4===h.tag&&h.stateNode.containerInfo===f.containerInfo&&h.stateNode.implementation===f.implementation){n(l,h.sibling),(p=o(h,f.children||[])).return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}(p=Bl(f,l.mode,p)).return=l,l=p}return s(l);case C:return b(l,h,f=(w=f._init)(f._payload),p)}if(D(f))return function(o,a,s,l){for(var c=null,u=null,d=a,h=a=0,f=null;null!==d&&h<s.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=v(o,d,s[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(o,d),a=i(p,a,h),null===u?c=p:u.sibling=p,u=p,d=f}if(h===s.length)return n(o,d),$r&&Kr(o,h),c;if(null===d){for(;h<s.length;h++)null!==(d=g(o,s[h],l))&&(a=i(d,a,h),null===u?c=d:u.sibling=d,u=d);return $r&&Kr(o,h),c}for(d=r(d);h<s.length;h++)null!==(f=y(d,o,h,s[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),a=i(f,a,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(o,e)})),$r&&Kr(o,h),c}(l,h,f,p);if(I(f)){if("function"!==typeof(w=I(f)))throw Error(a(150));return function(o,s,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,h=s,f=s=0,p=null,m=l.next();null!==h&&!m.done;f++,m=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var b=v(o,h,m.value,c);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(o,h),s=i(b,s,f),null===d?u=b:d.sibling=b,d=b,h=p}if(m.done)return n(o,h),$r&&Kr(o,f),u;if(null===h){for(;!m.done;f++,m=l.next())null!==(m=g(o,m.value,c))&&(s=i(m,s,f),null===d?u=m:d.sibling=m,d=m);return $r&&Kr(o,f),u}for(h=r(h);!m.done;f++,m=l.next())null!==(m=y(h,o,f,m.value,c))&&(e&&null!==m.alternate&&h.delete(null===m.key?f:m.key),s=i(m,s,f),null===d?u=m:d.sibling=m,d=m);return e&&h.forEach((function(e){return t(o,e)})),$r&&Kr(o,f),u}(l,h,f=w.call(f),p)}if("function"===typeof f.then)return b(l,h,vo(f),p);if(f.$$typeof===m)return b(l,h,As(l,f),p);bo(l,f)}return"string"===typeof f&&""!==f||"number"===typeof f||"bigint"===typeof f?(f=""+f,null!==h&&6===h.tag?(n(l,h.sibling),(p=o(h,f)).return=l,l=p):(n(l,h),(p=jl(f,l.mode,p)).return=l,l=p),s(l)):n(l,h)}return function(e,t,n,r){try{mo=0;var o=b(e,t,n,r);return go=null,o}catch(a){if(a===ao)throw a;var i=Ll(29,a,null,e.mode);return i.lanes=r,i.return=e,i}}}var ko=Co(!0),So=Co(!1),To=Q(null),Io=Q(0);function Ao(e,t){G(Io,e=cc),G(To,t),cc=e|t.baseLanes}function Eo(){G(Io,cc),G(To,To.current)}function _o(){cc=Io.current,V(To),V(Io)}var Po=Q(null),Ro=null;function xo(e){var t=e.alternate;G(Lo,1&Lo.current),G(Po,e),null===Ro&&(null===t||null!==To.current||null!==t.memoizedState)&&(Ro=e)}function No(e){if(22===e.tag){if(G(Lo,Lo.current),G(Po,e),null===Ro){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ro=e)}}else Oo()}function Oo(){G(Lo,Lo.current),G(Po,Po.current)}function Mo(e){V(Po),Ro===e&&(Ro=null),V(Lo)}var Lo=Q(0);function qo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ho=r.unstable_scheduleCallback,Fo=r.unstable_NormalPriority,zo={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Do(){return{controller:new Uo,data:new Map,refCount:0}}function jo(e){e.refCount--,0===e.refCount&&Ho(Fo,(function(){e.controller.abort()}))}var Bo=null,Ko=0,Wo=0,Qo=null;function Vo(){if(0===--Ko&&null!==Bo){null!==Qo&&(Qo.status="fulfilled");var e=Bo;Bo=null,Wo=0,Qo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Go=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Bo){var n=Bo=[];Ko=0,Wo=Cu(),Qo={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ko++,t.then(Vo,Vo)}(0,t),null!==Go&&Go(e,t)};var Yo=Q(null);function $o(){var e=Yo.current;return null!==e?e:tc.pooledCache}function Jo(e,t){G(Yo,null===t?Yo.current:t.pool)}function Xo(){var e=$o();return null===e?null:{parent:zo._currentValue,pool:e}}var Zo=0,ei=null,ti=null,ni=null,ri=!1,oi=!1,ii=!1,ai=0,si=0,li=null,ci=0;function ui(){throw Error(a(321))}function di(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function hi(e,t,n,r,o,i){return Zo=i,ei=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Aa:Ea,ii=!1,i=n(r,o),ii=!1,oi&&(i=pi(t,n,r,o)),fi(e),i}function fi(e){R.H=Ia;var t=null!==ti&&null!==ti.next;if(Zo=0,ni=ti=ei=null,ri=!1,si=0,li=null,t)throw Error(a(300));null===e||Ka||null!==(e=e.dependencies)&&Ss(e)&&(Ka=!0)}function pi(e,t,n,r){ei=e;var o=0;do{if(oi&&(li=null),si=0,oi=!1,25<=o)throw Error(a(301));if(o+=1,ni=ti=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}R.H=_a,i=t(n,r)}while(oi);return i}function gi(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?Ci(t):t,e=e.useState()[0],(null!==ti?ti.memoizedState:null)!==e&&(ei.flags|=1024),t}function mi(){var e=0!==ai;return ai=0,e}function vi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function yi(e){if(ri){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ri=!1}Zo=0,ni=ti=ei=null,oi=!1,si=ai=0,li=null}function bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ni?ei.memoizedState=ni=e:ni=ni.next=e,ni}function wi(){if(null===ti){var e=ei.alternate;e=null!==e?e.memoizedState:null}else e=ti.next;var t=null===ni?ei.memoizedState:ni.next;if(null!==t)ni=t,ti=e;else{if(null===e){if(null===ei.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(ti=e).memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},null===ni?ei.memoizedState=ni=e:ni=ni.next=e}return ni}function Ci(e){var t=si;return si+=1,null===li&&(li=[]),e=ho(li,e,t),t=ei,null===(null===ni?t.memoizedState:ni.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Aa:Ea),e}function ki(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ci(e);if(e.$$typeof===m)return Is(e)}throw Error(a(438,String(e)))}function Si(e){var t=null,n=ei.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ei.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ei.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=S;return t.index++,n}function Ti(e,t){return"function"===typeof t?t(e):t}function Ii(e){return Ai(wi(),ti,e)}function Ai(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var l=s=null,c=null,u=t=o.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(rc&h)===h:(Zo&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Wo&&(d=!0);else{if((Zo&f)===f){u=u.next,f===Wo&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=i):c=c.next=h,ei.lanes|=f,dc|=f}h=u.action,ii&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=i):c=c.next=f,ei.lanes|=h,dc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=i:c.next=l,!Gn(i,e.memoizedState)&&(Ka=!0,d&&null!==(n=Qo)))throw n;e.memoizedState=i,e.baseState=s,e.baseQueue=c,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ei(e){var t=wi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);Gn(i,t.memoizedState)||(Ka=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function _i(e,t,n){var r=ei,o=wi(),i=$r;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Gn((ti||o).memoizedState,n);if(s&&(o.memoizedState=n,Ka=!0),o=o.queue,Zi(xi.bind(null,r,o,e),[e]),o.getSnapshot!==t||s||null!==ni&&1&ni.memoizedState.tag){if(r.flags|=2048,Gi(9,Ri.bind(null,r,o,n,t),{destroy:void 0},null),null===tc)throw Error(a(349));i||0!==(60&Zo)||Pi(r,t,n)}return n}function Pi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ei.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ei.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ri(e,t,n,r){t.value=n,t.getSnapshot=r,Ni(t)&&Oi(e)}function xi(e,t,n){return n((function(){Ni(t)&&Oi(e)}))}function Ni(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch(r){return!0}}function Oi(e){var t=Pr(e,2);null!==t&&Nc(t,e,2)}function Mi(e){var t=bi();if("function"===typeof e){var n=e;if(e=n(),ii){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:e},t}function Li(e,t,n,r){return e.baseState=n,Ai(e,ti,"function"===typeof r?r:Ti)}function qi(e,t,n,r,o){if(ka(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==R.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,Ui(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Ui(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=R.T,a={};R.T=a;try{var s=n(o,r),l=R.S;null!==l&&l(a,s),Hi(e,t,s)}catch(c){zi(e,t,c)}finally{R.T=i}}else try{Hi(e,t,i=n(o,r))}catch(u){zi(e,t,u)}}function Hi(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Fi(e,t,n)}),(function(n){return zi(e,t,n)})):Fi(e,t,n)}function Fi(e,t,n){t.status="fulfilled",t.value=n,Di(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ui(e,n)))}function zi(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Di(t),t=t.next}while(t!==r)}e.action=null}function Di(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ji(e,t){return t}function Bi(e,t){if($r){var n=tc.formState;if(null!==n){e:{var r=ei;if($r){if(Yr){t:{for(var o=Yr,i=Xr;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=sd(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){Yr=sd(o.nextSibling),r="F!"===o.data;break e}}eo(r)}r=!1}r&&(t=n[0])}}return(n=bi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},n.queue=r,n=ba.bind(null,ei,r),r.dispatch=n,r=Mi(!1),i=Ca.bind(null,ei,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=bi()).queue=o,n=qi.bind(null,ei,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ki(e){return Wi(wi(),ti,e)}function Wi(e,t,n){t=Ai(e,t,ji)[0],e=Ii(Ti)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?Ci(t):t;var r=wi(),o=r.queue,i=o.dispatch;return n!==r.memoizedState&&(ei.flags|=2048,Gi(9,Qi.bind(null,o,n),{destroy:void 0},null)),[t,i,e]}function Qi(e,t){e.action=t}function Vi(e){var t=wi(),n=ti;if(null!==n)return Wi(t,n,e);wi(),t=t.memoizedState;var r=(n=wi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Gi(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=ei.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ei.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Yi(){return wi().memoizedState}function $i(e,t,n,r){var o=bi();ei.flags|=e,o.memoizedState=Gi(1|t,n,{destroy:void 0},void 0===r?null:r)}function Ji(e,t,n,r){var o=wi();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==ti&&null!==r&&di(r,ti.memoizedState.deps)?o.memoizedState=Gi(t,n,i,r):(ei.flags|=e,o.memoizedState=Gi(1|t,n,i,r))}function Xi(e,t){$i(8390656,8,e,t)}function Zi(e,t){Ji(2048,8,e,t)}function ea(e,t){return Ji(4,2,e,t)}function ta(e,t){return Ji(4,4,e,t)}function na(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ra(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ji(4,4,na.bind(null,t,e),n)}function oa(){}function ia(e,t){var n=wi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&di(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function aa(e,t){var n=wi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&di(t,r[1]))return r[0];if(r=e(),ii){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function sa(e,t,n){return void 0===n||0!==(1073741824&Zo)?e.memoizedState=t:(e.memoizedState=n,e=xc(),ei.lanes|=e,dc|=e,n)}function la(e,t,n,r){return Gn(n,t)?n:null!==To.current?(e=sa(e,n,r),Gn(e,t)||(Ka=!0),e):0===(42&Zo)?(Ka=!0,e.memoizedState=n):(e=xc(),ei.lanes|=e,dc|=e,t)}function ca(e,t,n,r,o){var i=j.p;j.p=0!==i&&8>i?i:8;var a=R.T,s={};R.T=s,Ca(e,!1,t,n);try{var l=o(),c=R.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)wa(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Rc());else wa(e,t,r,Rc())}catch(u){wa(e,t,{then:function(){},status:"rejected",reason:u},Rc())}finally{j.p=i,R.T=a}}function ua(){}function da(e,t,n,r){if(5!==e.tag)throw Error(a(476));var o=ha(e).queue;ca(e,o,t,B,null===n?ua:function(){return fa(e),n(r)})}function ha(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:B},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function fa(e){wa(e,ha(e).next.queue,{},Rc())}function pa(){return Is(qd)}function ga(){return wi().memoizedState}function ma(){return wi().memoizedState}function va(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Rc(),r=Ns(t,e=xs(n),n);return null!==r&&(Nc(r,t,n),Os(r,t,n)),t={cache:Do()},void(e.payload=t)}t=t.return}}function ya(e,t,n){var r=Rc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ka(e)?Sa(t,n):null!==(n=_r(e,t,n,r))&&(Nc(n,e,r),Ta(n,t,r))}function ba(e,t,n){wa(e,t,n,Rc())}function wa(e,t,n,r){var o={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ka(e))Sa(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,Gn(s,a))return Er(e,t,o,0),null===tc&&Ar(),!1}catch(l){}if(null!==(n=_r(e,t,o,r)))return Nc(n,e,r),Ta(n,t,r),!0}return!1}function Ca(e,t,n,r){if(r={lane:2,revertLane:Cu(),action:r,hasEagerState:!1,eagerState:null,next:null},ka(e)){if(t)throw Error(a(479))}else null!==(t=_r(e,n,r,2))&&Nc(t,e,2)}function ka(e){var t=e.alternate;return e===ei||null!==t&&t===ei}function Sa(e,t){oi=ri=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ta(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Me(e,n)}}var Ia={readContext:Is,use:ki,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useLayoutEffect:ui,useInsertionEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useSyncExternalStore:ui,useId:ui};Ia.useCacheRefresh=ui,Ia.useMemoCache=ui,Ia.useHostTransitionStatus=ui,Ia.useFormState=ui,Ia.useActionState=ui,Ia.useOptimistic=ui;var Aa={readContext:Is,use:ki,useCallback:function(e,t){return bi().memoizedState=[e,void 0===t?null:t],e},useContext:Is,useEffect:Xi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,$i(4194308,4,na.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $i(4194308,4,e,t)},useInsertionEffect:function(e,t){$i(4,2,e,t)},useMemo:function(e,t){var n=bi();t=void 0===t?null:t;var r=e();if(ii){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=bi();if(void 0!==n){var o=n(t);if(ii){be(!0);try{n(t)}finally{be(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=ya.bind(null,ei,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bi().memoizedState=e},useState:function(e){var t=(e=Mi(e)).queue,n=ba.bind(null,ei,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:oa,useDeferredValue:function(e,t){return sa(bi(),e,t)},useTransition:function(){var e=Mi(!1);return e=ca.bind(null,ei,e.queue,!0,!1),bi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ei,o=bi();if($r){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===tc)throw Error(a(349));0!==(60&rc)||Pi(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Xi(xi.bind(null,r,i,e),[e]),r.flags|=2048,Gi(9,Ri.bind(null,r,i,n,t),{destroy:void 0},null),n},useId:function(){var e=bi(),t=tc.identifierPrefix;if($r){var n=Br;t=":"+t+"R"+(n=(jr&~(1<<32-we(jr)-1)).toString(32)+n),0<(n=ai++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ci++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return bi().memoizedState=va.bind(null,ei)}};Aa.useMemoCache=Si,Aa.useHostTransitionStatus=pa,Aa.useFormState=Bi,Aa.useActionState=Bi,Aa.useOptimistic=function(e){var t=bi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ca.bind(null,ei,!0,n),n.dispatch=t,[e,t]};var Ea={readContext:Is,use:ki,useCallback:ia,useContext:Is,useEffect:Zi,useImperativeHandle:ra,useInsertionEffect:ea,useLayoutEffect:ta,useMemo:aa,useReducer:Ii,useRef:Yi,useState:function(){return Ii(Ti)},useDebugValue:oa,useDeferredValue:function(e,t){return la(wi(),ti.memoizedState,e,t)},useTransition:function(){var e=Ii(Ti)[0],t=wi().memoizedState;return["boolean"===typeof e?e:Ci(e),t]},useSyncExternalStore:_i,useId:ga};Ea.useCacheRefresh=ma,Ea.useMemoCache=Si,Ea.useHostTransitionStatus=pa,Ea.useFormState=Ki,Ea.useActionState=Ki,Ea.useOptimistic=function(e,t){return Li(wi(),0,e,t)};var _a={readContext:Is,use:ki,useCallback:ia,useContext:Is,useEffect:Zi,useImperativeHandle:ra,useInsertionEffect:ea,useLayoutEffect:ta,useMemo:aa,useReducer:Ei,useRef:Yi,useState:function(){return Ei(Ti)},useDebugValue:oa,useDeferredValue:function(e,t){var n=wi();return null===ti?sa(n,e,t):la(n,ti.memoizedState,e,t)},useTransition:function(){var e=Ei(Ti)[0],t=wi().memoizedState;return["boolean"===typeof e?e:Ci(e),t]},useSyncExternalStore:_i,useId:ga};function Pa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:x({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}_a.useCacheRefresh=ma,_a.useMemoCache=Si,_a.useHostTransitionStatus=pa,_a.useFormState=Vi,_a.useActionState=Vi,_a.useOptimistic=function(e,t){var n=wi();return null!==ti?Li(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Ra={isMounted:function(e){return!!(e=e._reactInternals)&&U(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rc(),o=xs(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ns(e,o,r))&&(Nc(t,e,r),Os(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rc(),o=xs(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ns(e,o,r))&&(Nc(t,e,r),Os(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rc(),r=xs(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ns(e,r,n))&&(Nc(t,e,n),Os(t,e,n))}};function xa(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(o,i))}function Na(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ra.enqueueReplaceState(t,t.state,null)}function Oa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=x({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var Ma="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function La(e){Ma(e)}function qa(e){console.error(e)}function Ua(e){Ma(e)}function Ha(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Fa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function za(e,t,n){return(n=xs(n)).tag=3,n.payload={element:null},n.callback=function(){Ha(e,t)},n}function Da(e){return(e=xs(e)).tag=3,e}function ja(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){Fa(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Fa(t,n,r),"function"!==typeof o&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ba=Error(a(461)),Ka=!1;function Wa(e,t,n,r){t.child=null===e?So(t,null,n,r):ko(t,e.child,n,r)}function Qa(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Ts(t),r=hi(e,t,n,a,i,o),s=mi(),null===e||Ka?($r&&s&&Qr(t),t.flags|=1,Wa(e,t,r,o),t.child):(vi(e,t,o),hs(e,t,o))}function Va(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||ql(i)||void 0!==i.defaultProps||null!==n.compare?((e=Fl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ga(e,t,i,r,o))}if(i=e.child,!fs(e,o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(a,r)&&e.ref===t.ref)return hs(e,t,o)}return t.flags|=1,(e=Ul(i,r)).ref=t.ref,e.return=t,t.child=e}function Ga(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Yn(i,r)&&e.ref===t.ref){if(Ka=!1,t.pendingProps=r=i,!fs(e,o))return t.lanes=e.lanes,hs(e,t,o);0!==(131072&e.flags)&&(Ka=!0)}}return Xa(e,t,n,r,o)}function Ya(e,t,n){var r=t.pendingProps,o=r.children,i=0!==(2&t.stateNode._pendingVisibility),a=null!==e?e.memoizedState:null;if(Ja(e,t),"hidden"===r.mode||i){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(o=t.child=e.child,i=0;null!==o;)i=i|o.lanes|o.childLanes,o=o.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return $a(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,$a(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Jo(0,null!==a?a.cachePool:null),null!==a?Ao(t,a):Eo(),No(t)}else null!==a?(Jo(0,a.cachePool),Ao(t,a),Oo(),t.memoizedState=null):(null!==e&&Jo(0,null),Eo(),Oo());return Wa(e,t,o,n),t.child}function $a(e,t,n,r){var o=$o();return o=null===o?null:{parent:zo._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Jo(0,null),Eo(),No(t),null!==e&&ks(e,t,r,!0),null}function Ja(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Xa(e,t,n,r,o){return Ts(t),n=hi(e,t,n,r,void 0,o),r=mi(),null===e||Ka?($r&&r&&Qr(t),t.flags|=1,Wa(e,t,n,o),t.child):(vi(e,t,o),hs(e,t,o))}function Za(e,t,n,r,o,i){return Ts(t),t.updateQueue=null,n=pi(t,r,n,o),fi(e),r=mi(),null===e||Ka?($r&&r&&Qr(t),t.flags|=1,Wa(e,t,n,i),t.child):(vi(e,t,i),hs(e,t,i))}function es(e,t,n,r,o){if(Ts(t),null===t.stateNode){var i=Nr,a=n.contextType;"object"===typeof a&&null!==a&&(i=Is(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=Ra,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},Ps(t),a=n.contextType,i.context="object"===typeof a&&null!==a?Is(a):Nr,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(Pa(t,n,a,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&Ra.enqueueReplaceState(i,i.state,null),Us(t,r,i,o),qs(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var s=t.memoizedProps,l=Oa(n,s);i.props=l;var c=i.context,u=n.contextType;a=Nr,"object"===typeof u&&null!==u&&(a=Is(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s||c!==a)&&Na(t,i,r,a),_s=!1;var h=t.memoizedState;i.state=h,Us(t,r,i,o),qs(),c=t.memoizedState,s||h!==c||_s?("function"===typeof d&&(Pa(t,n,d,r),c=t.memoizedState),(l=_s||xa(t,n,l,r,h,c,a))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=a,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Rs(e,t),u=Oa(n,a=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Nr,"object"===typeof c&&null!==c&&(l=Is(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==d||h!==l)&&Na(t,i,r,l),_s=!1,h=t.memoizedState,i.state=h,Us(t,r,i,o),qs();var f=t.memoizedState;a!==d||h!==f||_s||null!==e&&null!==e.dependencies&&Ss(e.dependencies)?("function"===typeof s&&(Pa(t,n,s,r),f=t.memoizedState),(u=_s||xa(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ss(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Ja(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,n,o)):Wa(e,t,n,o),t.memoizedState=i.state,e=t.child):e=hs(e,t,o),e}function ts(e,t,n,r){return oo(),t.flags|=256,Wa(e,t,n,r),t.child}var ns={dehydrated:null,treeContext:null,retryLane:0};function rs(e){return{baseLanes:e,cachePool:Xo()}}function os(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=pc),e}function is(e,t,n){var r,o=t.pendingProps,i=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Lo.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if($r){if(i?xo(t):Oo(),$r){var l,c=Yr;if(l=c){e:{for(l=c,c=Xr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=sd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Dr?{id:jr,overflow:Br}:null,retryLane:536870912},(l=Ll(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Gr=t,Yr=null,l=!0):l=!1}l||eo(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Mo(t)}return c=o.children,o=o.fallback,i?(Oo(),c=ss({mode:"hidden",children:c},i=t.mode),o=zl(o,i,n,null),c.return=t,o.return=t,c.sibling=o,t.child=c,(i=t.child).memoizedState=rs(n),i.childLanes=os(e,r,n),t.memoizedState=ns,o):(xo(t),as(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(xo(t),t.flags&=-257,t=ls(e,t,n)):null!==t.memoizedState?(Oo(),t.child=e.child,t.flags|=128,t=null):(Oo(),i=o.fallback,c=t.mode,o=ss({mode:"visible",children:o.children},c),(i=zl(i,c,n,null)).flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,ko(t,e.child,null,n),(o=t.child).memoizedState=rs(n),o.childLanes=os(e,r,n),t.memoizedState=ns,t=i);else if(xo(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(a(419))).stack="",o.digest=r,io({value:o,source:null,stack:null}),t=ls(e,t,n)}else if(Ka||ks(e,t,n,!1),r=0!==(n&e.childLanes),Ka||r){if(null!==(r=tc)){if(0!==(42&(o=n&-n)))o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(0!==(o=0!==(o&(r.suspendedLanes|n))?0:o)&&o!==l.retryLane)throw l.retryLane=o,Pr(e,o),Nc(r,e,o),Ba}"$?"===c.data||Kc(),t=ls(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=su.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Yr=sd(c.nextSibling),Gr=t,$r=!0,Jr=null,Xr=!1,null!==e&&(Fr[zr++]=jr,Fr[zr++]=Br,Fr[zr++]=Dr,jr=e.id,Br=e.overflow,Dr=t),(t=as(t,o.children)).flags|=4096);return t}return i?(Oo(),i=o.fallback,c=t.mode,u=(l=e.child).sibling,(o=Ul(l,{mode:"hidden",children:o.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?i=Ul(u,i):(i=zl(i,c,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,null===(c=e.child.memoizedState)?c=rs(n):(null!==(l=c.cachePool)?(u=zo._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Xo(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=os(e,r,n),t.memoizedState=ns,o):(xo(t),e=(n=e.child).sibling,(n=Ul(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function as(e,t){return(t=ss({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ss(e,t){return Dl(e,t,0,null)}function ls(e,t,n){return ko(t,e.child,null,n),(e=as(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function cs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ws(e.return,t,n)}function us(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function ds(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Wa(e,t,r.children,n),0!==(2&(r=Lo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&cs(e,n,t);else if(19===e.tag)cs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(G(Lo,r),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===qo(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),us(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===qo(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}us(t,!0,n,null,i);break;case"together":us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),dc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ks(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ul(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ul(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function fs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ss(e))}function ps(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ka=!0;else{if(!fs(e,n)&&0===(128&t.flags))return Ka=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),ys(t,zo,e.memoizedState.cache),oo();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:ys(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(xo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?is(e,t,n):(xo(t),null!==(e=hs(e,t,n))?e.sibling:null);xo(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ks(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return ds(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),G(Lo,Lo.current),r)break;return null;case 22:case 23:return t.lanes=0,Ya(e,t,n);case 24:ys(t,zo,e.memoizedState.cache)}return hs(e,t,n)}(e,t,n);Ka=0!==(131072&e.flags)}else Ka=!1,$r&&0!==(1048576&t.flags)&&Wr(t,Hr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((o=r.$$typeof)===v){t.tag=11,t=Qa(null,t,r,e,n);break e}if(o===w){t.tag=14,t=Va(null,t,r,e,n);break e}}throw t=E(r)||r,Error(a(306,t,""))}ql(r)?(e=Oa(r,e),t.tag=1,t=es(null,t,r,e,n)):(t.tag=0,t=Xa(null,t,r,e,n))}return t;case 0:return Xa(e,t,t.type,t.pendingProps,n);case 1:return es(e,t,r=t.type,o=Oa(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(a(387));var i=t.pendingProps;r=(o=t.memoizedState).element,Rs(e,t),Us(t,i,null,n);var s=t.memoizedState;if(i=s.cache,ys(t,zo,i),i!==o.cache&&Cs(t,[zo],n,!0),qs(),i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=ts(e,t,i,n);break e}if(i!==r){io(r=Mr(Error(a(424)),t)),t=ts(e,t,i,n);break e}for(Yr=sd(t.stateNode.containerInfo.firstChild),Gr=t,$r=!0,Jr=null,Xr=!0,n=So(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(oo(),i===r){t=hs(e,t,n);break e}Wa(e,t,i,n)}t=t.child}return t;case 26:return Ja(e,t),null===e?(n=md(t.type,null,t.pendingProps,null))?t.memoizedState=n:$r||(n=t.type,e=t.pendingProps,(r=Yu(J.current).createElement(n))[He]=t,r[Fe]=e,Qu(r,n,e),Je(r),t.stateNode=r):t.memoizedState=md(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&$r&&(r=t.stateNode=cd(t.type,t.pendingProps,J.current),Gr=t,Xr=!0,Yr=sd(r.firstChild)),r=t.pendingProps.children,null!==e||$r?Wa(e,t,r,n):t.child=ko(t,null,r,n),Ja(e,t),t.child;case 5:return null===e&&$r&&((o=r=Yr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[We])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=sd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Xr))?(t.stateNode=r,Gr=t,Yr=sd(r.firstChild),Xr=!1,o=!0):o=!1),o||eo(t)),te(t),o=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,r=i.children,Xu(o,i)?r=null:null!==s&&Xu(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=hi(e,t,gi,null,null,n),qd._currentValue=o),Ja(e,t),Wa(e,t,r,n),t.child;case 6:return null===e&&$r&&((e=n=Yr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=sd(e.nextSibling)))return null}return e}(n,t.pendingProps,Xr))?(t.stateNode=n,Gr=t,Yr=null,e=!0):e=!1),e||eo(t)),null;case 13:return is(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):Wa(e,t,r,n),t.child;case 11:return Qa(e,t,t.type,t.pendingProps,n);case 7:return Wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Wa(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ys(t,t.type,r.value),Wa(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Ts(t),r=r(o=Is(o)),t.flags|=1,Wa(e,t,r,n),t.child;case 14:return Va(e,t,t.type,t.pendingProps,n);case 15:return Ga(e,t,t.type,t.pendingProps,n);case 19:return ds(e,t,n);case 22:return Ya(e,t,n);case 24:return Ts(t),r=Is(zo),null===e?(null===(o=$o())&&(o=tc,i=Do(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},Ps(t),ys(t,zo,o)):(0!==(e.lanes&n)&&(Rs(e,t),Us(t,null,null,n),qs()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),ys(t,zo,r)):(r=i.cache,ys(t,zo,r),r!==o.cache&&Cs(t,[zo],n,!0))),Wa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}var gs=Q(null),ms=null,vs=null;function ys(e,t,n){G(gs,t._currentValue),t._currentValue=n}function bs(e){e._currentValue=gs.current,V(gs)}function ws(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cs(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var s=o.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=o;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),ws(i.return,n,e),r||(s=null);break e}i=l.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(i=s.alternate)&&(i.lanes|=n),ws(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function ks(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(0!==(524288&o.flags))i=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=o.type;Gn(o.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(o===X.current){if(null===(s=o.alternate))throw Error(a(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(qd):e=[qd])}o=o.return}null!==e&&Cs(t,e,n,r),t.flags|=262144}function Ss(e){for(e=e.firstContext;null!==e;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ts(e){ms=e,vs=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Is(e){return Es(ms,e)}function As(e,t){return null===ms&&Ts(e),Es(e,t)}function Es(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vs){if(null===e)throw Error(a(308));vs=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vs=vs.next=t;return n}var _s=!1;function Ps(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ec)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=xr(e),Rr(e,null,n),t}return Er(e,r,t,n),xr(e)}function Os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Me(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ls=!1;function qs(){if(Ls){if(null!==Qo)throw Qo}}function Us(e,t,n,r){Ls=!1;var o=e.updateQueue;_s=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(a=0,u=c=l=null,s=i;;){var h=-536870913&s.lane,f=h!==s.lane;if(f?(rc&h)===h:(r&h)===h){0!==h&&h===Wo&&(Ls=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var p=e,g=s;h=t;var m=n;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(m,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(m,d,h):p)||void 0===h)break e;d=x({},d,h);break e;case 2:_s=!0}}null!==(h=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=o.callbacks)?o.callbacks=[h]:f.push(h))}else f={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(f=s).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===i&&(o.shared.lanes=0),dc|=a,e.lanes=a,e.memoizedState=d}}function Hs(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Fs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Hs(n[e],t)}function zs(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==o)}}catch(s){ru(t,t.return,s)}}function Ds(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,o=t;var l=n;try{s()}catch(c){ru(o,l,c)}}}r=r.next}while(r!==i)}}catch(c){ru(t,t.return,c)}}function js(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Fs(t,n)}catch(r){ru(e,e.return,r)}}}function Bs(e,t,n){n.props=Oa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ru(e,t,r)}}function Ks(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var o=r;break;default:o=r}"function"===typeof n?e.refCleanup=n(o):n.current=o}}catch(i){ru(e,t,i)}}function Ws(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(o){ru(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){ru(e,t,i)}else n.current=null}function Qs(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){ru(e,e.return,o)}}function Vs(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Ku(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":i=p;break;case"name":o=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&Ku(e,t,f,p,r,h)}}return void mt(e,s,l,c,u,d,i,o);case"select":for(i in p=s=l=f=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(i)||Ku(e,t,i,null,r,c)}for(o in r)if(i=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=i||null!=c))switch(o){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:i!==c&&Ku(e,t,o,i,r,c)}return t=l,n=s,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ku(e,t,l,null,r,o)}for(s in r)if(o=r[s],i=n[s],r.hasOwnProperty(s)&&(null!=o||null!=i))switch(s){case"value":f=o;break;case"defaultValue":p=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(a(91));break;default:o!==i&&Ku(e,t,s,o,r,i)}return void wt(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Ku(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Ku(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&Ku(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Ku(e,t,u,f,r,p)}return;default:if(At(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&Wu(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Wu(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&Ku(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Ku(e,t,h,f,r,p)}(r,e.type,n,t),r[Fe]=t}catch(o){ru(e,e.return,o)}}function Gs(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Ys(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Gs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function $s(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Bu));else if(4!==r&&27!==r&&null!==(e=e.child))for($s(e,t,n),e=e.sibling;null!==e;)$s(e,t,n),e=e.sibling}function Js(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Js(e,t,n),e=e.sibling;null!==e;)Js(e,t,n),e=e.sibling}var Xs=!1,Zs=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null,rl=!1;function ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:vl(e,n),4&r&&zs(5,n);break;case 1:if(vl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){ru(n,n.return,s)}else{var o=Oa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ru(n,n.return,l)}}64&r&&js(n),512&r&&Ks(n,n.return);break;case 3:if(vl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Fs(r,e)}catch(s){ru(n,n.return,s)}}break;case 26:vl(e,n),512&r&&Ks(n,n.return);break;case 27:case 5:vl(e,n),null===t&&4&r&&Qs(n),512&r&&Ks(n,n.return);break;case 12:default:vl(e,n);break;case 13:vl(e,n),4&r&&ul(e,n);break;case 22:if(!(o=null!==n.memoizedState||Xs)){t=null!==t&&null!==t.memoizedState||Zs;var i=Xs,a=Zs;Xs=o,(Zs=t)&&!a?bl(e,n,0!==(8772&n.subtreeFlags)):vl(e,n),Xs=i,Zs=a}512&r&&("manual"===n.memoizedProps.mode?Ks(n,n.return):Ws(n,n.return))}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var al=null,sl=!1;function ll(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(a){}switch(n.tag){case 26:Zs||Ws(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Zs||Ws(n,t);var r=al,o=sl;for(al=n.stateNode,ll(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);Qe(n),al=r,sl=o;break;case 5:Zs||Ws(n,t);case 6:o=al;var i=sl;if(al=null,ll(e,t,n),sl=i,null!==(al=o))if(sl)try{e=al,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(s){ru(n,t,s)}else try{al.removeChild(n.stateNode)}catch(s){ru(n,t,s)}break;case 18:null!==al&&(sl?(t=al,n=n.stateNode,8===t.nodeType?id(t.parentNode,n):1===t.nodeType&&id(t,n),gh(t)):id(al,n.stateNode));break;case 4:r=al,o=sl,al=n.stateNode.containerInfo,sl=!0,ll(e,t,n),al=r,sl=o;break;case 0:case 11:case 14:case 15:Zs||Ds(2,n,t),Zs||Ds(4,n,t),ll(e,t,n);break;case 1:Zs||(Ws(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&Bs(n,t,r)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:Zs||Ws(n,t),Zs=(r=Zs)||null!==n.memoizedState,ll(e,t,n),Zs=r;break;default:ll(e,t,n)}}function ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{gh(e)}catch(n){ru(t,t.return,n)}}function dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=lu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:case 5:al=l.stateNode,sl=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,sl=!0;break e}l=l.return}if(null===al)throw Error(a(160));cl(i,s,o),al=null,sl=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}var fl=null;function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hl(t,e),gl(e),4&r&&(Ds(3,e,e.return),zs(3,e),Ds(5,e,e.return));break;case 1:hl(t,e),gl(e),512&r&&(Zs||null===n||Ws(n,n.return)),64&r&&Xs&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=fl;if(hl(t,e),gl(e),512&r&&(Zs||null===n||Ws(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[We]||i[He]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),Qu(i,r,n),i[He]=e,Je(i),r=i;break e;case"link":var s=Ed("link","href",o).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((i=s[l]).getAttribute("href")===(null==n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}Qu(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(s=Ed("meta","content",o).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((i=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}Qu(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(a(468,r))}i[He]=e,Je(i),r=i}e.stateNode=r}else _d(o,e.type,e.stateNode);else e.stateNode=kd(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?_d(o,e.type,e.stateNode):kd(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Vs(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){o=e.stateNode,i=e.memoizedProps;try{for(var c=o.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[We]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||o.removeChild(c),c=u}for(var h=e.type,f=o.attributes;f.length;)o.removeAttributeNode(f[0]);Qu(o,h,i),o[He]=e,o[Fe]=i}catch(g){ru(e,e.return,g)}}case 5:if(hl(t,e),gl(e),512&r&&(Zs||null===n||Ws(n,n.return)),32&e.flags){o=e.stateNode;try{kt(o,"")}catch(g){ru(e,e.return,g)}}4&r&&null!=e.stateNode&&Vs(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(el=!0);break;case 6:if(hl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){ru(e,e.return,g)}}break;case 3:if(Ad=null,o=fl,fl=hd(t.containerInfo),hl(t,e),fl=o,gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{gh(t.containerInfo)}catch(g){ru(e,e.return,g)}el&&(el=!1,ml(e));break;case 4:r=fl,fl=hd(e.stateNode.containerInfo),hl(t,e),gl(e),fl=r;break;case 12:hl(t,e),gl(e);break;case 13:hl(t,e),gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 22:if(512&r&&(Zs||null===n||Ws(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Xs=(d=Xs)||c,Zs=(h=Zs)||u,hl(t,e),Zs=h,Xs=d,gl(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Xs||Zs,null===n||u||t||yl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(o=u.stateNode,c)"function"===typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{s=u.stateNode;var p=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;s.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(g){ru(u,u.return,g)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(g){ru(u,u.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,dl(e,n))));break;case 19:hl(t,e),gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 21:break;default:hl(t,e),gl(e)}}function gl(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Gs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 27:var o=r.stateNode;Js(e,Ys(e),o);break;case 5:var i=r.stateNode;32&r.flags&&(kt(i,""),r.flags&=-33),Js(e,Ys(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;$s(e,Ys(e),s);break;default:throw Error(a(161))}}}catch(l){ru(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ml(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;ml(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ol(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ds(4,t,t.return),yl(t);break;case 1:Ws(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&Bs(t,t.return,n),yl(t);break;case 26:case 27:case 5:Ws(t,t.return),yl(t);break;case 22:Ws(t,t.return),null===t.memoizedState&&yl(t);break;default:yl(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:bl(o,i,n),zs(4,i);break;case 1:if(bl(o,i,n),"function"===typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(c){ru(r,r.return,c)}if(null!==(o=(r=i).updateQueue)){var s=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)Hs(l[o],s)}catch(c){ru(r,r.return,c)}}n&&64&a&&js(i),Ks(i,i.return);break;case 26:case 27:case 5:bl(o,i,n),n&&null===r&&4&a&&Qs(i),Ks(i,i.return);break;case 12:default:bl(o,i,n);break;case 13:bl(o,i,n),n&&4&a&&ul(o,i);break;case 22:null===i.memoizedState&&bl(o,i,n),Ks(i,i.return)}t=t.sibling}}function wl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&jo(n))}function Cl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&jo(e))}function kl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t,n,r),t=t.sibling}function Sl(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:kl(e,t,n,r),2048&o&&zs(9,t);break;case 3:kl(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&jo(e)));break;case 12:if(2048&o){kl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,s=i.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ru(t,t.return,l)}}else kl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,null!==t.memoizedState?4&i._visibility?kl(e,t,n,r):Il(e,t):4&i._visibility?kl(e,t,n,r):(i._visibility|=4,Tl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&o&&wl(t.alternate,t);break;case 24:kl(e,t,n,r),2048&o&&Cl(t.alternate,t);break;default:kl(e,t,n,r)}}function Tl(e,t,n,r,o){for(o=o&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Tl(i,a,s,l,o),zs(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?4&u._visibility?Tl(i,a,s,l,o):Il(i,a):(u._visibility|=4,Tl(i,a,s,l,o)),o&&2048&c&&wl(a.alternate,a);break;case 24:Tl(i,a,s,l,o),o&&2048&c&&Cl(a.alternate,a);break;default:Tl(i,a,s,l,o)}t=t.sibling}}function Il(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:Il(n,r),2048&o&&wl(r.alternate,r);break;case 24:Il(n,r),2048&o&&Cl(r.alternate,r);break;default:Il(n,r)}t=t.sibling}}var Al=8192;function El(e){if(e.subtreeFlags&Al)for(e=e.child;null!==e;)_l(e),e=e.sibling}function _l(e){switch(e.tag){case 26:El(e),e.flags&Al&&null!==e.memoizedState&&function(e,t,n){if(null===Rd)throw Error(a(475));var r=Rd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var o=vd(n.href),i=e.querySelector(yd(o));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Nd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void Je(i);i=e.ownerDocument||e,n=bd(n),(o=ud.get(o))&&Td(n,o),Je(i=i.createElement("link"));var s=i;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Qu(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Nd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(fl,e.memoizedState,e.memoizedProps);break;case 5:default:El(e);break;case 3:case 4:var t=fl;fl=hd(e.stateNode.containerInfo),El(e),fl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Al,Al=16777216,El(e),Al=t):El(e))}}function Pl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Rl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Ol(r,e)}Pl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)xl(e),e=e.sibling}function xl(e){switch(e.tag){case 0:case 11:case 15:Rl(e),2048&e.flags&&Ds(9,e,e.return);break;case 3:case 12:default:Rl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Nl(e)):Rl(e)}}function Nl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Ol(r,e)}Pl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Ds(8,t,t.return),Nl(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Nl(t));break;default:Nl(t)}e=e.sibling}}function Ol(e,t){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:Ds(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:jo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nl=r;else e:for(n=e;null!==nl;){var o=(r=nl).sibling,i=r.return;if(il(r),r===n){nl=null;break e}if(null!==o){o.return=i,nl=o;break e}nl=i}}}function Ml(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ll(e,t,n,r){return new Ml(e,t,n,r)}function ql(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ul(e,t){var n=e.alternate;return null===n?((n=Ll(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Hl(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fl(e,t,n,r,o,i){var s=0;if(r=e,"function"===typeof e)ql(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Y.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return zl(n.children,o,i,t);case h:s=8,o|=24;break;case f:return(e=Ll(12,n,t,2|o)).elementType=f,e.lanes=i,e;case y:return(e=Ll(13,n,t,o)).elementType=y,e.lanes=i,e;case b:return(e=Ll(19,n,t,o)).elementType=b,e.lanes=i,e;case k:return Dl(n,o,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case m:s=10;break e;case g:s=9;break e;case v:s=11;break e;case w:s=14;break e;case C:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Ll(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function zl(e,t,n,r){return(e=Ll(7,e,r,t)).lanes=n,e}function Dl(e,t,n,r){(e=Ll(22,e,r,t)).elementType=k,e.lanes=n;var o={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=o._current;if(null===e)throw Error(a(456));if(0===(2&o._pendingVisibility)){var t=Pr(e,2);null!==t&&(o._pendingVisibility|=2,Nc(t,e,2))}},attach:function(){var e=o._current;if(null===e)throw Error(a(456));if(0!==(2&o._pendingVisibility)){var t=Pr(e,2);null!==t&&(o._pendingVisibility&=-3,Nc(t,e,2))}}};return e.stateNode=o,e}function jl(e,t,n){return(e=Ll(6,e,null,t)).lanes=n,e}function Bl(e,t,n){return(t=Ll(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kl(e){e.flags|=4}function Wl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Pd(t)){if(null!==(t=Po.current)&&((4194176&rc)===rc?null!==Ro:(62914560&rc)!==rc&&0===(536870912&rc)||t!==Ro))throw fo=lo,so;e.flags|=8192}}function Ql(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Re():536870912,e.lanes|=t,gc|=t)}function Vl(e,t){if(!$r)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=31457280&o.subtreeFlags,r|=31457280&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yl(e,t,n){var r=t.pendingProps;switch(Vr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Gl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bs(zo),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ro(t)?Kl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Jr&&(Mc(Jr),Jr=null))),Gl(t),null;case 26:return n=t.memoizedState,null===e?(Kl(t),null!==n?(Gl(t),Wl(t,n)):(Gl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Kl(t),Gl(t),Wl(t,n)):(Gl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Kl(t),Gl(t),t.flags&=-16777217),null;case 27:ne(t),n=J.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Kl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gl(t),null}e=Y.current,ro(t)?to(t):(e=cd(o,r,n),t.stateNode=e,Kl(t))}return Gl(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Kl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gl(t),null}if(e=Y.current,ro(t))to(t);else{switch(o=Yu(J.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?o.createElement(n,{is:r.is}):o.createElement(n)}}e[He]=t,e[Fe]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(Qu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Kl(t)}}return Gl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Kl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=J.current,ro(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=Gr))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[He]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ju(e.nodeValue,n)))||eo(t)}else(e=Yu(e).createTextNode(r))[He]=t,t.stateNode=e}return Gl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=ro(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[He]=t}else oo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gl(t),o=!1}else null!==Jr&&(Mc(Jr),Jr=null),o=!0;if(!o)return 256&t.flags?(Mo(t),t):(Mo(t),null)}if(Mo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Ql(t,t.updateQueue),Gl(t),null;case 4:return ee(),null===e&&Nu(t.stateNode.containerInfo),Gl(t),null;case 10:return bs(t.type),Gl(t),null;case 19:if(V(Lo),null===(o=t.memoizedState))return Gl(t),null;if(r=0!==(128&t.flags),null===(i=o.rendering))if(r)Vl(o,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=qo(e))){for(t.flags|=128,Vl(o,!1),e=i.updateQueue,t.updateQueue=e,Ql(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Hl(n,e),n=n.sibling;return G(Lo,1&Lo.current|2),t.child}e=e.sibling}null!==o.tail&&le()>wc&&(t.flags|=128,r=!0,Vl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=qo(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Ql(t,e),Vl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!i.alternate&&!$r)return Gl(t),null}else 2*le()-o.renderingStartTime>wc&&536870912!==n&&(t.flags|=128,r=!0,Vl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=o.last)?e.sibling=i:t.child=i,o.last=i)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=le(),t.sibling=null,e=Lo.current,G(Lo,r?1&e|2:1&e),t):(Gl(t),null);case 22:case 23:return Mo(t),_o(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Gl(t),6&t.subtreeFlags&&(t.flags|=8192)):Gl(t),null!==(n=t.updateQueue)&&Ql(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(Yo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bs(zo),Gl(t),null;case 25:return null}throw Error(a(156,t.tag))}function $l(e,t){switch(Vr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bs(zo),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Mo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));oo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(Lo),null;case 4:return ee(),null;case 10:return bs(t.type),null;case 22:case 23:return Mo(t),_o(),null!==e&&V(Yo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bs(zo),null;default:return null}}function Jl(e,t){switch(Vr(t),t.tag){case 3:bs(zo),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Mo(t);break;case 19:V(Lo);break;case 10:bs(t.type);break;case 22:case 23:Mo(t),_o(),null!==e&&V(Yo);break;case 24:bs(zo)}}var Xl={getCacheForType:function(e){var t=Is(zo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Zl="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,nc=null,rc=0,oc=0,ic=null,ac=!1,sc=!1,lc=!1,cc=0,uc=0,dc=0,hc=0,fc=0,pc=0,gc=0,mc=null,vc=null,yc=!1,bc=0,wc=1/0,Cc=null,kc=null,Sc=!1,Tc=null,Ic=0,Ac=0,Ec=null,_c=0,Pc=null;function Rc(){if(0!==(2&ec)&&0!==rc)return rc&-rc;if(null!==R.T){return 0!==Wo?Wo:Cu()}return qe()}function xc(){0===pc&&(pc=0===(536870912&rc)||$r?Pe():536870912);var e=Po.current;return null!==e&&(e.flags|=32),pc}function Nc(e,t,n){(e===tc&&2===oc||null!==e.cancelPendingCommit)&&(zc(e,0),Uc(e,rc,pc,!1)),Ne(e,n),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(hc|=n),4===uc&&Uc(e,rc,pc,!1)),gu(e))}function Oc(e,t,n){if(0!==(6&ec))throw Error(a(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ee(e,t),o=r?function(e,t){var n=ec;ec|=2;var r=jc(),o=Bc();tc!==e||rc!==t?(Cc=null,wc=le()+500,zc(e,t)):sc=Ee(e,t);e:for(;;)try{if(0!==oc&&null!==nc){t=nc;var i=ic;t:switch(oc){case 1:oc=0,ic=null,$c(e,t,i,1);break;case 2:if(co(i)){oc=0,ic=null,Yc(t);break}t=function(){2===oc&&tc===e&&(oc=7),gu(e)},i.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:co(i)?(oc=0,ic=null,Yc(t)):(oc=0,ic=null,$c(e,t,i,7));break;case 5:var s=null;switch(nc.tag){case 26:s=nc.memoizedState;case 5:case 27:var l=nc;if(!s||Pd(s)){oc=0,ic=null;var c=l.sibling;if(null!==c)nc=c;else{var u=l.return;null!==u?(nc=u,Jc(u)):nc=null}break t}}oc=0,ic=null,$c(e,t,i,5);break;case 6:oc=0,ic=null,$c(e,t,i,6);break;case 8:Fc(),uc=6;break e;default:throw Error(a(462))}}Vc();break}catch(d){Dc(e,d)}return vs=ms=null,R.H=r,R.A=o,ec=n,null!==nc?0:(tc=null,rc=0,Ar(),uc)}(e,t):Wc(e,t,!0),i=r;;){if(0===o){sc&&!r&&Uc(e,t,0,!1);break}if(6===o)Uc(e,t,0,!ac);else{if(n=e.current.alternate,i&&!qc(n)){o=Wc(e,t,!1),i=!1;continue}if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;o=mc;var c=l.current.memoizedState.isDehydrated;if(c&&(zc(l,s).flags|=256),2!==(s=Wc(l,s,!1))){if(lc&&!c){l.errorRecoveryDisabledLanes|=i,hc|=i,o=4;break e}i=vc,vc=o,null!==i&&Mc(i)}o=s}if(i=!1,2!==o)continue}}if(1===o){zc(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,o){case 0:case 1:throw Error(a(345));case 4:if((4194176&t)===t){Uc(r,t,pc,!ac);break e}break;case 2:vc=null;break;case 3:case 5:break;default:throw Error(a(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(i=bc+300-le())){if(Uc(r,t,pc,!ac),0!==Ae(r,0))break e;r.timeoutHandle=ed(Lc.bind(null,r,n,vc,Cc,yc,t,pc,hc,gc,ac,2,-0,0),i)}else Lc(r,n,vc,Cc,yc,t,pc,hc,gc,ac,0,-0,0)}}break}gu(e)}function Mc(e){null===vc?vc=e:vc.push.apply(vc,e)}function Lc(e,t,n,r,o,i,s,l,c,u,d,h,f){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(Rd={stylesheets:null,count:0,unsuspend:xd},_l(t),null!==(t=function(){if(null===Rd)throw Error(a(475));var e=Rd;return e.stylesheets&&0===e.count&&Md(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Md(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Zc.bind(null,e,n,r,o,s,l,c,1,h,f)),void Uc(e,i,s,!u);Zc(e,n,r,o,s,l,c,d,h,f)}function qc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Gn(i(),o))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~fc,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-we(o),a=1<<i;r[i]=-1,o&=~a}0!==n&&Oe(e,n,t)}function Hc(){return 0!==(6&ec)||(mu(0,!1),!1)}function Fc(){if(null!==nc){if(0===oc)var e=nc.return;else vs=ms=null,yi(e=nc),go=null,mo=0,e=nc;for(;null!==e;)Jl(e.alternate,e),e=e.return;nc=null}}function zc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,td(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Fc(),tc=e,nc=n=Ul(e.current,null),rc=t,oc=0,ic=null,ac=!1,sc=Ee(e,t),lc=!1,gc=pc=fc=hc=dc=uc=0,vc=mc=null,yc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-we(r),i=1<<o;t|=e[o],r&=~i}return cc=t,Ar(),n}function Dc(e,t){ei=null,R.H=Ia,t===ao?(t=po(),oc=3):t===so?(t=po(),oc=4):oc=t===Ba?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ic=t,null===nc&&(uc=1,Ha(e,Mr(t,e.current)))}function jc(){var e=R.H;return R.H=Ia,null===e?Ia:e}function Bc(){var e=R.A;return R.A=Xl,e}function Kc(){uc=4,ac||(4194176&rc)!==rc&&null!==Po.current||(sc=!0),0===(134217727&dc)&&0===(134217727&hc)||null===tc||Uc(tc,rc,pc,!1)}function Wc(e,t,n){var r=ec;ec|=2;var o=jc(),i=Bc();tc===e&&rc===t||(Cc=null,zc(e,t)),t=!1;var a=uc;e:for(;;)try{if(0!==oc&&null!==nc){var s=nc,l=ic;switch(oc){case 8:Fc(),a=6;break e;case 3:case 2:case 6:null===Po.current&&(t=!0);var c=oc;if(oc=0,ic=null,$c(e,s,l,c),n&&sc){a=0;break e}break;default:c=oc,oc=0,ic=null,$c(e,s,l,c)}}Qc(),a=uc;break}catch(u){Dc(e,u)}return t&&e.shellSuspendCounter++,vs=ms=null,ec=r,R.H=o,R.A=i,null===nc&&(tc=null,rc=0,Ar()),a}function Qc(){for(;null!==nc;)Gc(nc)}function Vc(){for(;null!==nc&&!ae();)Gc(nc)}function Gc(e){var t=ps(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?Jc(e):nc=t}function Yc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Za(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Za(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:yi(t);default:Jl(n,t),t=ps(n,t=nc=Hl(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?Jc(e):nc=t}function $c(e,t,n,r){vs=ms=null,yi(t),go=null,mo=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ks(t,n,o,!0),null!==(n=Po.current)){switch(n.tag){case 13:return null===Ro?Kc():null===n.alternate&&0===uc&&(uc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===lo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ou(e,r,o)),!1;case 22:return n.flags|=65536,r===lo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ou(e,r,o)),!1}throw Error(a(435,n.tag))}return ou(e,r,o),Kc(),!1}if($r)return null!==(t=Po.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==Zr&&io(Mr(e=Error(a(422),{cause:r}),n))):(r!==Zr&&io(Mr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Mr(r,n),Ms(e,o=za(e.stateNode,r,o)),4!==uc&&(uc=2)),!1;var i=Error(a(520),{cause:r});if(i=Mr(i,n),null===mc?mc=[i]:mc.push(i),4!==uc&&(uc=2),null===t)return!0;r=Mr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,Ms(n,e=za(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===kc||!kc.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,ja(o=Da(o),e,n,r),Ms(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,rc))return uc=1,Ha(e,Mr(n,e.current)),void(nc=null)}catch(i){if(null!==o)throw nc=o,i;return uc=1,Ha(e,Mr(n,e.current)),void(nc=null)}32768&t.flags?($r||1===r?e=!0:sc||0!==(536870912&rc)?e=!1:(ac=e=!0,(2===r||3===r||6===r)&&(null!==(r=Po.current)&&13===r.tag&&(r.flags|=16384))),Xc(t,e)):Jc(t)}function Jc(e){var t=e;do{if(0!==(32768&t.flags))return void Xc(t,ac);e=t.return;var n=Yl(t.alternate,t,cc);if(null!==n)return void(nc=n);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===uc&&(uc=5)}function Xc(e,t){do{var n=$l(e.alternate,e);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=n}while(null!==e);uc=6,nc=null}function Zc(e,t,n,r,o,i,s,l,c,u){var d=R.T,h=j.p;try{j.p=2,R.T=null,function(e,t,n,r,o,i,s,l){do{tu()}while(null!==Tc);if(0!==(6&ec))throw Error(a(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,o,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-we(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Oe(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,r,u|=Ir,i,s,l),e===tc&&(nc=tc=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||Sc||(Sc=!0,Ac=u,Ec=n,function(e,t){oe(e,t)}(he,(function(){return tu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=R.T,R.T=null,i=j.p,j.p=2,s=ec,ec|=4,function(e,t){if(e=e.containerInfo,Vu=Kd,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(m){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==o&&3!==h.nodeType||(l=s+o),h!==i||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===o&&(l=s),f===i&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gu={focusedElem:e,selectionRange:n},Kd=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(i=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var g=Oa(n.type,o,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(g,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){ru(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}g=rl,rl=!1}(e,c),pl(c,e),tr(Gu,e.containerInfo),Kd=!!Vu,Gu=Vu=null,e.current=c,ol(e,c.alternate,c),se(),ec=s,j.p=i,R.T=n):e.current=c,Sc?(Sc=!1,Tc=e,Ic=r):eu(e,u),u=e.pendingLanes,0===u&&(kc=null),function(e){if(ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),gu(e),null!==t)for(o=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],o(u.value,{componentStack:u.stack});0!==(3&Ic)&&tu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===Pc?_c++:(_c=0,Pc=e):_c=0,mu(0,!1)}(e,t,n,r,h,o,i,s)}finally{R.T=d,j.p=h}}function eu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,jo(t)))}function tu(){if(null!==Tc){var e=Tc,t=Ac;Ac=0;var n=Le(Ic),r=R.T,o=j.p;try{if(j.p=32>n?32:n,R.T=null,null===Tc)var i=!1;else{n=Ec,Ec=null;var s=Tc,l=Ic;if(Tc=null,Ic=0,0!==(6&ec))throw Error(a(331));var c=ec;if(ec|=4,xl(s.current),Sl(s,s.current,l,n),ec=c,mu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,s)}catch(u){}i=!0}return i}finally{j.p=o,R.T=r,eu(e,t)}}return!1}function nu(e,t,n){t=Mr(n,t),null!==(e=Ns(e,t=za(e.stateNode,t,2),2))&&(Ne(e,2),gu(e))}function ru(e,t,n){if(3===e.tag)nu(e,e,n);else for(;null!==t;){if(3===t.tag){nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=Mr(n,e),null!==(r=Ns(t,n=Da(2),2))&&(ja(n,r,t,e),Ne(r,2),gu(r));break}}t=t.return}}function ou(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Zl;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(lc=!0,o.add(n),e=iu.bind(null,e,t,n),t.then(e,e))}function iu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tc===e&&(rc&n)===n&&(4===uc||3===uc&&(62914560&rc)===rc&&300>le()-bc?0===(2&ec)&&zc(e,0):fc|=n,gc===rc&&(gc=0)),gu(e)}function au(e,t){0===t&&(t=Re()),null!==(e=Pr(e,t))&&(Ne(e,t),gu(e))}function su(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),au(e,n)}function lu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),au(e,n)}var cu=null,uu=null,du=!1,hu=!1,fu=!1,pu=0;function gu(e){var t;e!==uu&&null===e.next&&(null===uu?cu=uu=e:uu=uu.next=e),hu=!0,du||(du=!0,t=vu,rd((function(){0!==(6&ec)?oe(ue,t):t()})))}function mu(e,t){if(!fu&&hu){fu=!0;do{for(var n=!1,r=cu;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var a=r.suspendedLanes,s=r.pingedLanes;i=(1<<31-we(42|e)+1)-1,i=201326677&(i&=o&~(a&~s))?201326677&i|1:i?2|i:0}0!==i&&(n=!0,wu(r,i))}else i=rc,0===(3&(i=Ae(r,r===tc?i:0)))||Ee(r,i)||(n=!0,wu(r,i));r=r.next}}while(n);fu=!1}}function vu(){hu=du=!1;var e=0;0!==pu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zu&&(Zu=e,!0);return Zu=null,!1}()&&(e=pu),pu=0);for(var t=le(),n=null,r=cu;null!==r;){var o=r.next,i=yu(r,t);0===i?(r.next=null,null===n?cu=o:n.next=o,null===o&&(uu=n)):(n=r,(0!==e||0!==(3&i))&&(hu=!0)),r=o}mu(e,!1)}function yu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-we(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=_e(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}if(n=rc,n=Ae(e,e===(t=tc)?n:0),r=e.callbackNode,0===n||e===t&&2===oc||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ie(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ee(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ie(r),Le(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=bu.bind(null,e),n=oe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ie(r),e.callbackPriority=2,e.callbackNode=null,2}function bu(e,t){var n=e.callbackNode;if(tu()&&e.callbackNode!==n)return null;var r=rc;return 0===(r=Ae(e,e===tc?r:0))?null:(Oc(e,r,t),yu(e,le()),null!=e.callbackNode&&e.callbackNode===n?bu.bind(null,e):null)}function wu(e,t){if(tu())return null;Oc(e,t,!0)}function Cu(){return 0===pu&&(pu=Pe()),pu}function ku(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Su(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Tu=0;Tu<Cr.length;Tu++){var Iu=Cr[Tu];kr(Iu.toLowerCase(),"on"+(Iu[0].toUpperCase()+Iu.slice(1)))}kr(fr,"onAnimationEnd"),kr(pr,"onAnimationIteration"),kr(gr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(mr,"onTransitionRun"),kr(vr,"onTransitionStart"),kr(yr,"onTransitionCancel"),kr(br,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function _u(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=c;try{i(o)}catch(u){Ma(u)}o.currentTarget=null,i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=c;try{i(o)}catch(u){Ma(u)}o.currentTarget=null,i=l}}}}function Pu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(Ou(t,e,2,!1),n.add(r))}function Ru(e,t,n){var r=0;t&&(r|=4),Ou(n,e,r,t)}var xu="_reactListening"+Math.random().toString(36).slice(2);function Nu(e){if(!e[xu]){e[xu]=!0,Xe.forEach((function(t){"selectionchange"!==t&&(Eu.has(t)||Ru(t,!1,e),Ru(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[xu]||(t[xu]=!0,Ru("selectionchange",!1,t))}}function Ou(e,t,n,r){switch(Jd(t)){case 2:var o=Wd;break;case 8:o=Qd;break;default:o=Vd}n=o.bind(null,t,n,e),o=void 0,!Ht||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Mu(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=Ve(s)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=i=a;continue e}s=s.parentNode}}r=r.return}qt((function(){var r=i,o=xt(n),a=[];e:{var s=wr.get(e);if(void 0!==s){var l=Xt,c=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":l=pn;break;case"focusin":c="focus",l=on;break;case"focusout":c="blur",l=on;break;case"beforeblur":case"afterblur":l=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=mn;break;case fr:case pr:case gr:l=an;break;case br:l=vn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=yn;break;case"copy":case"cut":case"paste":l=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=gn;break;case"toggle":case"beforetoggle":l=bn}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var g=p;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===h||null!=(g=Ut(p,h))&&u.push(Lu(p,g,f)),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Rt||!(c=n.relatedTarget||n.fromElement)||!Ve(c)&&!c[ze])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ve(c):null)&&(d=U(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=gn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:Ye(l),f=null==c?s:Ye(c),(s=new u(g,p+"leave",l,n,o)).target=d,s.relatedTarget=f,g=null,Ve(o)===r&&((u=new u(h,p+"enter",c,n,o)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Uu(f))p++;for(f=0,g=h;g;g=Uu(g))f++;for(;0<p-f;)u=Uu(u),p--;for(;0<f-p;)h=Uu(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Uu(u),h=Uu(h)}u=null}else u=null;null!==l&&Hu(a,s,l,u,!1),null!==c&&null!==d&&Hu(a,d,c,u,!0)}if("select"===(l=(s=r?Ye(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Un;else if(xn(s))if(Hn)m=Vn;else{m=Wn;var v=Kn}else!(l=s.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&At(r.elementType)&&(m=Un):m=Qn;switch(m&&(m=m(e,r))?Nn(a,m,n,o):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&yt(s,"number",s.value)),v=r?Ye(r):window,e){case"focusin":(xn(v)||"true"===v.contentEditable)&&(rr=v,or=r,ir=null);break;case"focusout":ir=or=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,sr(a,n,o);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(a,n,o)}var y;if(Cn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Pn?En(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Tn&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Pn&&(y=Bt()):(Dt="value"in(zt=o)?zt.value:zt.textContent,Pn=!0)),0<(v=qu(r,b)).length&&(b=new ln(b,e,null,n,o),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=_n(n))&&(b.data=y))),(y=Sn?function(e,t){switch(e){case"compositionend":return _n(t);case"keypress":return 32!==t.which?null:(An=!0,In);case"textInput":return(e=t.data)===In&&An?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!Cn&&En(e,t)?(e=Bt(),jt=Dt=zt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=qu(r,"onBeforeInput")).length&&(v=new ln("onBeforeInput","beforeinput",null,n,o),a.push({event:v,listeners:b}),v.data=y)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=ku((o[Fe]||null).action),a=r.submitter;a&&null!==(t=(t=a[Fe]||null)?ku(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var s=new Xt("action","action",null,r,o);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==pu){var e=a?Su(o,a):new FormData(o);da(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"===typeof i&&(s.preventDefault(),e=a?Su(o,a):new FormData(o),da(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(a,e,r,n,o)}_u(a,t)}))}function Lu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Ut(e,n))&&r.unshift(Lu(e,o,i)),null!=(o=Ut(e,t))&&r.push(Lu(e,o,i))),e=e.return}return r}function Uu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Hu(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,o?null!=(c=Ut(n,i))&&a.unshift(Lu(n,c,l)):o||null!=(c=Ut(n,i))&&a.push(Lu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Fu=/\r\n?/g,zu=/\u0000|\uFFFD/g;function Du(e){return("string"===typeof e?e:""+e).replace(Fu,"\n").replace(zu,"")}function ju(e,t){return t=Du(t),Du(e)===t}function Bu(){}function Ku(e,t,n,r,o,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":st(e,"class",r);break;case"tabIndex":st(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":st(e,n,r);break;case"style":It(e,r,i);break;case"data":if("object"!==t){st(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Ku(e,t,"name",o.name,o,null),Ku(e,t,"formEncType",o.formEncType,o,null),Ku(e,t,"formMethod",o.formMethod,o,null),Ku(e,t,"formTarget",o.formTarget,o,null)):(Ku(e,t,"encType",o.encType,o,null),Ku(e,t,"method",o.method,o,null),Ku(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Bu);break;case"onScroll":null!=r&&Pu("scroll",e);break;case"onScrollEnd":null!=r&&Pu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Pu("beforetoggle",e),Pu("toggle",e),at(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":at(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&at(e,n=Et.get(n)||n,r)}}function Wu(e,t,n,r,o,i){switch(n){case"style":It(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Pu("scroll",e);break;case"onScrollEnd":null!=r&&Pu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Bu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Fe]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):at(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function Qu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pu("error",e),Pu("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ku(e,t,r,s,n,null)}}return i&&Ku(e,t,"srcSet",n.srcSet,n,null),void(o&&Ku(e,t,"src",n.src,n,null));case"input":Pu("invalid",e);var l=r=s=i=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":i=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Ku(e,t,o,d,n,null)}}return vt(e,r,l,c,u,s,i,!1),void dt(e);case"select":for(i in Pu("invalid",e),o=s=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:Ku(e,t,i,l,n,null)}return t=r,n=s,e.multiple=!!o,void(null!=t?bt(e,!!o,t,!1):null!=n&&bt(e,!!o,n,!0));case"textarea":for(s in Pu("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Ku(e,t,s,l,n,null)}return Ct(e,o,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else Ku(e,t,c,o,n,null);return;case"dialog":Pu("cancel",e),Pu("close",e);break;case"iframe":case"object":Pu("load",e);break;case"video":case"audio":for(o=0;o<Au.length;o++)Pu(Au[o],e);break;case"image":Pu("error",e),Pu("load",e);break;case"details":Pu("toggle",e);break;case"embed":case"source":case"link":Pu("error",e),Pu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ku(e,t,u,o,n,null)}return;default:if(At(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&Wu(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&Ku(e,t,l,o,n,null))}var Vu=null,Gu=null;function Yu(e){return 9===e.nodeType?e:e.ownerDocument}function $u(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ju(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Xu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zu=null;var ed="function"===typeof setTimeout?setTimeout:void 0,td="function"===typeof clearTimeout?clearTimeout:void 0,nd="function"===typeof Promise?Promise:void 0,rd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nd?function(e){return nd.resolve(null).then(e).catch(od)}:ed;function od(e){setTimeout((function(){throw e}))}function id(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void gh(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);gh(t)}function ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ad(n),Qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function sd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cd(e,t,n){switch(t=Yu(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}var ud=new Map,dd=new Set;function hd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var fd=j.d;j.d={f:function(){var e=fd.f(),t=Hc();return e||t},r:function(e){var t=Ge(e);null!==t&&5===t.tag&&"form"===t.type?fa(t):fd.r(e)},D:function(e){fd.D(e),gd("dns-prefetch",e,null)},C:function(e,t){fd.C(e,t),gd("preconnect",e,t)},L:function(e,t,n){fd.L(e,t,n);var r=pd;if(r&&e&&t){var o='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+gt(n.imageSizes)+'"]')):o+='[href="'+gt(e)+'"]';var i=o;switch(t){case"style":i=vd(e);break;case"script":i=wd(e)}ud.has(i)||(e=x({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ud.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(yd(i))||"script"===t&&r.querySelector(Cd(i))||(Qu(t=r.createElement("link"),"link",e),Je(t),r.head.appendChild(t)))}},m:function(e,t){fd.m(e,t);var n=pd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=wd(e)}if(!ud.has(i)&&(e=x({rel:"modulepreload",href:e},t),ud.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Cd(i)))return}Qu(r=n.createElement("link"),"link",e),Je(r),n.head.appendChild(r)}}},X:function(e,t){fd.X(e,t);var n=pd;if(n&&e){var r=$e(n).hoistableScripts,o=wd(e),i=r.get(o);i||((i=n.querySelector(Cd(o)))||(e=x({src:e,async:!0},t),(t=ud.get(o))&&Id(e,t),Je(i=n.createElement("script")),Qu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){fd.S(e,t,n);var r=pd;if(r&&e){var o=$e(r).hoistableStyles,i=vd(e);t=t||"default";var a=o.get(i);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(yd(i)))s.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ud.get(i))&&Td(e,n);var l=a=r.createElement("link");Je(l),Qu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,Sd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},o.set(i,a)}}},M:function(e,t){fd.M(e,t);var n=pd;if(n&&e){var r=$e(n).hoistableScripts,o=wd(e),i=r.get(o);i||((i=n.querySelector(Cd(o)))||(e=x({src:e,async:!0,type:"module"},t),(t=ud.get(o))&&Id(e,t),Je(i=n.createElement("script")),Qu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var pd="undefined"===typeof document?null:document;function gd(e,t,n){var r=pd;if(r&&"string"===typeof t&&t){var o=gt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),dd.has(o)||(dd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(Qu(t=r.createElement("link"),"link",e),Je(t),r.head.appendChild(t)))}}function md(e,t,n,r){var o,i,s,l,c=(c=J.current)?hd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=vd(n.href),(r=(n=$e(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=vd(n.href);var u=$e(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(yd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ud.set(e,n),u||(o=c,i=e,s=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=o.createElement("link"),l.preload=i,i.addEventListener("load",(function(){return l.loading|=1})),i.addEventListener("error",(function(){return l.loading|=2})),Qu(i,"link",s),Je(i),o.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=wd(n),(r=(n=$e(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function vd(e){return'href="'+gt(e)+'"'}function yd(e){return'link[rel="stylesheet"]['+e+"]"}function bd(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function wd(e){return'[src="'+gt(e)+'"]'}function Cd(e){return"script[async]"+e}function kd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,Je(r),r;var o=x({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Je(r=(e.ownerDocument||e).createElement("style")),Qu(r,"style",o),Sd(r,n.precedence,e),t.instance=r;case"stylesheet":o=vd(n.href);var i=e.querySelector(yd(o));if(i)return t.state.loading|=4,t.instance=i,Je(i),i;r=bd(n),(o=ud.get(o))&&Td(r,o),Je(i=(e.ownerDocument||e).createElement("link"));var s=i;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Qu(i,"link",r),t.state.loading|=4,Sd(i,n.precedence,e),t.instance=i;case"script":return i=wd(n.src),(o=e.querySelector(Cd(i)))?(t.instance=o,Je(o),o):(r=n,(o=ud.get(i))&&Id(r=x({},n),o),Je(o=(e=e.ownerDocument||e).createElement("script")),Qu(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Sd(r,n.precedence,e));return t.instance}function Sd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)i=s;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Td(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Id(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ad=null;function Ed(e,t,n){if(null===Ad){var r=new Map,o=Ad=new Map;o.set(n,r)}else(r=(o=Ad).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[We]||i[He]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(i):r.set(a,[i])}}return r}function _d(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Pd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Rd=null;function xd(){}function Nd(){if(this.count--,0===this.count)if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Od=null;function Md(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Od=new Map,t.forEach(Ld,e),Od=null,Nd.call(e))}function Ld(e,t){if(!(4&t.state.loading)){var n=Od.get(e);if(n)var r=n.get(null);else{n=new Map,Od.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var a=o[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(o=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,o),n.set(a,o),this.count++,r=Nd.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var qd={$$typeof:m,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function Ud(e,t,n,r,o,i,a,s){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xe(0),this.hiddenUpdates=xe(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Hd(e,t,n,r,o,i,a,s,l,c,u,d){return e=new Ud(e,t,n,a,s,l,c,d),t=1,!0===i&&(t|=24),i=Ll(3,null,null,t),e.current=i,i.stateNode=e,(t=Do()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},Ps(i),e}function Fd(e){return e?e=Nr:Nr}function zd(e,t,n,r,o,i){o=Fd(o),null===r.context?r.context=o:r.pendingContext=o,(r=xs(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=Ns(e,r,t))&&(Nc(n,0,t),Os(n,e,t))}function Dd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function jd(e,t){Dd(e,t),(e=e.alternate)&&Dd(e,t)}function Bd(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&Nc(t,0,67108864),jd(e,67108864)}}var Kd=!0;function Wd(e,t,n,r){var o=R.T;R.T=null;var i=j.p;try{j.p=2,Vd(e,t,n,r)}finally{j.p=i,R.T=o}}function Qd(e,t,n,r){var o=R.T;R.T=null;var i=j.p;try{j.p=8,Vd(e,t,n,r)}finally{j.p=i,R.T=o}}function Vd(e,t,n,r){if(Kd){var o=Gd(r);if(null===o)Mu(e,t,r,Yd,n),ah(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Zd=sh(Zd,e,t,n,r,o),!0;case"dragenter":return eh=sh(eh,e,t,n,r,o),!0;case"mouseover":return th=sh(th,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return nh.set(i,sh(nh.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,rh.set(i,sh(rh.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(ah(e,r),4&t&&-1<ih.indexOf(e)){for(;null!==o;){var i=Ge(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=Ie(i.pendingLanes);if(0!==a){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-we(a);s.entanglements[1]|=l,a&=~l}gu(i),0===(6&ec)&&(wc=le()+500,mu(0,!1))}}break;case 13:null!==(s=Pr(i,2))&&Nc(s,0,2),Hc(),jd(i,2)}if(null===(i=Gd(r))&&Mu(e,t,r,Yd,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Mu(e,t,r,null,n)}}function Gd(e){return $d(e=xt(e))}var Yd=null;function $d(e){if(Yd=null,null!==(e=Ve(e))){var t=U(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=H(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Yd=e,null}function Jd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Xd=!1,Zd=null,eh=null,th=null,nh=new Map,rh=new Map,oh=[],ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ah(e,t){switch(e){case"focusin":case"focusout":Zd=null;break;case"dragenter":case"dragleave":eh=null;break;case"mouseover":case"mouseout":th=null;break;case"pointerover":case"pointerout":nh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(t.pointerId)}}function sh(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=Ge(t))&&Bd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function lh(e){var t=Ve(e.target);if(null!==t){var n=U(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=H(n)))return e.blockedOn=t,void function(e,t){var n=j.p;try{return j.p=e,t()}finally{j.p=n}}(e.priority,(function(){if(13===n.tag){var e=Rc(),t=Pr(n,e);null!==t&&Nc(t,0,e),jd(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ch(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gd(e.nativeEvent);if(null!==n)return null!==(t=Ge(n))&&Bd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function uh(e,t,n){ch(e)&&n.delete(t)}function dh(){Xd=!1,null!==Zd&&ch(Zd)&&(Zd=null),null!==eh&&ch(eh)&&(eh=null),null!==th&&ch(th)&&(th=null),nh.forEach(uh),rh.forEach(uh)}function hh(e,t){e.blockedOn===t&&(e.blockedOn=null,Xd||(Xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dh)))}var fh=null;function ph(e){fh!==e&&(fh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){fh===e&&(fh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===$d(r||n))continue;break}var i=Ge(n);null!==i&&(e.splice(t,3),t-=3,da(i,{pending:!0,data:o,method:n.method,action:r},r,o))}})))}function gh(e){function t(t){return hh(t,e)}null!==Zd&&hh(Zd,e),null!==eh&&hh(eh,e),null!==th&&hh(th,e),nh.forEach(t),rh.forEach(t);for(var n=0;n<oh.length;n++){var r=oh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<oh.length&&null===(n=oh[0]).blockedOn;)lh(n),null===n.blockedOn&&oh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],a=o[Fe]||null;if("function"===typeof i)a||ph(n);else if(a){var s=null;if(i&&i.hasAttribute("formAction")){if(o=i,a=i[Fe]||null)s=a.formAction;else if(null!==$d(o))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),ph(n)}}}function mh(e){this._internalRoot=e}function vh(e){this._internalRoot=e}vh.prototype.render=mh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));zd(t.current,Rc(),e,t,null,null)},vh.prototype.unmount=mh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tu(),zd(e.current,2,null,e,null,null),Hc(),t[ze]=null}},vh.prototype.unstable_scheduleHydration=function(e){if(e){var t=qe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oh.length&&0!==t&&t<oh[n].priority;n++);oh.splice(n,0,e),0===n&&lh(e)}};var yh=o.version;if("19.0.0"!==yh)throw Error(a(527,yh,"19.0.0"));j.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=U(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return F(o),e;if(i===r)return F(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?z(e):null)?null:e.stateNode};var bh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Ve,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{ve=wh.inject(bh),ye=wh}catch(kh){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",o=La,i=qa,l=Ua;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Hd(e,1,!1,null,0,n,r,o,i,l,0,null),e[ze]=t.current,Nu(8===e.nodeType?e.parentNode:e),new mh(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,o="",i=La,l=qa,c=Ua,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Hd(e,1,!0,t,0,r,o,i,l,c,0,u)).context=Fd(null),n=t.current,(o=xs(r=Rc())).callback=null,Ns(n,o,r),t.current.lanes=r,Ne(t,r),gu(t),e[ze]=t.current,Nu(e),new vh(t)},t.version="19.0.0"},672:(e,t,n)=>{var r=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},358:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var C=Array.isArray,k={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function T(e,t,r,o,i,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(){}function P(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return P((u=e._init)(e._payload),t,o,i,a)}}if(u)return a=a(e),u=""===i?"."+E(e,0):i,C(a)?(o="",null!=u&&(o=u.replace(A,"$&/")+"/"),P(a,t,o,"",(function(e){return e}))):null!=a&&(I(a)&&(l=a,c=o+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+u,a=T(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,p=""===i?".":i+":";if(C(e))for(var g=0;g<e.length;g++)u+=P(i=e[g],t,o,s=p+E(i,g),a);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(i=e.next()).done;)u+=P(i=i.value,t,o,s=p+E(i,g++),a);else if("object"===s){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function R(e,t,n){if(null==e)return e;var r=[],o=0;return P(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function x(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(o=""+t.key),t)!S.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),s=0;s<i;s++)a[s]=arguments[s+2];r.children=a}return T(e.type,o,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];o.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===o[r]&&(o[r]=a[r]);return T(e,i,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),o=k.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(O,N)}catch(i){N(i)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.0.0"},43:(e,t,n)=>{e.exports=n(288)},579:(e,t,n)=>{e.exports=n(799)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function C(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,x();else{var t=r(u);null!==t&&N(C,t.startTime-e)}}var k,S=!1,T=-1,I=5,A=-1;function E(){return!(t.unstable_now()-A<I)}function _(){if(S){var e=t.unstable_now();A=e;var n=!0;try{e:{g=!1,m&&(m=!1,y(T),T=-1),p=!0;var i=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&E());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,w(e),n=!0;break t}h===r(c)&&o(c),w(e)}else o(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&N(C,l.startTime-e),n=!1}}break e}finally{h=null,f=i,p=!1}n=void 0}}finally{n?k():S=!1}}}if("function"===typeof b)k=function(){b(_)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=_,k=function(){R.postMessage(null)}}else k=function(){v(_,0)};function x(){S||(S=!0,k())}function N(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,x())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(m?(y(T),T=-1):m=!0,N(C,i-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,x())),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(896)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".90f3fc84.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="bookstore-web:";n.l=(r,o,i,a)=>{if(e[r])e[r].push(o);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=i);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,i,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)l(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkbookstore_web=self.webpackChunkbookstore_web||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),o=n(391);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},d=400,h=499,f=500,p=599,g=[u.OPENID_SCOPE,u.PROFILE_SCOPE,u.OFFLINE_ACCESS_SCOPE],m=[...g,u.EMAIL_SCOPE],v="Content-Type",y="Content-Length",b="Retry-After",w="X-AnchorMailbox",C="x-ms-request-id",k="x-ms-httpver",S="active-account-filters",T="common",I="organizations",A="consumers",E="access_token",_="xms_cc",P={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},R={PLAIN:"plain",S256:"S256"},x={QUERY:"query",FRAGMENT:"fragment"},N=c(c({},x),{},{FORM_POST:"form_post"}),O="authorization_code",M="refresh_token",L="MSSTS",q="ADFS",U="Generic",H="-",F=".",z={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},D="appmetadata",j="1",B="authority-metadata",K=86400,W="config",Q="cache",V="network",G="hardcoded_values",Y={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},$={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},J=60,X=3600,Z="throttling",ee="retry-after, h429",te="invalid_grant",ne="client_mismatch",re="username",oe="password",ie=200,ae=400,se="1",le="3",ce="4",ue="2",de="4",he="5",fe="0",pe="1",ge="2",me="3",ve="4",ye="pop";var be;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(be||(be={}));class we{constructor(e,t,n){this.level=be.Info;const r=e||we.createDefaultLoggerOptions();this.localCallback=r.loggerCallback||(()=>{}),this.piiLoggingEnabled=r.piiLoggingEnabled||!1,this.level="number"===typeof r.logLevel?r.logLevel:be.Info,this.correlationId=r.correlationId||u.EMPTY_STRING,this.packageName=t||u.EMPTY_STRING,this.packageVersion=n||u.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:be.Info}}clone(e,t,n){return new we({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const n=(new Date).toUTCString(),r="[".concat(n,"] : [").concat(t.correlationId||this.correlationId||"","]"),o="".concat(r," : ").concat(this.packageName,"@").concat(this.packageVersion," : ").concat(be[t.logLevel]," - ").concat(e);this.executeCallback(t.logLevel,o,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:be.Error,containsPii:!1,correlationId:t||u.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:be.Error,containsPii:!0,correlationId:t||u.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:be.Warning,containsPii:!1,correlationId:t||u.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:be.Warning,containsPii:!0,correlationId:t||u.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:be.Info,containsPii:!1,correlationId:t||u.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:be.Info,containsPii:!0,correlationId:t||u.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:be.Verbose,containsPii:!1,correlationId:t||u.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:be.Verbose,containsPii:!0,correlationId:t||u.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:be.Trace,containsPii:!1,correlationId:t||u.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:be.Trace,containsPii:!0,correlationId:t||u.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const Ce="AAD",ke="OIDC",Se="none",Te="unexpected_error",Ie="post_request_failed",Ae={[Te]:"Unexpected error in authentication.",[Ie]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Ee extends Error{constructor(e,t,n){super(t?"".concat(e,": ").concat(t):e),Object.setPrototypeOf(this,Ee.prototype),this.errorCode=e||u.EMPTY_STRING,this.errorMessage=t||u.EMPTY_STRING,this.subError=n||u.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function _e(e,t){return new Ee(e,t?"".concat(Ae[e]," ").concat(t):Ae[e])}const Pe="client_info_decoding_error",Re="client_info_empty_error",xe="token_parsing_error",Ne="null_or_empty_token",Oe="endpoints_resolution_error",Me="network_error",Le="openid_config_error",qe="hash_not_deserialized",Ue="invalid_state",He="state_mismatch",Fe="state_not_found",ze="nonce_mismatch",De="auth_time_not_found",je="max_age_transpired",Be="multiple_matching_tokens",Ke="multiple_matching_accounts",We="multiple_matching_appMetadata",Qe="request_cannot_be_made",Ve="cannot_remove_empty_scope",Ge="cannot_append_scopeset",Ye="empty_input_scopeset",$e="device_code_polling_cancelled",Je="device_code_expired",Xe="device_code_unknown_error",Ze="no_account_in_silent_request",et="invalid_cache_record",tt="invalid_cache_environment",nt="no_account_found",rt="no_crypto_object",ot="unexpected_credential_type",it="invalid_assertion",at="invalid_client_credential",st="token_refresh_required",lt="user_timeout_reached",ct="token_claims_cnf_required_for_signedjwt",ut="authorization_code_missing_from_server_response",dt="binding_key_not_removed",ht="end_session_endpoint_not_supported",ft="key_id_missing",pt="no_network_connectivity",gt="user_canceled",mt="missing_tenant_id_error",vt="method_not_implemented",yt="nested_app_auth_bridge_disabled",bt={[Pe]:"The client info could not be parsed/decoded correctly",[Re]:"The client info was empty",[xe]:"Token cannot be parsed",[Ne]:"The token is null or empty",[Oe]:"Endpoints cannot be resolved",[Me]:"Network request failed",[Le]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[qe]:"The hash parameters could not be deserialized",[Ue]:"State was not the expected format",[He]:"State mismatch error",[Fe]:"State not found",[ze]:"Nonce mismatch error",[De]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[je]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[Be]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[Ke]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[We]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Qe]:"Token request cannot be made without authorization code or refresh token.",[Ve]:"Cannot remove null or empty scope from ScopeSet",[Ge]:"Cannot append ScopeSet",[Ye]:"Empty input ScopeSet cannot be processed",[$e]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[Je]:"Device code is expired.",[Xe]:"Device code stopped polling for unknown reasons.",[Ze]:"Please pass an account object, silent flow is not supported without account information",[et]:"Cache record object was null or undefined.",[tt]:"Invalid environment when attempting to create cache entry",[nt]:"No account found in cache for given key.",[rt]:"No crypto object detected.",[ot]:"Unexpected credential type.",[it]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[at]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[st]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[lt]:"User defined timeout for device code polling reached",[ct]:"Cannot generate a POP jwt if the token_claims are not populated",[ut]:"Server response does not contain an authorization code to proceed",[dt]:"Could not remove the credential's binding key from storage.",[ht]:"The provided authority does not support logout",[ft]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[pt]:"No network connectivity. Check your internet connection.",[gt]:"User cancelled the flow.",[mt]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[vt]:"This method has not been implemented",[yt]:"The nested app auth bridge is disabled"};class wt extends Ee{constructor(e,t){super(e,t?"".concat(bt[e],": ").concat(t):bt[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,wt.prototype)}}function Ct(e,t){return new wt(e,t)}const kt={createNewGuid:()=>{throw Ct(vt)},base64Decode:()=>{throw Ct(vt)},base64Encode:()=>{throw Ct(vt)},base64UrlEncode:()=>{throw Ct(vt)},encodeKid:()=>{throw Ct(vt)},async getPublicKeyThumbprint(){throw Ct(vt)},async removeTokenBindingKey(){throw Ct(vt)},async clearKeystore(){throw Ct(vt)},async signJwt(){throw Ct(vt)},async hashString(){throw Ct(vt)}},St="@azure/msal-common",Tt="15.1.1";function It(e,t){const n=function(e){if(!e)throw Ct(Ne);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw Ct(xe);return t[2]}(e);try{const e=t(n);return JSON.parse(e)}catch(r){throw Ct(xe)}}function At(e,t){if(0===t||Date.now()-3e5>e+t)throw Ct(je)}function Et(){return Math.round((new Date).getTime()/1e3)}function _t(e,t){const n=Number(e)||0;return Et()+t>n}function Pt(e){return[Mt(e),Lt(e),qt(e),Ut(e),Ht(e)].join(H).toLowerCase()}function Rt(e,t,n,r,o){return{credentialType:z.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:o}}function xt(e,t,n,r,o,i,a,s,l,c,u,d,h,f,p){var g,m;const v={homeAccountId:e,credentialType:z.ACCESS_TOKEN,secret:n,cachedAt:Et().toString(),expiresOn:a.toString(),extendedExpiresOn:s.toString(),environment:t,clientId:r,realm:o,target:i,tokenType:u||$.BEARER};if(d&&(v.userAssertionHash=d),c&&(v.refreshOn=c.toString()),f&&(v.requestedClaims=f,v.requestedClaimsHash=p),(null===(g=v.tokenType)||void 0===g?void 0:g.toLowerCase())!==$.BEARER.toLowerCase())switch(v.credentialType=z.ACCESS_TOKEN_WITH_AUTH_SCHEME,v.tokenType){case $.POP:const e=It(n,l);if(null===e||void 0===e||null===(m=e.cnf)||void 0===m||!m.kid)throw Ct(ct);v.keyId=e.cnf.kid;break;case $.SSH:v.keyId=h}return v}function Nt(e,t,n,r,o,i,a){const s={credentialType:z.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return i&&(s.userAssertionHash=i),o&&(s.familyId=o),a&&(s.expiresOn=a.toString()),s}function Ot(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function Mt(e){return[e.homeAccountId,e.environment].join(H).toLowerCase()}function Lt(e){const t=e.credentialType===z.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(H).toLowerCase()}function qt(e){return(e.target||"").toLowerCase()}function Ut(e){return(e.requestedClaimsHash||"").toLowerCase()}function Ht(e){return e.tokenType&&e.tokenType.toLowerCase()!==$.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function Ft(){return Et()+K}function zt(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function Dt(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function jt(e){return e.expiresAt<=Et()}const Bt="redirect_uri_empty",Kt="claims_request_parsing_error",Wt="authority_uri_insecure",Qt="url_parse_error",Vt="empty_url_error",Gt="empty_input_scopes_error",Yt="invalid_prompt_value",$t="invalid_claims",Jt="token_request_empty",Xt="logout_request_empty",Zt="invalid_code_challenge_method",en="pkce_params_missing",tn="invalid_cloud_discovery_metadata",nn="invalid_authority_metadata",rn="untrusted_authority",on="missing_ssh_jwk",an="missing_ssh_kid",sn="missing_nonce_authentication_header",ln="invalid_authentication_header",cn="cannot_set_OIDCOptions",un="cannot_allow_platform_broker",dn="authority_mismatch",hn={[Bt]:"A redirect URI is required for all calls, and none has been set.",[Kt]:"Could not parse the given claims request object.",[Wt]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Qt]:"URL could not be parsed into appropriate segments.",[Vt]:"URL was empty or null.",[Gt]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Yt]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[$t]:"Given claims parameter must be a stringified JSON object.",[Jt]:"Token request was empty and not found in cache.",[Xt]:"The logout request was null or undefined.",[Zt]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[en]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[tn]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[nn]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[rn]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[on]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[an]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[sn]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[ln]:"Invalid authentication header provided",[cn]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[un]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[dn]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class fn extends Ee{constructor(e){super(e,hn[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,fn.prototype)}}function pn(e){return new fn(e)}class gn{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(t){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach((e=>{if(e.trim()){const[n,o]=e.split(/=(.+)/g,2);n&&o&&(t[r(n)]=r(o))}})),t}static trimArrayEntries(e){return e.map((e=>e.trim()))}static removeEmptyStringsFromArray(e){return e.filter((e=>!!e))}static jsonParseHelper(e){try{return JSON.parse(e)}catch(t){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class mn{constructor(e){const t=e?gn.trimArrayEntries([...e]):[],n=t?gn.removeEmptyStringsFromArray(t):[];if(!n||!n.length)throw pn(Gt);this.scopes=new Set,n.forEach((e=>this.scopes.add(e)))}static fromString(e){const t=(e||u.EMPTY_STRING).split(" ");return new mn(t)}static createSearchScopes(e){const t=new mn(e);return t.containsOnlyOIDCScopes()?t.removeScope(u.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new mn(t);return!!e&&n.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((e=>this.containsScope(e))))}containsOnlyOIDCScopes(){let e=0;return m.forEach((t=>{this.containsScope(t)&&(e+=1)})),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach((e=>this.appendScope(e)))}catch(t){throw Ct(Ge)}}removeScope(e){if(!e)throw Ct(Ve);this.scopes.delete(e.trim())}removeOIDCScopes(){m.forEach((e=>{this.scopes.delete(e)}))}unionScopeSets(e){if(!e)throw Ct(Ye);const t=new Set;return e.scopes.forEach((e=>t.add(e.toLowerCase()))),this.scopes.forEach((e=>t.add(e.toLowerCase()))),t}intersectingScopeSets(e){if(!e)throw Ct(Ye);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach((t=>e.push(t))),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return u.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function vn(e,t){if(!e)throw Ct(Re);try{const n=t(e);return JSON.parse(n)}catch(n){throw Ct(Pe)}}function yn(e){if(!e)throw Ct(Pe);const t=e.split(F,2);return{uid:t[0],utid:t.length<2?u.EMPTY_STRING:t[1]}}function bn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const wn=["isHomeTenant"],Cn=["isHomeTenant"];function kn(e,t){return!!e&&!!t&&e===t.split(".")[1]}function Sn(e,t,n,r){if(r){const{oid:t,sub:n,tid:o,name:i,tfp:a,acr:s}=r,l=o||a||s||"";return{tenantId:l,localAccountId:t||n||"",name:i,isHomeTenant:kn(l,e)}}return{tenantId:n,localAccountId:t,isHomeTenant:kn(n,e)}}function Tn(e,t,n,r){let o=e;if(t){const{isHomeTenant:n}=t,r=bn(t,wn);o=c(c({},e),r)}if(n){const t=Sn(e.homeAccountId,e.localAccountId,e.tenantId,n),{isHomeTenant:i}=t,a=bn(t,Cn);return o=c(c(c({},o),a),{},{idTokenClaims:n,idToken:r}),o}return o}const In=0,An=1,En=2,_n=3;function Pn(e){if(e){return e.tid||e.tfp||e.acr||null}return null}class Rn{generateAccountId(){return[this.homeAccountId,this.environment].join(H).toLowerCase()}generateAccountKey(){return Rn.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map((e=>[e.tenantId,e])))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(H).toLowerCase()}static createAccount(e,t,n){var r,o,i,a,s,l,c,u;const d=new Rn;let h;t.authorityType===An?d.authorityType=q:t.protocolMode===Ce?d.authorityType=L:d.authorityType=U,e.clientInfo&&n&&(h=vn(e.clientInfo,n)),d.clientInfo=e.clientInfo,d.homeAccountId=e.homeAccountId,d.nativeAccountId=e.nativeAccountId;const f=e.environment||t&&t.getPreferredCache();if(!f)throw Ct(tt);d.environment=f,d.realm=(null===(r=h)||void 0===r?void 0:r.utid)||Pn(e.idTokenClaims)||"",d.localAccountId=(null===(o=h)||void 0===o?void 0:o.uid)||(null===(i=e.idTokenClaims)||void 0===i?void 0:i.oid)||(null===(a=e.idTokenClaims)||void 0===a?void 0:a.sub)||"";const p=(null===(s=e.idTokenClaims)||void 0===s?void 0:s.preferred_username)||(null===(l=e.idTokenClaims)||void 0===l?void 0:l.upn),g=null!==(c=e.idTokenClaims)&&void 0!==c&&c.emails?e.idTokenClaims.emails[0]:null;if(d.username=p||g||"",d.name=(null===(u=e.idTokenClaims)||void 0===u?void 0:u.name)||"",d.cloudGraphHostName=e.cloudGraphHostName,d.msGraphHost=e.msGraphHost,e.tenantProfiles)d.tenantProfiles=e.tenantProfiles;else{const t=Sn(e.homeAccountId,d.localAccountId,d.realm,e.idTokenClaims);d.tenantProfiles=[t]}return d}static createFromAccountInfo(e,t,n){var r;const o=new Rn;return o.authorityType=e.authorityType||U,o.homeAccountId=e.homeAccountId,o.localAccountId=e.localAccountId,o.nativeAccountId=e.nativeAccountId,o.realm=e.tenantId,o.environment=e.environment,o.username=e.username,o.name=e.name,o.cloudGraphHostName=t,o.msGraphHost=n,o.tenantProfiles=Array.from((null===(r=e.tenantProfiles)||void 0===r?void 0:r.values())||[]),o}static generateHomeAccountId(e,t,n,r,o){if(t!==An&&t!==En){if(e)try{const t=vn(e,r.base64Decode);if(t.uid&&t.utid)return"".concat(t.uid,".").concat(t.utid)}catch(i){}n.warning("No client info in response")}return(null===o||void 0===o?void 0:o.sub)||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){const n=e.idTokenClaims||{},o=t.idTokenClaims||{};r=n.iat===o.iat&&n.nonce===o.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}function xn(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function Nn(e){if(!e||e.indexOf("=")<0)return null;try{const t=xn(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.error||n.error_description||n.state)return n}catch(t){throw Ct(qe)}return null}class On{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw pn(Vt);e.includes("#")||(this._urlString=On.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return gn.endsWith(t,"?")?t=t.slice(0,-1):gn.endsWith(t,"?/")&&(t=t.slice(0,-2)),gn.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(t){throw pn(Qt)}if(!e.HostNameAndPort||!e.PathSegments)throw pn(Qt);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw pn(Wt)}static appendQueryString(e,t){return t?e.indexOf("?")<0?"".concat(e,"?").concat(t):"".concat(e,"&").concat(t):e}static removeHashFromUrl(e){return On.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return!e||0===n.length||n[0]!==T&&n[0]!==I||(n[0]=e),On.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw pn(Qt);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let r=n.AbsolutePath.split("/");return r=r.filter((e=>e&&e.length>0)),n.PathSegments=r,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw pn(Qt);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===u.FORWARD_SLASH){const n=new On(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new On(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Nn(e)}}const Mn={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},Ln={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},qn=new Set;function Un(e,t,n,r){if(null===r||void 0===r||r.trace("getAliasesFromMetadata called with source: ".concat(n)),e&&t){const o=Hn(t,e);if(o)return null===r||void 0===r||r.trace("getAliasesFromMetadata: found cloud discovery metadata in ".concat(n,", returning aliases")),o.aliases;null===r||void 0===r||r.trace("getAliasesFromMetadata: did not find cloud discovery metadata in ".concat(n))}return null}function Hn(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}Ln.metadata.forEach((e=>{e.aliases.forEach((e=>{qn.add(e)}))}));const Fn="cache_quota_exceeded",zn="cache_error_unknown",Dn={[Fn]:"Exceeded cache storage capacity.",[zn]:"Unexpected error occurred when using cache storage."};class jn extends Error{constructor(e,t){const n=t||(Dn[e]?Dn[e]:Dn[zn]);super("".concat(e,": ").concat(n)),Object.setPrototypeOf(this,jn.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}class Bn{constructor(e,t,n,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(St,Tt),this.staticAuthorityOptions=r}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);if(t.length>1){return t.sort((e=>e.idTokenClaims?-1:1))[0]}return 1===t.length?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap((e=>this.getTenantProfilesFromAccountEntity(e,null===t||void 0===t?void 0:t.tenantId,t)))}getTenantedAccountInfoByFilter(e,t,n,r){let o,i=null;if(r&&!this.tenantProfileMatchesFilter(n,r))return null;const a=this.getIdToken(e,t,n.tenantId);return a&&(o=It(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,r))?null:(i=Tn(e,n,o,null===a||void 0===a?void 0:a.secret),i)}getTenantProfilesFromAccountEntity(e,t,n){const r=e.getAccountInfo();let o=r.tenantProfiles||new Map;const i=this.getTokenKeys();if(t){const e=o.get(t);if(!e)return[];o=new Map([[t,e]])}const a=[];return o.forEach((e=>{const t=this.getTenantedAccountInfoByFilter(r,i,e,n);t&&a.push(t)})),a}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t,n){if(!e)throw Ct(et);try{e.account&&await this.setAccount(e.account,t),e.idToken&&!1!==(null===n||void 0===n?void 0:n.idToken)&&await this.setIdTokenCredential(e.idToken,t),e.accessToken&&!1!==(null===n||void 0===n?void 0:n.accessToken)&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&!1!==(null===n||void 0===n?void 0:n.refreshToken)&&await this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(s){var r,o;if(null===(r=this.commonLogger)||void 0===r||r.error("CacheManager.saveCacheRecord: failed"),s instanceof Error){var i,a;if(null===(i=this.commonLogger)||void 0===i||i.errorPii("CacheManager.saveCacheRecord: ".concat(s.message),t),"QuotaExceededError"===s.name||"NS_ERROR_DOM_QUOTA_REACHED"===s.name||s.message.includes("exceeded the quota"))throw null===(a=this.commonLogger)||void 0===a||a.error("CacheManager.saveCacheRecord: exceeded storage quota",t),new jn(Fn);throw new jn(s.name,s.message)}throw null===(o=this.commonLogger)||void 0===o||o.errorPii("CacheManager.saveCacheRecord: ".concat(s),t),new jn(zn)}}async saveAccessToken(e,t){const n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),o=mn.fromString(e.target),i=[];r.accessToken.forEach((e=>{if(!this.accessTokenKeyMatchesFilter(e,n,!1))return;const t=this.getAccessTokenCredential(e);if(t&&this.credentialMatchesFilter(t,n)){mn.fromString(t.target).intersectingScopeSets(o)&&i.push(this.removeAccessToken(e))}})),await Promise.all(i),await this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach((t=>{var r;if(!this.isAccountKey(t,e.homeAccountId))return;const o=this.getAccount(t,this.commonLogger);if(!o)return;if(e.homeAccountId&&!this.matchHomeAccountId(o,e.homeAccountId))return;if(e.username&&!this.matchUsername(o.username,e.username))return;if(e.environment&&!this.matchEnvironment(o,e.environment))return;if(e.realm&&!this.matchRealm(o,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(o,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(o,e.authorityType))return;const i={localAccountId:null===e||void 0===e?void 0:e.localAccountId,name:null===e||void 0===e?void 0:e.name},a=null===(r=o.tenantProfiles)||void 0===r?void 0:r.filter((e=>this.tenantProfileMatchesFilter(e,i)));a&&0===a.length||n.push(o)})),n}isAccountKey(e,t,n){return!(e.split(H).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))}isCredentialKey(e){if(e.split(H).length<6)return!1;const t=e.toLowerCase();if(-1===t.indexOf(z.ID_TOKEN.toLowerCase())&&-1===t.indexOf(z.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(z.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(z.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(z.REFRESH_TOKEN.toLowerCase())>-1){const e="".concat(z.REFRESH_TOKEN).concat(H).concat(this.clientId).concat(H),n="".concat(z.REFRESH_TOKEN).concat(H).concat(j).concat(H);if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===z.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===$.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach((t=>{if(!this.isAppMetadata(t))return;const r=this.getAppMetadata(t);r&&(e.environment&&!this.matchEnvironment(r,e.environment)||e.clientId&&!this.matchClientId(r,e.clientId)||(n[t]=r))})),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach((t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)})),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach((e=>{t.push(this.removeAccount(e))})),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),r=[];t.idToken.forEach((e=>{0===e.indexOf(n)&&this.removeIdToken(e)})),t.accessToken.forEach((e=>{0===e.indexOf(n)&&r.push(this.removeAccessToken(e))})),t.refreshToken.forEach((e=>{0===e.indexOf(n)&&this.removeRefreshToken(e)})),await Promise.all(r)}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===z.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===$.POP){const e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(n){throw Ct(dt)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach((e=>{this.isAppMetadata(e)&&this.removeItem(e)})),!0}readAccountFromCache(e){const t=Rn.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getIdToken called");const i={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:z.ID_TOKEN,clientId:this.clientId,realm:n},a=this.getIdTokensByFilter(i,t),s=a.size;if(s<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(s>1){let t=a;if(!n){const n=new Map;a.forEach(((t,r)=>{t.realm===e.tenantId&&n.set(r,t)}));const r=n.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),n.values().next().value;t=n}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach(((e,t)=>{this.removeIdToken(t)})),r&&o&&r.addFields({multiMatchedID:a.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,r=new Map;return n.forEach((t=>{if(!this.idTokenKeyMatchesFilter(t,c({clientId:this.clientId},e)))return;const n=this.getIdTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.set(t,n)})),r}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,r,o,i){this.commonLogger.trace("CacheManager - getAccessToken called");const a=mn.createSearchScopes(t.scopes),s=t.authenticationScheme||$.BEARER,l=s&&s.toLowerCase()!==$.BEARER.toLowerCase()?z.ACCESS_TOKEN_WITH_AUTH_SCHEME:z.ACCESS_TOKEN,c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:l,clientId:this.clientId,realm:r||e.tenantId,target:a,tokenType:s,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},u=n&&n.accessToken||this.getTokenKeys().accessToken,d=[];u.forEach((e=>{if(this.accessTokenKeyMatchesFilter(e,c,!0)){const t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,c)&&d.push(t)}}));const h=d.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),d.forEach((e=>{this.removeAccessToken(Pt(e))})),o&&i&&o.addFields({multiMatchedAT:d.length},i),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),d[0])}accessTokenKeyMatchesFilter(e,t,n){const r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach((t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;const r=this.getAccessTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.push(r)})),n}getRefreshToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const i=t?j:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:z.REFRESH_TOKEN,clientId:this.clientId,familyId:i},s=n&&n.refreshToken||this.getTokenKeys().refreshToken,l=[];s.forEach((e=>{if(this.refreshTokenKeyMatchesFilter(e,a)){const t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,a)&&l.push(t)}}));const c=l.length;return c<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(c>1&&r&&o&&r.addFields({multiMatchedRT:c},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),l[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((e=>n[e])),o=r.length;if(o<1)return null;if(o>1)throw Ct(We);return r[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==j)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){var n;return!(t.toLowerCase()!==(null===(n=e.name)||void 0===n?void 0:n.toLowerCase()))}matchUsername(e,t){return!(!e||"string"!==typeof e||(null===t||void 0===t?void 0:t.toLowerCase())!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const n=function(e,t){let n;const r=e.canonicalAuthority;if(r){var o;const i=new On(r).getUrlComponents().HostNameAndPort;n=Un(i,null===(o=e.cloudDiscoveryMetadata)||void 0===o?void 0:o.metadata,W,t)||Un(i,Ln.metadata,G,t)||e.knownAuthorities}return n||[]}(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){var n;return!((null===(n=e.realm)||void 0===n?void 0:n.toLowerCase())!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==z.ACCESS_TOKEN&&e.credentialType!==z.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return mn.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(D)}isAuthorityMetadata(e){return-1!==e.indexOf(B)}generateAuthorityMetadataCacheKey(e){return"".concat(B,"-").concat(this.clientId,"-").concat(e)}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class Kn extends Bn{async setAccount(){throw Ct(vt)}getAccount(){throw Ct(vt)}async setIdTokenCredential(){throw Ct(vt)}getIdTokenCredential(){throw Ct(vt)}async setAccessTokenCredential(){throw Ct(vt)}getAccessTokenCredential(){throw Ct(vt)}async setRefreshTokenCredential(){throw Ct(vt)}getRefreshTokenCredential(){throw Ct(vt)}setAppMetadata(){throw Ct(vt)}getAppMetadata(){throw Ct(vt)}setServerTelemetry(){throw Ct(vt)}getServerTelemetry(){throw Ct(vt)}setAuthorityMetadata(){throw Ct(vt)}getAuthorityMetadata(){throw Ct(vt)}getAuthorityMetadataKeys(){throw Ct(vt)}setThrottlingCache(){throw Ct(vt)}getThrottlingCache(){throw Ct(vt)}removeItem(){throw Ct(vt)}getKeys(){throw Ct(vt)}getAccountKeys(){throw Ct(vt)}getTokenKeys(){throw Ct(vt)}}const Wn={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},Qn={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:be.Info,correlationId:u.EMPTY_STRING},Vn={claimsBasedCachingEnabled:!1},Gn={async sendGetRequestAsync(){throw Ct(vt)},async sendPostRequestAsync(){throw Ct(vt)}},Yn={sku:u.SKU,version:Tt,cpu:u.EMPTY_STRING,os:u.EMPTY_STRING},$n={clientSecret:u.EMPTY_STRING,clientAssertion:void 0},Jn={azureCloudInstance:Se,tenant:"".concat(u.DEFAULT_COMMON_TENANT)},Xn={application:{appName:"",appVersion:""}};function Zn(e){return e.authOptions.authority.options.protocolMode===ke}const er={sendGetRequestAsync:()=>Promise.reject(Ct(vt)),sendPostRequestAsync:()=>Promise.reject(Ct(vt))},tr="acquireTokenByCode",nr="acquireTokenByRefreshToken",rr="acquireTokenSilent",or="acquireTokenSilentAsync",ir="acquireTokenPopup",ar="acquireTokenPreRedirect",sr="acquireTokenRedirect",lr="cryptoOptsGetPublicKeyThumbprint",cr="cryptoOptsSignJwt",ur="silentCacheClientAcquireToken",dr="silentIframeClientAcquireToken",hr="awaitConcurrentIframe",fr="silentRefreshClientAcquireToken",pr="ssoSilent",gr="standardInteractionClientGetDiscoveredAuthority",mr="fetchAccountIdWithNativeBroker",vr="nativeInteractionClientAcquireToken",yr="networkClientSendPostRequestAsync",br="refreshTokenClientExecutePostToTokenEndpoint",wr="authorizationCodeClientExecutePostToTokenEndpoint",Cr="refreshTokenClientExecuteTokenRequest",kr="refreshTokenClientAcquireToken",Sr="refreshTokenClientAcquireTokenWithCachedRefreshToken",Tr="refreshTokenClientAcquireTokenByRefreshToken",Ir="refreshTokenClientCreateTokenRequestBody",Ar="acquireTokenFromCache",Er="silentFlowClientAcquireCachedToken",_r="silentFlowClientGenerateResultFromCacheRecord",Pr="acquireTokenBySilentIframe",Rr="initializeBaseRequest",xr="initializeSilentRequest",Nr="initializeClientApplication",Or="initializeCache",Mr="silentIframeClientTokenHelper",Lr="silentHandlerInitiateAuthRequest",qr="silentHandlerMonitorIframeForHash",Ur="silentHandlerLoadFrame",Hr="silentHandlerLoadFrameSync",Fr="standardInteractionClientCreateAuthCodeClient",zr="standardInteractionClientGetClientConfiguration",Dr="standardInteractionClientInitializeAuthorizationRequest",jr="standardInteractionClientInitializeAuthorizationCodeRequest",Br="getAuthCodeUrl",Kr="handleCodeResponseFromServer",Wr="handleCodeResponse",Qr="updateTokenEndpointAuthority",Vr="authClientAcquireToken",Gr="authClientExecuteTokenRequest",Yr="authClientCreateTokenRequestBody",$r="authClientCreateQueryString",Jr="popTokenGenerateCnf",Xr="popTokenGenerateKid",Zr="handleServerTokenResponse",eo="deserializeResponse",to="authorityFactoryCreateDiscoveredInstance",no="authorityResolveEndpointsAsync",ro="authorityGetCloudDiscoveryMetadataFromNetwork",oo="authorityUpdateCloudDiscoveryMetadata",io="authorityGetEndpointMetadataFromNetwork",ao="authorityUpdateEndpointMetadata",so="authorityUpdateMetadataWithRegionalInformation",lo="regionDiscoveryDetectRegion",co="regionDiscoveryGetRegionFromIMDS",uo="regionDiscoveryGetCurrentVersion",ho="acquireTokenByCodeAsync",fo="handleRedirectPromise",po="handleNativeRedirectPromise",go="nativeMessageHandlerHandshake",mo="removeHiddenIframe",vo="clearTokensAndKeysWithClaims",yo="cacheManagerGetRefreshToken",bo="importExistingCache",wo="setUserData",Co="localStorageUpdated",ko="generatePkceCodes",So="generateCodeVerifier",To="generateCodeChallengeFromVerifier",Io="sha256Digest",Ao="getRandomValues",Eo="generateHKDF",_o="generateBaseKey",Po="base64Decode",Ro="urlEncodeArr",xo="encrypt",No="decrypt",Oo=(new Map([[tr,"ATByCode"],[nr,"ATByRT"],[rr,"ATS"],[or,"ATSAsync"],[ir,"ATPopup"],[sr,"ATRedirect"],[lr,"CryptoGetPKThumb"],[cr,"CryptoSignJwt"],[ur,"SltCacheClientAT"],[dr,"SltIframeClientAT"],[fr,"SltRClientAT"],[pr,"SsoSlt"],[gr,"StdIntClientGetDiscAuth"],[mr,"FetchAccIdWithNtvBroker"],[vr,"NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[yr,"NetClientSendPost"],[br,"RTClientExecPost"],[wr,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[Cr,"RTClientExecTReq"],[kr,"RTClientAT"],[Sr,"RTClientATWithCachedRT"],[Tr,"RTClientATByRT"],[Ir,"RTClientCreateTReqBody"],[Ar,"ATFromCache"],[Er,"SltFlowClientATCached"],[_r,"SltFlowClientGenResFromCache"],[Pr,"ATBySltIframe"],[Rr,"InitBaseReq"],[xr,"InitSltReq"],[Nr,"InitClientApplication"],[Or,"InitCache"],[bo,"importCache"],[wo,"setUserData"],[Co,"localStorageUpdated"],[Mr,"SIClientTHelper"],[Lr,"SHandlerInitAuthReq"],[qr,"SltHandlerMonitorIframeForHash"],[Ur,"SHandlerLoadFrame"],[Hr,"SHandlerLoadFrameSync"],[Fr,"StdIntClientCreateAuthCodeClient"],[zr,"StdIntClientGetClientConf"],[Dr,"StdIntClientInitAuthReq"],[jr,"StdIntClientInitAuthCodeReq"],[Br,"GetAuthCodeUrl"],[Kr,"HandleCodeResFromServer"],[Wr,"HandleCodeResp"],[Qr,"UpdTEndpointAuth"],[Vr,"AuthClientAT"],[Gr,"AuthClientExecTReq"],[Yr,"AuthClientCreateTReqBody"],[$r,"AuthClientCreateQueryStr"],[Jr,"PopTGenCnf"],[Xr,"PopTGenKid"],[Zr,"HandleServerTRes"],[eo,"DeserializeRes"],[to,"AuthFactCreateDiscInst"],[no,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[ro,"AuthGetCDMetaFromNet"],[oo,"AuthUpdCDMeta"],[io,"AuthUpdCDMetaFromNet"],[ao,"AuthUpdEndpointMeta"],[so,"AuthUpdMetaWithRegInfo"],[lo,"RegDiscDetectReg"],[co,"RegDiscGetRegFromIMDS"],[uo,"RegDiscGetCurrentVer"],[ho,"ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],[fo,"HandleRedirectPromise"],[po,"HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],[go,"NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],[mo,"RemoveHiddenIframe"],[vo,"ClearTAndKeysWithClaims"],[yo,"CacheManagerGetRT"],[ko,"GenPkceCodes"],[So,"GenCodeVerifier"],[To,"GenCodeChallengeFromVerifier"],[Io,"Sha256Digest"],[Ao,"GetRandomValues"],[Eo,"genHKDF"],[_o,"genBaseKey"],[Po,"b64Decode"],[Ro,"urlEncArr"],[xo,"encrypt"],[No,"decrypt"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT","unencryptedCacheCount","encryptedCacheExpiredCount"]);class Mo{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class Lo{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:Oo,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new Mo}}startPerformanceMeasurement(){return new Mo}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const qo="invalid_grant",Uo=483,Ho=600,Fo="msal",zo=30,Do="msal.js.browser",jo="53ee284d-920a-4b59-9d30-a60315b26836",Bo="ppnbnpeolgkicgegkbkbjmhlideopiji",Ko="MATS",Wo="Handshake",Qo="HandshakeResponse",Vo="GetToken",Go="Response",Yo="localStorage",$o="sessionStorage",Jo="memoryStorage",Xo="GET",Zo="POST",ei="authority",ti="request.state",ni="nonce.id_token",ri="request.origin",oi="urlHash",ii="request.params",ai="interaction.status",si="ccs.credential",li="request.correlationId",ci="request.native",ui="msal.account.keys",di="msal.token.keys",hi="wrapper.sku",fi="wrapper.version",pi=861,gi=862,mi=863,vi=865,yi=866,bi=61,wi=961,Ci=962;var ki;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(ki||(ki={}));const Si="startup",Ti="login",Ii="logout",Ai="acquireToken",Ei="ssoSilent",_i="handleRedirect",Pi="none",Ri={scopes:g},xi="@azure/msal-react",Ni="msal.db",Oi="".concat(Ni,".keys"),Mi=0,Li=1,qi=2,Ui=3,Hi=4,Fi=5,zi=[Mi,Fi,Hi];class Di{navigateInternal(e,t){return Di.defaultNavigateWindow(e,t)}navigateExternal(e,t){return Di.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e=>{setTimeout((()=>{e(!0)}),t.timeout)}))}}class ji extends Ee{constructor(e,t,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,ji.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=n}}function Bi(e,t,n){return new ji(e,t,n)}const Ki="pkce_not_created",Wi="crypto_nonexistent",Qi="empty_navigate_uri",Vi="hash_empty_error",Gi="no_state_in_hash",Yi="hash_does_not_contain_known_properties",$i="unable_to_parse_state",Ji="state_interaction_type_mismatch",Xi="interaction_in_progress",Zi="popup_window_error",ea="empty_window_error",ta="user_cancelled",na="monitor_popup_timeout",ra="monitor_window_timeout",oa="redirect_in_iframe",ia="block_iframe_reload",aa="block_nested_popups",sa="iframe_closed_prematurely",la="silent_logout_unsupported",ca="no_account_error",ua="silent_prompt_value_error",da="no_token_request_cache_error",ha="unable_to_parse_token_request_cache_error",fa="no_cached_authority_error",pa="auth_request_not_set_error",ga="invalid_cache_type",ma="non_browser_environment",va="database_not_open",ya="no_network_connectivity",ba="post_request_failed",wa="get_request_failed",Ca="failed_to_parse_response",ka="unable_to_load_token",Sa="crypto_key_not_found",Ta="auth_code_required",Ia="auth_code_or_nativeAccountId_required",Aa="spa_code_and_nativeAccountId_present",Ea="database_unavailable",_a="unable_to_acquire_token_from_native_platform",Pa="native_handshake_timeout",Ra="native_extension_not_installed",xa="native_connection_not_established",Na="uninitialized_public_client_application",Oa="native_prompt_not_supported",Ma="invalid_base64_string",La="invalid_pop_token_request",qa="failed_to_build_headers",Ua="failed_to_parse_headers",Ha="For more visit: aka.ms/msaljs/browser-errors",Fa={[Ki]:"The PKCE code challenge and verifier could not be generated.",[Wi]:"The crypto object or function is not available.",[Qi]:"Navigation URI is empty. Please check stack trace for more info.",[Vi]:"Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ".concat(Ha),[Gi]:"Hash does not contain state. Please verify that the request originated from msal.",[Yi]:"Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ".concat(Ha),[$i]:"Unable to parse state. Please verify that the request originated from msal.",[Ji]:"Hash contains state but the interaction type does not match the caller.",[Xi]:"Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ".concat(Ha),[Zi]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[ea]:"window.open returned null or undefined window object.",[ta]:"User cancelled the flow.",[na]:"Token acquisition in popup failed due to timeout.  ".concat(Ha),[ra]:"Token acquisition in iframe failed due to timeout.  ".concat(Ha),[oa]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[ia]:"Request was blocked inside an iframe because MSAL detected an authentication response.  ".concat(Ha),[aa]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[sa]:"The iframe being monitored was closed prematurely.",[la]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[ca]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[ua]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[da]:"No token request found in cache.",[ha]:"The cached token request could not be parsed.",[fa]:"No cached authority found.",[pa]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[ga]:"Invalid cache type",[ma]:"Login and token requests are not supported in non-browser environments.",[va]:"Database is not open!",[ya]:"No network connectivity. Check your internet connection.",[ba]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[wa]:"Network request failed. Please check the network trace to determine root cause.",[Ca]:"Failed to parse network response. Check network trace.",[ka]:"Error loading token to cache.",[Sa]:"Cryptographic Key or Keypair not found in browser storage.",[Ta]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Ia]:"An authorization code or nativeAccountId must be provided to this flow.",[Aa]:"Request cannot contain both spa code and native account id.",[Ea]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[_a]:"Unable to acquire token from native platform.  ".concat(Ha),[Pa]:"Timed out while attempting to establish connection to browser extension",[Ra]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[xa]:"Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ".concat(Ha),[Na]:"You must call and await the initialize function before attempting to call any other MSAL API.  ".concat(Ha),[Oa]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Ma]:"Invalid base64 encoded string.",[La]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[qa]:"Failed to build request headers object.",[Ua]:"Failed to parse response headers"};class za extends Ee{constructor(e,t){super(e,Fa[e],t),Object.setPrototypeOf(this,za.prototype),this.name="BrowserAuthError"}}function Da(e,t){return new za(e,t)}class ja{async sendGetRequestAsync(e,t){let n,r={},o=0;const i=Ba(t);try{n=await fetch(e,{method:Xo,headers:i})}catch(a){throw Da(window.navigator.onLine?wa:ya)}r=Ka(n.headers);try{return o=n.status,{headers:r,body:await n.json(),status:o}}catch(a){throw Bi(Da(Ca),o,r)}}async sendPostRequestAsync(e,t){const n=t&&t.body||"",r=Ba(t);let o,i=0,a={};try{o=await fetch(e,{method:Zo,headers:r,body:n})}catch(s){throw Da(window.navigator.onLine?ba:ya)}a=Ka(o.headers);try{return i=o.status,{headers:a,body:await o.json(),status:i}}catch(s){throw Bi(Da(Ca),i,a)}}}function Ba(e){try{const t=new Headers;if(!e||!e.headers)return t;const n=e.headers;return Object.entries(n).forEach((e=>{let[n,r]=e;t.append(n,r)})),t}catch(t){throw Da(qa)}}function Ka(e){try{const t={};return e.forEach(((e,n)=>{t[n]=e})),t}catch(t){throw Da(Ua)}}function Wa(e){return encodeURIComponent(Va(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Qa(e){return Ga(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Va(e){return Ga((new TextEncoder).encode(e))}function Ga(e){const t=Array.from(e,(e=>String.fromCodePoint(e))).join("");return btoa(t)}function Ya(e){return(new TextDecoder).decode($a(e))}function $a(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Da(Ma)}const n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)||0))}const Ja="AES-GCM",Xa="HKDF",Za="SHA-256",es=new Uint8Array([1,0,1]),ts="0123456789abcdef",ns=new Uint32Array(1),rs="encrypt",os="decrypt",is={name:"RSASSA-PKCS1-v1_5",hash:Za,modulusLength:2048,publicExponent:es};async function as(e,t,n){null===t||void 0===t||t.addQueueMeasurement(Io,n);const r=(new TextEncoder).encode(e);return window.crypto.subtle.digest(Za,r)}function ss(e){return window.crypto.getRandomValues(e)}function ls(){return window.crypto.getRandomValues(ns),ns[0]}function cs(){const e=Date.now(),t=1024*ls()+(1023&ls()),n=new Uint8Array(16),r=Math.trunc(t/2**30),o=t&2**30-1,i=ls();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/65536,n[4]=e/256,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|o>>>24,n[9]=o>>>16,n[10]=o>>>8,n[11]=o,n[12]=i>>>24,n[13]=i>>>16,n[14]=i>>>8,n[15]=i;let a="";for(let s=0;s<n.length;s++)a+=ts.charAt(n[s]>>>4),a+=ts.charAt(15&n[s]),3!==s&&5!==s&&7!==s&&9!==s||(a+="-");return a}async function us(e){return window.crypto.subtle.exportKey("jwk",e)}async function ds(){const e=await window.crypto.subtle.generateKey({name:Ja,length:256},!0,[rs,os]);return window.crypto.subtle.exportKey("raw",e)}async function hs(e){return window.crypto.subtle.importKey("raw",e,Xa,!1,["deriveKey"])}async function fs(e,t,n){return window.crypto.subtle.deriveKey({name:Xa,salt:t,hash:Za,info:(new TextEncoder).encode(n)},e,{name:Ja,length:256},!1,[rs,os])}async function ps(e,t,n){const r=(new TextEncoder).encode(t),o=window.crypto.getRandomValues(new Uint8Array(16)),i=await fs(e,o,n),a=await window.crypto.subtle.encrypt({name:Ja,iv:new Uint8Array(12)},i,r);return{data:Qa(new Uint8Array(a)),nonce:Qa(o)}}async function gs(e,t,n,r){const o=$a(r),i=await fs(e,$a(t),n),a=await window.crypto.subtle.decrypt({name:Ja,iv:new Uint8Array(12)},i,o);return(new TextDecoder).decode(a)}async function ms(e){const t=await as(e);return Qa(new Uint8Array(t))}const vs="storage_not_supported",ys="stubbed_public_client_application_called",bs="in_mem_redirect_unavailable",ws={[vs]:"Given storage configuration option was not supported.",[ys]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[bs]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class Cs extends Ee{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,Cs.prototype)}}function ks(e){return new Cs(e,ws[e])}function Ss(){return window.parent!==window}function Ts(){return"undefined"!==typeof window&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function Is(){if("undefined"!==typeof window&&window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf("".concat(Fo,".")))throw Da(aa)}function As(){if("undefined"===typeof window)throw Da(ma)}function Es(e){if(!e)throw Da(Na)}function _s(e){As(),function(){if(On.hashContainsKnownProperties(window.location.hash)&&Ss())throw Da(ia)}(),Is(),Es(e)}function Ps(e,t){if(_s(e),function(e){if(Ss()&&!e)throw Da(oa)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===Jo&&!t.cache.storeAuthStateInCookie)throw ks(bs)}function Rs(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout((()=>{try{document.head.removeChild(t)}catch(e){}}),1e4)}const xs=1e4;const Ns="4.2.0";class Os{static loggerCallback(e,t){switch(e){case be.Error:return void console.error(t);case be.Info:return void console.info(t);case be.Verbose:return void console.debug(t);case be.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){var t,n;let r;this.browserEnvironment="undefined"!==typeof window,this.config=function(e,t){let{auth:n,cache:r,system:o,telemetry:i}=e;const a={clientId:u.EMPTY_STRING,authority:"".concat(u.DEFAULT_AUTHORITY),knownAuthorities:[],cloudDiscoveryMetadata:u.EMPTY_STRING,authorityMetadata:u.EMPTY_STRING,redirectUri:"undefined"!==typeof window?Ts():"",postLogoutRedirectUri:u.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Ce,OIDCOptions:{serverResponseType:x.FRAGMENT,defaultScopes:[u.OPENID_SCOPE,u.PROFILE_SCOPE,u.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Se,tenant:u.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},s={cacheLocation:$o,temporaryCacheLocation:$o,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!r||r.cacheLocation!==Yo),claimsBasedCachingEnabled:!1},l={loggerCallback:()=>{},logLevel:be.Info,piiLoggingEnabled:!1},d=c(c({},Wn),{},{loggerOptions:l,networkClient:t?new ja:er,navigationClient:new Di,loadFrameTimeout:0,windowHashTimeout:(null===o||void 0===o?void 0:o.loadFrameTimeout)||6e4,iframeHashTimeout:(null===o||void 0===o?void 0:o.loadFrameTimeout)||xs,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(null===o||void 0===o?void 0:o.nativeBrokerHandshakeTimeout)||2e3,pollIntervalMilliseconds:zo}),h=c(c(c({},d),o),{},{loggerOptions:(null===o||void 0===o?void 0:o.loggerOptions)||l}),f={application:{appName:u.EMPTY_STRING,appVersion:u.EMPTY_STRING},client:new Lo};(null===n||void 0===n?void 0:n.protocolMode)!==ke&&null!==n&&void 0!==n&&n.OIDCOptions&&new we(h.loggerOptions).warning(JSON.stringify(pn(cn)));if(null!==n&&void 0!==n&&n.protocolMode&&n.protocolMode!==Ce&&null!==h&&void 0!==h&&h.allowPlatformBroker)throw pn(un);return{auth:c(c(c({},a),n),{},{OIDCOptions:c(c({},a.OIDCOptions),null===n||void 0===n?void 0:n.OIDCOptions)}),cache:c(c({},s),r),system:h,telemetry:c(c({},f),i)}}(e,this.browserEnvironment);try{r=window[$o]}catch(d){}const o=null===(t=r)||void 0===t?void 0:t.getItem("msal.browser.log.level"),i=null===(n=r)||void 0===n||null===(n=n.getItem("msal.browser.log.pii"))||void 0===n?void 0:n.toLowerCase(),a="true"===i||"false"!==i&&void 0,s=c({},this.config.system.loggerOptions),l=o&&Object.keys(be).includes(o)?be[o]:void 0;l&&(s.loggerCallback=Os.loggerCallback,s.logLevel=l),void 0!==a&&(s.piiLoggingEnabled=a),this.logger=new we(s,"@azure/msal-browser",Ns),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class Ms extends Os{getModuleName(){return Ms.MODULE_NAME}getId(){return Ms.ID}async initialize(){return this.available="undefined"!==typeof window,this.available}}Ms.MODULE_NAME="",Ms.ID="StandardOperatingContext";const Ls="missing_kid_error",qs="missing_alg_error",Us={[Ls]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[qs]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class Hs extends Ee{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,Hs.prototype)}}function Fs(e){return new Hs(e,Us[e])}class zs{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Fs(Ls);if(!e.alg)throw Fs(qs);const t=new zs({typ:e.typ||ye,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}class Ds{constructor(){this.dbName=Ni,this.version=1,this.tableName=Oi,this.dbOpen=!1}async open(){return new Promise(((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",(e=>{e.target.result.createObjectStore(this.tableName)})),n.addEventListener("success",(t=>{const n=t;this.db=n.target.result,this.dbOpen=!0,e()})),n.addEventListener("error",(()=>t(Da(Ea))))}))}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Da(va));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async setItem(e,t){return await this.validateDbIsOpen(),new Promise(((n,r)=>{if(!this.db)return r(Da(va));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);o.addEventListener("success",(()=>{this.closeConnection(),n()})),o.addEventListener("error",(e=>{this.closeConnection(),r(e)}))}))}async removeItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Da(va));const r=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);r.addEventListener("success",(()=>{this.closeConnection(),t()})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async getKeys(){return await this.validateDbIsOpen(),new Promise(((e,t)=>{if(!this.db)return t(Da(va));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();n.addEventListener("success",(t=>{const n=t;this.closeConnection(),e(n.target.result)})),n.addEventListener("error",(e=>{this.closeConnection(),t(e)}))}))}async containsKey(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Da(va));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(1===n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise(((e,t)=>{const n=window.indexedDB.deleteDatabase(Ni),r=setTimeout((()=>t(!1)),200);n.addEventListener("success",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("blocked",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("error",(()=>(clearTimeout(r),t(!1))))}))}}class js{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach(((t,n)=>{e.push(n)})),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}class Bs{constructor(e){this.inMemoryCache=new js,this.indexedDBCache=new Ds,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof za&&e.errorCode===Ea))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(n){this.handleDatabaseAccessError(n)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(n){this.handleDatabaseAccessError(n)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}class Ks{constructor(e,t,n){this.logger=e,function(e){if(!window)throw Da(ma);if(!window.crypto)throw Da(Wi);if(!e&&!window.crypto.subtle)throw Da(Wi,"crypto_subtle_undefined")}(null!==n&&void 0!==n&&n),this.cache=new Bs(this.logger),this.performanceClient=t}createNewGuid(){return cs()}base64Encode(e){return Va(e)}base64Decode(e){return Ya(e)}base64UrlEncode(e){return Wa(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var t;const n=null===(t=this.performanceClient)||void 0===t?void 0:t.startMeasurement(lr,e.correlationId),r=await async function(e,t){return window.crypto.subtle.generateKey(is,e,t)}(Ks.EXTRACTABLE,Ks.POP_KEY_USAGES),o=await us(r.publicKey),i=Ws({e:o.e,kty:o.kty,n:o.n}),a=await this.hashString(i),s=await us(r.privateKey),l=await async function(e,t,n){return window.crypto.subtle.importKey("jwk",e,is,t,n)}(s,!1,["sign"]);return await this.cache.setItem(a,{privateKey:l,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),n&&n.end({success:!0}),a}async removeTokenBindingKey(e){await this.cache.removeItem(e);return!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error("Clearing keystore failed with error: ".concat(e.message)):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,r){var o;const i=null===(o=this.performanceClient)||void 0===o?void 0:o.startMeasurement(cr,r),a=await this.cache.getItem(t);if(!a)throw Da(Sa);const s=await us(a.publicKey),l=Ws(s),u=Wa(JSON.stringify({kid:t})),d=Wa(zs.getShrHeaderString(c(c({},null===n||void 0===n?void 0:n.header),{},{alg:s.alg,kid:u})));e.cnf={jwk:JSON.parse(l)};const h=Wa(JSON.stringify(e)),f="".concat(d,".").concat(h),p=(new TextEncoder).encode(f),g=await async function(e,t){return window.crypto.subtle.sign(is,e,t)}(a.privateKey,p),m=Qa(new Uint8Array(g)),v="".concat(f,".").concat(m);return i&&i.end({success:!0}),v}async hashString(e){return ms(e)}}function Ws(e){return JSON.stringify(e,Object.keys(e).sort())}Ks.POP_KEY_USAGES=["sign","verify"],Ks.EXTRACTABLE=!0;const Qs=(e,t,n,r,o)=>function(){n.trace("Executing function ".concat(t));const i=null===r||void 0===r?void 0:r.startMeasurement(t,o);if(o){const e=t+"CallCount";null===r||void 0===r||r.incrementFields({[e]:1},o)}try{const r=e(...arguments);return null===i||void 0===i||i.end({success:!0}),n.trace("Returning result from ".concat(t)),r}catch(a){n.trace("Error occurred in ".concat(t));try{n.trace(JSON.stringify(a))}catch(a){n.trace("Unable to print error message.")}throw null===i||void 0===i||i.end({success:!1},a),a}},Vs=(e,t,n,r,o)=>function(){n.trace("Executing function ".concat(t));const i=null===r||void 0===r?void 0:r.startMeasurement(t,o);if(o){const e=t+"CallCount";null===r||void 0===r||r.incrementFields({[e]:1},o)}return null===r||void 0===r||r.setPreQueueTime(t,o),e(...arguments).then((e=>(n.trace("Returning result from ".concat(t)),null===i||void 0===i||i.end({success:!0}),e))).catch((e=>{n.trace("Error occurred in ".concat(t));try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw null===i||void 0===i||i.end({success:!1},e),e}))};class Gs{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(lo,this.correlationId);let r=e;if(r)t.region_source=le;else{const e=Gs.IMDS_OPTIONS;try{const n=await Vs(this.getRegionFromIMDS.bind(this),co,this.logger,this.performanceClient,this.correlationId)(u.IMDS_VERSION,e);if(n.status===ie&&(r=n.body,t.region_source=ce),n.status===ae){const n=await Vs(this.getCurrentVersion.bind(this),uo,this.logger,this.performanceClient,this.correlationId)(e);if(!n)return t.region_source=se,null;const o=await Vs(this.getRegionFromIMDS.bind(this),co,this.logger,this.performanceClient,this.correlationId)(n,e);o.status===ie&&(r=o.body,t.region_source=ce)}}catch(o){return t.region_source=se,null}}return r||(t.region_source=se),r||null}async getRegionFromIMDS(e,t){var n;return null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(co,this.correlationId),this.networkInterface.sendGetRequestAsync("".concat(u.IMDS_ENDPOINT,"?api-version=").concat(e,"&format=text"),t,u.IMDS_TIMEOUT)}async getCurrentVersion(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(uo,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync("".concat(u.IMDS_ENDPOINT,"?format=json"),e);return t.status===ae&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(n){return null}}}Gs.IMDS_OPTIONS={headers:{Metadata:"true"}};class Ys{constructor(e,t,n,r,o,i,a,s){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=i,this.managedIdentity=s||!1,this.regionDiscovery=new Gs(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(u.CIAM_AUTH_URL))return _n;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case u.ADFS:return An;case u.DSTS:return En}return In}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new On(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw Ct(Oe)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw Ct(Oe)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw Ct(Oe)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw Ct(ht);return this.replacePath(this.metadata.end_session_endpoint)}throw Ct(Oe)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw Ct(Oe)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw Ct(Oe)}canReplaceTenant(e){return 1===e.PathSegments.length&&!Ys.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===In&&this.protocolMode===Ce}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const n=new On(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(((e,o)=>{let i=r[o];if(0===o&&this.canReplaceTenant(n)){const e=new On(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];i!==e&&(this.logger.verbose("Replacing tenant domain name ".concat(i," with id ").concat(e)),i=e)}e!==i&&(t=t.replace("/".concat(i,"/"),"/".concat(e,"/")))})),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===An||this.protocolMode!==Ce&&!this.isAliasOfKnownMicrosoftAuthority(e)?"".concat(this.canonicalAuthority,".well-known/openid-configuration"):"".concat(this.canonicalAuthority,"v2.0/.well-known/openid-configuration")}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var e,t;null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(no,this.correlationId);const n=this.getCurrentMetadataEntity(),r=await Vs(this.updateCloudDiscoveryMetadata.bind(this),oo,this.logger,this.performanceClient,this.correlationId)(n);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,n.preferred_network);const o=await Vs(this.updateEndpointMetadata.bind(this),ao,this.logger,this.performanceClient,this.correlationId)(n);this.updateCachedMetadata(n,r,{source:o}),null===(t=this.performanceClient)||void 0===t||t.addFields({cloudDiscoverySource:r,authorityEndpointSource:o},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Ft(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==Q&&(null===n||void 0===n?void 0:n.source)!==Q&&(e.expiresAt=Ft(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(ao,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(e);if(n){var r;if(n.source===G)if(null!==(r=this.authorityOptions.azureRegionConfiguration)&&void 0!==r&&r.azureRegion&&n.metadata){zt(e,await Vs(this.updateMetadataWithRegionalInformation.bind(this),so,this.logger,this.performanceClient,this.correlationId)(n.metadata),!1),e.canonical_authority=this.canonicalAuthority}return n.source}let o=await Vs(this.getEndpointMetadataFromNetwork.bind(this),io,this.logger,this.performanceClient,this.correlationId)();var i;if(o)return null!==(i=this.authorityOptions.azureRegionConfiguration)&&void 0!==i&&i.azureRegion&&(o=await Vs(this.updateMetadataWithRegionalInformation.bind(this),so,this.logger,this.performanceClient,this.correlationId)(o)),zt(e,o,!0),V;throw Ct(Le,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),zt(e,t,!1),{source:W};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return zt(e,t,!1),{source:G,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=jt(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Q}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new On(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw pn(nn)}return null}async getEndpointMetadataFromNetwork(){var e;null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(io,this.correlationId);const t={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose("Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ".concat(n));try{const e=await this.networkInterface.sendGetRequestAsync(n,t),r=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(e.body);return r?e.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(r){return this.logger.verbose("Authority.getEndpointMetadataFromNetwork: ".concat(r)),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Mn?Mn[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var t,n;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(so,this.correlationId);const r=null===(n=this.authorityOptions.azureRegionConfiguration)||void 0===n?void 0:n.azureRegion;if(r){var o;if(r!==u.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=ue,this.regionDiscoveryMetadata.region_used=r,Ys.replaceWithRegionalInformation(e,r);const t=await Vs(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),lo,this.logger,this.performanceClient,this.correlationId)(null===(o=this.authorityOptions.azureRegionConfiguration)||void 0===o?void 0:o.environmentRegion,this.regionDiscoveryMetadata);if(t)return this.regionDiscoveryMetadata.region_outcome=de,this.regionDiscoveryMetadata.region_used=t,Ys.replaceWithRegionalInformation(e,t);this.regionDiscoveryMetadata.region_outcome=he}return e}async updateCloudDiscoveryMetadata(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(oo,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(n)return n;const r=await Vs(this.getCloudDiscoveryMetadataFromNetwork.bind(this),ro,this.logger,this.performanceClient,this.correlationId)();if(r)return Dt(e,r,!0),V;throw pn(rn)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii("Known Authorities: ".concat(this.authorityOptions.knownAuthorities||u.NOT_APPLICABLE)),this.logger.verbosePii("Authority Metadata: ".concat(this.authorityOptions.authorityMetadata||u.NOT_APPLICABLE)),this.logger.verbosePii("Canonical Authority: ".concat(e.canonical_authority||u.NOT_APPLICABLE));const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Dt(e,t,!1),W;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(n=this.hostnameAndPort,Hn(Ln.metadata,n));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Dt(e,t,!1),G;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var n;const r=jt(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),Q):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===_n)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Ys.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=Hn(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),pn(tn)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Ys.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var e;null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(ro,this.correlationId);const t="".concat(u.AAD_INSTANCE_DISCOVERY_ENDPT).concat(this.canonicalAuthority,"oauth2/v2.0/authorize"),n={};let r=null;try{const e=await this.networkInterface.sendGetRequestAsync(t,n);let o,i;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(e.body))o=e.body,i=o.metadata,this.logger.verbosePii("tenant_discovery_endpoint is: ".concat(o.tenant_discovery_endpoint));else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(e.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning("A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ".concat(e.status)),o=e.body,o.error===u.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning("The CloudInstanceDiscoveryErrorResponse error is ".concat(o.error)),this.logger.warning("The CloudInstanceDiscoveryErrorResponse error description is ".concat(o.error_description)),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),i=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=Hn(i,this.hostnameAndPort)}catch(o){if(o instanceof Ee)this.logger.error("There was a network error while attempting to get the cloud discovery instance metadata.\nError: ".concat(o.errorCode,"\nError Description: ").concat(o.errorMessage));else{const e=o;this.logger.error("A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ".concat(e.name,"\nError Description: ").concat(e.message))}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=Ys.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter((e=>e&&On.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort)).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==Se){const e=t.tenant?t.tenant:u.DEFAULT_COMMON_TENANT;n="".concat(t.azureCloudInstance,"/").concat(e,"/")}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return u.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw Ct(Oe)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return qn.has(e)}static isPublicCloudAuthority(e){return u.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const r=new On(e);r.validateAsUri();const o=r.getUrlComponents();let i="".concat(t,".").concat(o.HostNameAndPort);this.isPublicCloudAuthority(o.HostNameAndPort)&&(i="".concat(t,".").concat(u.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX));const a=On.constructAuthorityUriFromObject(c(c({},r.getUrlComponents()),{},{HostNameAndPort:i})).urlString;return n?"".concat(a,"?").concat(n):a}static replaceWithRegionalInformation(e,t){const n=c({},e);return n.authorization_endpoint=Ys.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=Ys.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=Ys.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const n=new On(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(u.CIAM_AUTH_URL)){const e=n.HostNameAndPort.split(".")[0];t="".concat(t).concat(e).concat(u.AAD_TENANT_DOMAIN_SUFFIX)}return t}}function $s(e){return e.endsWith(u.FORWARD_SLASH)?e:"".concat(e).concat(u.FORWARD_SLASH)}Ys.reservedTenantDomains=new Set(["{tenant}","{tenantid}",T,A,I]);const Js="no_tokens_found",Xs="native_account_unavailable",Zs="refresh_token_expired",el="bad_token",tl=["interaction_required","consent_required","login_required",el],nl=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],rl={[Js]:"No refresh token found in the cache. Please sign-in.",[Xs]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Zs]:"Refresh token has expired.",[el]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class ol extends Ee{constructor(e,t,n,r,o,i,a,s){super(e,t,n),Object.setPrototypeOf(this,ol.prototype),this.timestamp=r||u.EMPTY_STRING,this.traceId=o||u.EMPTY_STRING,this.correlationId=i||u.EMPTY_STRING,this.claims=a||u.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=s}}function il(e,t,n){const r=!!e&&tl.indexOf(e)>-1,o=!!n&&nl.indexOf(n)>-1,i=!!t&&tl.some((e=>t.indexOf(e)>-1));return r||i||o}function al(e){return new ol(e,rl[e])}class sl{static setRequestState(e,t,n){const r=sl.generateLibraryState(e,n);return t?"".concat(r).concat(u.RESOURCE_DELIM).concat(t):r}static generateLibraryState(e,t){if(!e)throw Ct(rt);const n={id:e.createNewGuid()};t&&(n.meta=t);const r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw Ct(rt);if(!t)throw Ct(Ue);try{const n=t.split(u.RESOURCE_DELIM),r=n[0],o=n.length>1?n.slice(1).join(u.RESOURCE_DELIM):u.EMPTY_STRING,i=e.base64Decode(r),a=JSON.parse(i);return{userRequestState:o||u.EMPTY_STRING,libraryState:a}}catch(n){throw Ct(Ue)}}}const ll="home_account_id",cl="UPN",ul=864e5,dl="Lax",hl="None";class fl{initialize(){return Promise.resolve()}getItem(e){const t="".concat(encodeURIComponent(e)),n=document.cookie.split(";");for(let r=0;r<n.length;r++){const e=n[r],[o,...i]=decodeURIComponent(e).trim().split("="),a=i.join("=");if(o===t)return a}return""}getUserData(){throw Ct(vt)}setItem(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:dl,i="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t),";path=/;SameSite=").concat(o,";");if(n){const e=function(e){const t=new Date,n=new Date(t.getTime()+e*ul);return n.toUTCString()}(n);i+="expires=".concat(e,";")}(r||o===hl)&&(i+="Secure;"),document.cookie=i}async setUserData(){return Promise.reject(Ct(vt))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach((e=>{const n=decodeURIComponent(e).trim().split("=");t.push(n[0])})),t}containsKey(e){return this.getKeys().includes(e)}}function pl(e){const t=e.getItem(ui);return t?JSON.parse(t):[]}function gl(e,t){const n=t.getItem("".concat(di,".").concat(e));if(n){const e=JSON.parse(n);if(e&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("accessToken")&&e.hasOwnProperty("refreshToken"))return e}return{idToken:[],accessToken:[],refreshToken:[]}}const ml="msal.cache.encryption";class vl{constructor(e,t,n){if(!window.localStorage)throw ks(vs);this.memoryStorage=new js,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=n,this.broadcast=new BroadcastChannel("msal.broadcast.cache")}async initialize(e){this.initialized=!0;const t=new fl,n=t.getItem(ml);let r={key:"",id:""};if(n)try{r=JSON.parse(n)}catch(o){}if(r.key&&r.id){const t=Qs($a,Po,this.logger,this.performanceClient,e)(r.key);this.encryptionCookie={id:r.id,key:await Vs(hs,Eo,this.logger,this.performanceClient,e)(t)},await Vs(this.importExistingCache.bind(this),bo,this.logger,this.performanceClient,e)(e)}else{this.clear();const n=cs(),r=await Vs(ds,_o,this.logger,this.performanceClient,e)(),o=Qs(Qa,Ro,this.logger,this.performanceClient,e)(new Uint8Array(r));this.encryptionCookie={id:n,key:await Vs(hs,Eo,this.logger,this.performanceClient,e)(r)};const i={id:n,key:o};t.setItem(ml,JSON.stringify(i),0,!0,hl)}this.broadcast.addEventListener("message",this.updateCache.bind(this))}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw Da(Na);return this.memoryStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}async setUserData(e,t,n){if(!this.initialized||!this.encryptionCookie)throw Da(Na);const{data:r,nonce:o}=await Vs(ps,xo,this.logger,this.performanceClient,n)(this.encryptionCookie.key,t,this.getContext(e)),i={id:this.encryptionCookie.id,nonce:o,data:r};this.memoryStorage.setItem(e,t),this.setItem(e,JSON.stringify(i)),this.broadcast.postMessage({key:e,value:t,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear();pl(this).forEach((e=>this.removeItem(e)));const e=gl(this.clientId,this);e.idToken.forEach((e=>this.removeItem(e))),e.accessToken.forEach((e=>this.removeItem(e))),e.refreshToken.forEach((e=>this.removeItem(e))),this.getKeys().forEach((e=>{(e.startsWith(u.CACHE_PREFIX)||-1!==e.indexOf(this.clientId))&&this.removeItem(e)}))}async importExistingCache(e){if(!this.encryptionCookie)return;let t=pl(this);t=await this.importArray(t,e),this.setItem(ui,JSON.stringify(t));const n=gl(this.clientId,this);n.idToken=await this.importArray(n.idToken,e),n.accessToken=await this.importArray(n.accessToken,e),n.refreshToken=await this.importArray(n.refreshToken,e),this.setItem("".concat(di,".").concat(this.clientId),JSON.stringify(n))}async getItemFromEncryptedCache(e,t){if(!this.encryptionCookie)return null;const n=this.getItem(e);if(!n)return null;let r;try{r=JSON.parse(n)}catch(o){return null}return r.id&&r.nonce&&r.data?r.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):Vs(gs,No,this.logger,this.performanceClient,t)(this.encryptionCookie.key,r.nonce,this.getContext(e),r.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},t),null)}async importArray(e,t){const n=[],r=[];return e.forEach((e=>{const o=this.getItemFromEncryptedCache(e,t).then((t=>{t?(this.memoryStorage.setItem(e,t),n.push(e)):this.removeItem(e)}));r.push(o)})),await Promise.all(r),n}getContext(e){let t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const t=this.performanceClient.startMeasurement(Co);t.add({isBackground:!0});const{key:n,value:r,context:o}=e.data;return n?o&&o!==this.clientId?(this.logger.trace("Ignoring broadcast event from clientId: ".concat(o)),void t.end({success:!1,errorCode:"contextMismatch"})):(r?(this.memoryStorage.setItem(n,r),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(n),this.logger.verbose("Removed item from internal cache")),void t.end({success:!0})):(this.logger.error("Broadcast event missing key"),void t.end({success:!1,errorCode:"noKey"}))}}class yl{constructor(){if(!window.sessionStorage)throw ks(vs)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}function bl(e,t){if(!t)return null;try{return sl.parseRequestState(e,t).libraryState.meta}catch(n){throw Ct(Ue)}}const wl="msal:initializeStart",Cl="msal:initializeEnd",kl="msal:accountAdded",Sl="msal:accountRemoved",Tl="msal:activeAccountChanged",Il="msal:loginStart",Al="msal:loginSuccess",El="msal:loginFailure",_l="msal:acquireTokenStart",Pl="msal:acquireTokenSuccess",Rl="msal:acquireTokenFailure",xl="msal:acquireTokenFromNetworkStart",Nl="msal:ssoSilentStart",Ol="msal:ssoSilentSuccess",Ml="msal:ssoSilentFailure",Ll="msal:acquireTokenByCodeStart",ql="msal:acquireTokenByCodeSuccess",Ul="msal:acquireTokenByCodeFailure",Hl="msal:handleRedirectStart",Fl="msal:handleRedirectEnd",zl="msal:popupOpened",Dl="msal:logoutStart",jl="msal:logoutSuccess",Bl="msal:logoutFailure",Kl="msal:logoutEnd",Wl="msal:restoreFromBFCache";class Ql extends Bn{constructor(e,t,n,r,o,i,a){super(e,n,r,a),this.cacheConfig=t,this.logger=r,this.internalStorage=new js,this.browserStorage=Vl(e,t.cacheLocation,r,o),this.temporaryCacheStorage=Vl(e,t.temporaryCacheLocation,r,o),this.cookieStorage=new fl,this.performanceClient=o,this.eventHandler=i}async initialize(e){await this.browserStorage.initialize(e)}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(t){return null}}getAccount(e){this.logger.trace("BrowserCacheManager.getAccount called");const t=this.browserStorage.getUserData(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return n&&Rn.isAccountEntity(n)?Bn.toObject(new Rn,n):(this.removeAccountKeyFromMap(e),null)}async setAccount(e,t){this.logger.trace("BrowserCacheManager.setAccount called");const n=e.generateAccountKey();await Vs(this.browserStorage.setUserData.bind(this.browserStorage),wo,this.logger,this.performanceClient)(n,JSON.stringify(e),t);const r=this.addAccountKeyToMap(n);this.cacheConfig.cacheLocation===Yo&&r&&this.eventHandler.emitEvent(kl,void 0,e.getAccountInfo())}getAccountKeys(){return pl(this.browserStorage)}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii("BrowserCacheManager.addAccountKeyToMap called with key: ".concat(e));const t=this.getAccountKeys();return-1===t.indexOf(e)?(t.push(e),this.browserStorage.setItem(ui,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii("BrowserCacheManager.removeAccountKeyFromMap called with key: ".concat(e));const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.browserStorage.setItem(ui,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}async removeAccountContext(e){await super.removeAccountContext(e),this.cacheConfig.cacheLocation===Yo&&this.eventHandler.emitEvent(Sl,void 0,e.getAccountInfo())}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,z.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,z.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,z.REFRESH_TOKEN)}getTokenKeys(){return gl(this.clientId,this.browserStorage)}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case z.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case z.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case z.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error("BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ".concat(t)),Ct(ot)}this.browserStorage.setItem("".concat(di,".").concat(this.clientId),JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case z.ID_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ".concat(e," from map"));const r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case z.ACCESS_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ".concat(e," from map"));const o=n.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case z.REFRESH_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ".concat(e," from map"));const i=n.refreshToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error("BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ".concat(t)),Ct(ot)}this.browserStorage.setItem("".concat(di,".").concat(this.clientId),JSON.stringify(n))}getIdTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,z.ID_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Ot(r)&&r.hasOwnProperty("realm")&&r.credentialType===z.ID_TOKEN?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,z.ID_TOKEN),null);var r}async setIdTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const n=Pt(e);await Vs(this.browserStorage.setUserData.bind(this.browserStorage),wo,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,z.ID_TOKEN)}getAccessTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,z.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Ot(r)&&r.hasOwnProperty("realm")&&r.hasOwnProperty("target")&&(r.credentialType===z.ACCESS_TOKEN||r.credentialType===z.ACCESS_TOKEN_WITH_AUTH_SCHEME)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,z.ACCESS_TOKEN),null);var r}async setAccessTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const n=Pt(e);await Vs(this.browserStorage.setUserData.bind(this.browserStorage),wo,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,z.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,z.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Ot(r)&&r.credentialType===z.REFRESH_TOKEN?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,z.REFRESH_TOKEN),null);var r}async setRefreshTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const n=Pt(e);await Vs(this.browserStorage.setUserData.bind(this.browserStorage),wo,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,z.REFRESH_TOKEN)}getAppMetadata(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&(r=e,(o=n)&&0===r.indexOf(D)&&o.hasOwnProperty("clientId")&&o.hasOwnProperty("environment"))?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null);var r,o}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=function(e){let{environment:t,clientId:n}=e;return[D,t,n].join(H).toLowerCase()}(e);this.browserStorage.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){const n=0===e.indexOf(Y.CACHE_KEY);let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.browserStorage.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){return!!t&&0===e.indexOf(B)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter((e=>this.isAuthorityMetadata(e)))}setWrapperMetadata(e,t){this.internalStorage.setItem(hi,e),this.internalStorage.setItem(fi,t)}getWrapperMetadata(){return[this.internalStorage.getItem(hi)||u.EMPTY_STRING,this.internalStorage.getItem(fi)||u.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(S),t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(S);if(e){this.logger.verbose("setActiveAccount: Active account set");const n={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(n))}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t);this.eventHandler.emitEvent(Tl)}getThrottlingCache(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){let n=!1;e&&(n=0===e.indexOf(Z));let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.browserStorage.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.cookieStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const r=this.temporaryCacheStorage.getItem(n);if(!r){if(this.cacheConfig.cacheLocation===Yo){const e=this.browserStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,n){const r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(r,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach((e=>{-1===e.indexOf(u.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)})),this.browserStorage.getKeys().forEach((e=>{-1===e.indexOf(u.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)})),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(vo,t);const n=this.getTokenKeys(),r=[];n.accessToken.forEach((e=>{const t=this.getAccessTokenCredential(e);null!==t&&void 0!==t&&t.requestedClaimsHash&&e.includes(t.requestedClaimsHash.toLowerCase())&&r.push(this.removeAccessToken(e))})),await Promise.all(r),r.length>0&&this.logger.warning("".concat(r.length," access tokens with claims in the cache keys have been removed from the cache."))}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):gn.startsWith(e,u.CACHE_PREFIX)?e:"".concat(u.CACHE_PREFIX,".").concat(this.clientId,".").concat(e)}generateAuthorityKey(e){const{libraryState:{id:t}}=sl.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey("".concat(ei,".").concat(t))}generateNonceKey(e){const{libraryState:{id:t}}=sl.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey("".concat(ni,".").concat(t))}generateStateKey(e){const{libraryState:{id:t}}=sl.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey("".concat(ti,".").concat(t))}getCachedAuthority(e){const t=this.generateStateKey(e),n=this.getTemporaryCache(t);if(!n)return null;const r=this.generateAuthorityKey(n);return this.getTemporaryCache(r)}updateCacheEntries(e,t,n,r,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const i=this.generateStateKey(e);this.setTemporaryCache(i,e,!1);const a=this.generateNonceKey(e);this.setTemporaryCache(a,t,!1);const s=this.generateAuthorityKey(e);if(this.setTemporaryCache(s,n,!1),o){const e={credential:o.homeAccountId,type:ll};this.setTemporaryCache(si,JSON.stringify(e),!0)}else if(r){const e={credential:r,type:cl};this.setTemporaryCache(si,JSON.stringify(e),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach((t=>{-1!==t.indexOf(e)&&this.removeTemporaryItem(t)})),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(ii)),this.removeTemporaryItem(this.generateCacheKey(ri)),this.removeTemporaryItem(this.generateCacheKey(oi)),this.removeTemporaryItem(this.generateCacheKey(li)),this.removeTemporaryItem(this.generateCacheKey(si)),this.removeTemporaryItem(this.generateCacheKey(ci)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const t=this.generateStateKey(e),n=this.temporaryCacheStorage.getItem(t);this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ".concat(n)),this.resetRequestCache(n||u.EMPTY_STRING)}}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach((t=>{if(-1===t.indexOf(ti))return;const n=this.temporaryCacheStorage.getItem(t);if(!n)return;const r=bl(this.cryptoImpl,n);r&&r.interactionType===e&&(this.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ".concat(n)),this.resetRequestCache(n))})),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const t=Va(JSON.stringify(e));this.setTemporaryCache(ii,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const t=this.getTemporaryCache(ii,!0);if(!t)throw Da(da);let n;try{n=JSON.parse(Ya(t))}catch(r){throw this.logger.errorPii("Attempted to parse: ".concat(t)),this.logger.error("Parsing cached token request threw with error: ".concat(r)),Da(ha)}if(this.removeTemporaryItem(this.generateCacheKey(ii)),!n.authority){const t=this.generateAuthorityKey(e),r=this.getTemporaryCache(t);if(!r)throw Da(fa);n.authority=r}return n}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(ci,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){const e="".concat(u.CACHE_PREFIX,".").concat(ai);return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const t="".concat(u.CACHE_PREFIX,".").concat(ai);if(e){if(this.getInteractionInProgress())throw Da(Xi);this.setTemporaryCache(t,this.clientId,!1)}else e||this.getInteractionInProgress()!==this.clientId||this.removeTemporaryItem(t)}async hydrateCache(e,t){var n,r,o;const i=Rt(null===(n=e.account)||void 0===n?void 0:n.homeAccountId,null===(r=e.account)||void 0===r?void 0:r.environment,e.idToken,this.clientId,e.tenantId);let a;t.claims&&(a=await this.cryptoImpl.hashString(t.claims));const s={idToken:i,accessToken:xt(null===(o=e.account)||void 0===o?void 0:o.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?e.expiresOn.getTime()/1e3:0,e.extExpiresOn?e.extExpiresOn.getTime()/1e3:0,Ya,void 0,e.tokenType,void 0,t.sshKid,t.claims,a)};return this.saveCacheRecord(s,e.correlationId)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(r){if(r instanceof jn&&this.performanceClient&&t)try{const e=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:e.refreshToken.length,cacheIdCount:e.idToken.length,cacheAtCount:e.accessToken.length},t)}catch(r){}throw r}}}function Vl(e,t,n,r){try{switch(t){case Yo:return new vl(e,n,r);case $o:return new yl}}catch(o){n.error(o)}return new js}class Gl{constructor(e){this.eventCallbacks=new Map,this.logger=e||new we({}),this.broadcastChannel=new BroadcastChannel("msal.broadcast.event"),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,n){if("undefined"!==typeof window){const r=n||cs();return this.eventCallbacks.has(r)?(this.logger.error("Event callback with id: ".concat(r," is already registered. Please provide a unique id or remove the existing callback and try again.")),null):(this.eventCallbacks.set(r,[e,t||[]]),this.logger.verbose("Event callback registered with id: ".concat(r)),r)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose("Event callback ".concat(e," removed."))}emitEvent(e,t,n,r){const o={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};switch(e){case kl:case Sl:case Tl:this.broadcastChannel.postMessage(o);break;default:this.invokeCallbacks(o)}}invokeCallbacks(e){this.eventCallbacks.forEach(((t,n)=>{let[r,o]=t;(0===o.length||o.includes(e.eventType))&&(this.logger.verbose("Emitting event to callback ".concat(n,": ").concat(e.eventType)),r.apply(null,[e]))}))}invokeCrossTabCallbacks(e){const t=e.data;this.invokeCallbacks(t)}subscribeCrossTab(){this.broadcastChannel.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel.removeEventListener("message",this.invokeCrossTabCallbacks)}}class Yl extends Ee{constructor(e,t,n,r,o){super(e,t,n),this.name="ServerError",this.errorNo=r,this.status=o,Object.setPrototypeOf(this,Yl.prototype)}}class $l{static generateThrottlingStorageKey(e){return"".concat(Z,".").concat(JSON.stringify(e))}static preProcess(e,t){const n=$l.generateThrottlingStorageKey(t),r=e.getThrottlingCache(n);if(r){var o;if(r.throttleTime<Date.now())return void e.removeItem(n);throw new Yl((null===(o=r.errorCodes)||void 0===o?void 0:o.join(" "))||u.EMPTY_STRING,r.errorMessage,r.subError)}}static postProcess(e,t,n){if($l.checkResponseStatus(n)||$l.checkResponseForRetryAfter(n)){const r={throttleTime:$l.calculateThrottleTime(parseInt(n.headers[b])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache($l.generateThrottlingStorageKey(t),r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty(b)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||J),n+X))}static removeThrottle(e,t,n,r){const o={clientId:t,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:r,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},i=this.generateThrottlingStorageKey(o);e.removeItem(i)}}const Jl="client_id",Xl="redirect_uri",Zl="response_type",ec="token_type",tc="req_cnf",nc="return_spa_code",rc="x-client-xtra-sku",oc="brk_client_id",ic="brk_redirect_uri";class ac{static validateRedirectUri(e){if(!e)throw pn(Bt)}static validatePrompt(e){const t=[];for(const n in P)t.push(P[n]);if(t.indexOf(e)<0)throw pn(Yt)}static validateClaims(e){try{JSON.parse(e)}catch(t){throw pn($t)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw pn(en);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([R.PLAIN,R.S256].indexOf(e)<0)throw pn(Zt)}}class sc{constructor(e,t){this.parameters=new Map,this.performanceClient=t,this.correlationId=e}addResponseTypeCode(){this.parameters.set(Zl,encodeURIComponent(u.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(Zl,encodeURIComponent("".concat(u.TOKEN_RESPONSE_TYPE," ").concat(u.ID_TOKEN_RESPONSE_TYPE)))}addResponseMode(e){this.parameters.set("response_mode",encodeURIComponent(e||N.QUERY))}addNativeBroker(){this.parameters.set("nativebroker",encodeURIComponent("1"))}addScopes(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;!t||n.includes("openid")||e.includes("openid")||n.push("openid");const r=t?[...e||[],...n]:e||[],o=new mn(r);this.parameters.set("scope",encodeURIComponent(o.printScopes()))}addClientId(e){this.parameters.set(Jl,encodeURIComponent(e))}addRedirectUri(e){ac.validateRedirectUri(e),this.parameters.set(Xl,encodeURIComponent(e))}addPostLogoutRedirectUri(e){ac.validateRedirectUri(e),this.parameters.set("post_logout_redirect_uri",encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set("id_token_hint",encodeURIComponent(e))}addDomainHint(e){this.parameters.set("domain_hint",encodeURIComponent(e))}addLoginHint(e){this.parameters.set("login_hint",encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(w,encodeURIComponent("UPN:".concat(e)))}addCcsOid(e){this.parameters.set(w,encodeURIComponent("Oid:".concat(e.uid,"@").concat(e.utid)))}addSid(e){this.parameters.set("sid",encodeURIComponent(e))}addClaims(e,t){const n=this.addClientCapabilitiesToClaims(e,t);ac.validateClaims(n),this.parameters.set("claims",encodeURIComponent(n))}addCorrelationId(e){this.parameters.set("client-request-id",encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set("x-client-SKU",e.sku),this.parameters.set("x-client-VER",e.version),e.os&&this.parameters.set("x-client-OS",e.os),e.cpu&&this.parameters.set("x-client-CPU",e.cpu)}addApplicationTelemetry(e){null!==e&&void 0!==e&&e.appName&&this.parameters.set("x-app-name",e.appName),null!==e&&void 0!==e&&e.appVersion&&this.parameters.set("x-app-ver",e.appVersion)}addPrompt(e){ac.validatePrompt(e),this.parameters.set("".concat("prompt"),encodeURIComponent(e))}addState(e){e&&this.parameters.set("state",encodeURIComponent(e))}addNonce(e){this.parameters.set("nonce",encodeURIComponent(e))}addCodeChallengeParams(e,t){if(ac.validateCodeChallengeParams(e,t),!e||!t)throw pn(en);this.parameters.set("code_challenge",encodeURIComponent(e)),this.parameters.set("code_challenge_method",encodeURIComponent(t))}addAuthorizationCode(e){this.parameters.set("code",encodeURIComponent(e))}addDeviceCode(e){this.parameters.set("device_code",encodeURIComponent(e))}addRefreshToken(e){this.parameters.set("refresh_token",encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set("code_verifier",encodeURIComponent(e))}addClientSecret(e){this.parameters.set("client_secret",encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set("client_assertion",encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set("client_assertion_type",encodeURIComponent(e))}addOboAssertion(e){this.parameters.set("assertion",encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set("requested_token_use",encodeURIComponent(e))}addGrantType(e){this.parameters.set("grant_type",encodeURIComponent(e))}addClientInfo(){this.parameters.set("client_info","1")}addExtraQueryParameters(e){Object.entries(e).forEach((e=>{let[t,n]=e;!this.parameters.has(t)&&n&&this.parameters.set(t,n)}))}addClientCapabilitiesToClaims(e,t){let n;if(e)try{n=JSON.parse(e)}catch(r){throw pn($t)}else n={};return t&&t.length>0&&(n.hasOwnProperty(E)||(n[E]={}),n[E][_]={values:t}),JSON.stringify(n)}addUsername(e){this.parameters.set(re,encodeURIComponent(e))}addPassword(e){this.parameters.set(oe,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(ec,$.POP),this.parameters.set(tc,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(ec,$.SSH),this.parameters.set(tc,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set("x-client-current-telemetry",e.generateCurrentRequestHeaderValue()),this.parameters.set("x-client-last-telemetry",e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set("x-ms-lib-capability",ee)}addLogoutHint(e){this.parameters.set("logout_hint",encodeURIComponent(e))}addBrokerParameters(e){const t={};t[oc]=e.brokerClientId,t[ic]=e.brokerRedirectUri,this.addExtraQueryParameters(t)}createQueryString(){const e=new Array;return this.parameters.forEach(((t,n)=>{e.push("".concat(n,"=").concat(t))})),function(e,t,n){if(!t)return;const r=e.get(Jl);r&&e.has(oc)&&(null===n||void 0===n||n.addFields({embeddedClientId:r,embeddedRedirectUri:e.get(Xl)},t))}(this.parameters,this.correlationId,this.performanceClient),e.join("&")}}async function lc(e,t,n,r,o,i,a){null===a||void 0===a||a.addQueueMeasurement(to,i);const s=Ys.transformCIAMAuthority($s(e)),l=new Ys(s,t,n,r,o,i,a);try{return await Vs(l.resolveEndpointsAsync.bind(l),no,o,a,i)(),l}catch(c){throw Ct(Oe)}}class cc{constructor(e,t){this.config=function(e){let{authOptions:t,systemOptions:n,loggerOptions:r,cacheOptions:o,storageInterface:i,networkInterface:a,cryptoInterface:s,clientCredentials:l,libraryInfo:u,telemetry:d,serverTelemetryManager:h,persistencePlugin:f,serializableCache:p}=e;const g=c(c({},Qn),r);return{authOptions:(m=t,c({clientCapabilities:[],azureCloudOptions:Jn,skipAuthorityMetadataCache:!1,instanceAware:!1},m)),systemOptions:c(c({},Wn),n),loggerOptions:g,cacheOptions:c(c({},Vn),o),storageInterface:i||new Kn(t.clientId,kt,new we(g)),networkInterface:a||Gn,cryptoInterface:s||kt,clientCredentials:l||$n,libraryInfo:c(c({},Yn),u),telemetry:c(c({},Xn),d),serverTelemetryManager:h||null,persistencePlugin:f||null,serializableCache:p||null};var m}(e),this.logger=new we(this.config.loggerOptions,St,Tt),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[v]=u.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case ll:try{const n=yn(e.credential);t[w]="Oid:".concat(n.uid,"@").concat(n.utid)}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case cl:t[w]="UPN: ".concat(e.credential)}return t}async executePostToTokenEndpoint(e,t,n,r,o,i){var a;i&&(null===(a=this.performanceClient)||void 0===a||a.addQueueMeasurement(i,o));const s=await this.sendPostRequest(r,e,{body:t,headers:n},o);return this.config.serverTelemetryManager&&s.status<500&&429!==s.status&&this.config.serverTelemetryManager.clearTelemetryCache(),s}async sendPostRequest(e,t,n,r){let o;$l.preProcess(this.cacheManager,e);try{var i,a;o=await Vs(this.networkClient.sendPostRequestAsync.bind(this.networkClient),yr,this.logger,this.performanceClient,r)(t,n);const e=o.headers||{};null===(i=this.performanceClient)||void 0===i||i.addFields({refreshTokenSize:(null===(a=o.body.refresh_token)||void 0===a?void 0:a.length)||0,httpVerToken:e[k]||"",requestId:e[C]||""},r)}catch(l){if(l instanceof ji){const e=l.responseHeaders;var s;if(e)null===(s=this.performanceClient)||void 0===s||s.addFields({httpVerToken:e[k]||"",requestId:e[C]||"",contentTypeHeader:e[v]||void 0,contentLengthHeader:e[y]||void 0,httpStatus:l.httpStatus},r);throw l.error}throw l instanceof Ee?l:Ct(Me)}return $l.postProcess(this.cacheManager,e,o),o}async updateAuthority(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Qr,t);const r="https://".concat(e,"/").concat(this.authority.tenant,"/"),o=await lc(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=o}createTokenQueryParameters(e){const t=new sc(e.correlationId,this.performanceClient);return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.addCorrelationId(e.correlationId),t.createQueryString()}}const uc="sw";class dc{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Jr,e.correlationId);const r=await Vs(this.generateKid.bind(this),Jr,t,this.performanceClient,e.correlationId)(e),o=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:o}}async generateKid(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Xr,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:uc}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){const{resourceRequestMethod:o,resourceRequestUri:i,shrClaims:a,shrNonce:s,shrOptions:l}=n,u=i?new On(i):void 0,d=null===u||void 0===u?void 0:u.getUrlComponents();return this.cryptoUtils.signJwt(c({at:e,ts:Et(),m:null===o||void 0===o?void 0:o.toUpperCase(),u:null===d||void 0===d?void 0:d.HostNameAndPort,nonce:s||this.cryptoUtils.createNewGuid(),p:null===d||void 0===d?void 0:d.AbsolutePath,q:null!==d&&void 0!==d&&d.QueryString?[[],d.QueryString]:void 0,client_claims:a||void 0},r),t,l,n.correlationId)}}class hc{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class fc{constructor(e,t,n,r,o,i,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=o,this.persistencePlugin=i,this.performanceClient=a}validateServerAuthorizationCodeResponse(e,t){if(!e.state||!t)throw e.state?Ct(Fe,"Cached State"):Ct(Fe,"Server State");let n,r;try{n=decodeURIComponent(e.state)}catch(o){throw Ct(Ue,e.state)}try{r=decodeURIComponent(t)}catch(o){throw Ct(Ue,e.state)}if(n!==r)throw Ct(He);if(e.error||e.error_description||e.suberror){const t=function(e){var t,n;const r="code=",o=null===(t=e.error_uri)||void 0===t?void 0:t.lastIndexOf(r);return o&&o>=0?null===(n=e.error_uri)||void 0===n?void 0:n.substring(o+5):void 0}(e);if(il(e.error,e.error_description,e.suberror))throw new ol(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new Yl(e.error||"",e.error_description,e.suberror,t)}}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){var n;const r="Error(s): ".concat(e.error_codes||u.NOT_AVAILABLE," - Timestamp: ").concat(e.timestamp||u.NOT_AVAILABLE," - Description: ").concat(e.error_description||u.NOT_AVAILABLE," - Correlation ID: ").concat(e.correlation_id||u.NOT_AVAILABLE," - Trace ID: ").concat(e.trace_id||u.NOT_AVAILABLE),o=null!==(n=e.error_codes)&&void 0!==n&&n.length?e.error_codes[0]:void 0,i=new Yl(e.error,r,e.suberror,o,e.status);if(t&&e.status&&e.status>=f&&e.status<=p)return void this.logger.warning("executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n".concat(i));if(t&&e.status&&e.status>=d&&e.status<=h)return void this.logger.warning("executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n".concat(i));if(il(e.error,e.error_description,e.suberror))throw new ol(e.error,e.error_description,e.suberror,e.timestamp||u.EMPTY_STRING,e.trace_id||u.EMPTY_STRING,e.correlation_id||u.EMPTY_STRING,e.claims||u.EMPTY_STRING,o);throw i}}async handleServerTokenResponse(e,t,n,r,o,i,a,s,l){var c;let d,h;if(null===(c=this.performanceClient)||void 0===c||c.addQueueMeasurement(Zr,e.correlation_id),e.id_token){if(d=It(e.id_token||u.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&d.nonce!==o.nonce)throw Ct(ze);if(r.maxAge||0===r.maxAge){const e=d.auth_time;if(!e)throw Ct(De);At(e,r.maxAge)}}this.homeAccountIdentifier=Rn.generateHomeAccountId(e.client_info||u.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,d),o&&o.state&&(h=sl.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||r.sshKid||void 0;const f=this.generateCacheRecord(e,t,n,r,d,i,o);let p;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),p=new hc(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(p)),a&&!s&&f.account){const e=f.account.generateAccountKey();if(!this.cacheStorage.getAccount(e))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await fc.generateAuthenticationResult(this.cryptoObj,t,f,!1,r,d,h,void 0,l)}await this.cacheStorage.saveCacheRecord(f,r.correlationId,r.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&p&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(p))}return fc.generateAuthenticationResult(this.cryptoObj,t,f,!1,r,d,h,e,l)}generateCacheRecord(e,t,n,r,o,i,a){const s=t.getPreferredCache();if(!s)throw Ct(tt);const l=Pn(o);let c,u;e.id_token&&o&&(c=Rt(this.homeAccountIdentifier,s,e.id_token,this.clientId,l||""),u=pc(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,s,l,a,void 0,this.logger));let d=null;if(e.access_token){const o=e.scope?mn.fromString(e.scope):new mn(r.scopes||[]),a=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,c=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,u=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,h=n+a,f=h+c,p=u&&u>0?n+u:void 0;d=xt(this.homeAccountIdentifier,s,e.access_token,this.clientId,l||t.tenant||"",o.printScopes(),h,f,this.cryptoObj.base64Decode,p,e.token_type,i,e.key_id,r.claims,r.requestedClaimsHash)}let h=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=n+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}h=Nt(this.homeAccountIdentifier,s,e.refresh_token,this.clientId,e.foci,i,t)}let f=null;return e.foci&&(f={clientId:this.clientId,environment:s,familyId:e.foci}),{account:u,idToken:c,accessToken:d,refreshToken:h,appMetadata:f}}static async generateAuthenticationResult(e,t,n,r,o,i,a,s,l){var c,d,h,f,p;let g,m,v=u.EMPTY_STRING,y=[],b=null,w=u.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType!==$.POP||o.popKid)v=n.accessToken.secret;else{const t=new dc(e),{secret:r,keyId:i}=n.accessToken;if(!i)throw Ct(ft);v=await t.signPopToken(r,i,o)}y=mn.fromString(n.accessToken.target).asArray(),b=new Date(1e3*Number(n.accessToken.expiresOn)),g=new Date(1e3*Number(n.accessToken.extendedExpiresOn)),n.accessToken.refreshOn&&(m=new Date(1e3*Number(n.accessToken.refreshOn)))}n.appMetadata&&(w=n.appMetadata.familyId===j?j:"");const C=(null===i||void 0===i?void 0:i.oid)||(null===i||void 0===i?void 0:i.sub)||"",k=(null===i||void 0===i?void 0:i.tid)||"";null!==s&&void 0!==s&&s.spa_accountid&&n.account&&(n.account.nativeAccountId=null===s||void 0===s?void 0:s.spa_accountid);const S=n.account?Tn(n.account.getAccountInfo(),void 0,i,null===(c=n.idToken)||void 0===c?void 0:c.secret):null;return{authority:t.canonicalAuthority,uniqueId:C,tenantId:k,scopes:y,account:S,idToken:(null===n||void 0===n||null===(d=n.idToken)||void 0===d?void 0:d.secret)||"",idTokenClaims:i||{},accessToken:v,fromCache:r,expiresOn:b,extExpiresOn:g,refreshOn:m,correlationId:o.correlationId,requestId:l||u.EMPTY_STRING,familyId:w,tokenType:(null===(h=n.accessToken)||void 0===h?void 0:h.tokenType)||u.EMPTY_STRING,state:a?a.userRequestState:u.EMPTY_STRING,cloudGraphHostName:(null===(f=n.account)||void 0===f?void 0:f.cloudGraphHostName)||u.EMPTY_STRING,msGraphHost:(null===(p=n.account)||void 0===p?void 0:p.msGraphHost)||u.EMPTY_STRING,code:null===s||void 0===s?void 0:s.spa_code,fromNativeBroker:!1}}}function pc(e,t,n,r,o,i,a,s,l,c,u){null===u||void 0===u||u.verbose("setCachedAccount called");const d=e.getAccountKeys().find((e=>e.startsWith(n)));let h=null;d&&(h=e.getAccount(d));const f=h||Rn.createAccount({homeAccountId:n,idTokenClaims:o,clientInfo:i,environment:a,cloudGraphHostName:null===l||void 0===l?void 0:l.cloud_graph_host_name,msGraphHost:null===l||void 0===l?void 0:l.msgraph_host,nativeAccountId:c},t,r),p=f.tenantProfiles||[],g=s||f.realm;if(g&&!p.find((e=>e.tenantId===g))){const e=Sn(n,f.localAccountId,g,o);p.push(e)}return f.tenantProfiles=p,f}async function gc(e,t,n){if("string"===typeof e)return e;return e({clientId:t,tokenEndpoint:n})}class mc extends cc{constructor(e,t){var n;super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=null===(n=this.config.authOptions.authority.options.OIDCOptions)||void 0===n?void 0:n.defaultScopes}async getAuthCodeUrl(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Br,e.correlationId);const n=await Vs(this.createAuthCodeUrlQueryString.bind(this),$r,this.logger,this.performanceClient,e.correlationId)(e);return On.appendQueryString(this.authority.authorizationEndpoint,n)}async acquireToken(e,t){var n,r;if(null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Vr,e.correlationId),!e.code)throw Ct(Qe);const o=Et(),i=await Vs(this.executeTokenRequest.bind(this),Gr,this.logger,this.performanceClient,e.correlationId)(this.authority,e),a=null===(r=i.headers)||void 0===r?void 0:r[C],s=new fc(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(i.body),Vs(s.handleServerTokenResponse.bind(s),Zr,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,o,e,t,void 0,void 0,void 0,a)}handleFragmentResponse(e,t){if(new fc(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw Ct(ut);return e}getLogoutUri(e){if(!e)throw pn(Xt);const t=this.createLogoutUrlQueryString(e);return On.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){var n,r;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Gr,t.correlationId);const o=this.createTokenQueryParameters(t),i=On.appendQueryString(e.tokenEndpoint,o),a=await Vs(this.createTokenRequestBody.bind(this),Yr,this.logger,this.performanceClient,t.correlationId)(t);let s;if(t.clientInfo)try{const e=vn(t.clientInfo,this.cryptoUtils.base64Decode);s={credential:"".concat(e.uid).concat(F).concat(e.utid),type:ll}}catch(u){this.logger.verbose("Could not parse client info for CCS Header: "+u)}const l=this.createTokenRequestHeaders(s||t.ccsCredential),c={clientId:(null===(r=t.tokenBodyParameters)||void 0===r?void 0:r.clientId)||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return Vs(this.executePostToTokenEndpoint.bind(this),wr,this.logger,this.performanceClient,t.correlationId)(i,a,l,c,t.correlationId,wr)}async createTokenRequestBody(e){var t,n;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Yr,e.correlationId);const r=new sc(e.correlationId,this.performanceClient);if(r.addClientId(e.embeddedClientId||(null===(n=e.tokenBodyParameters)||void 0===n?void 0:n[Jl])||this.config.authOptions.clientId),this.includeRedirectUri?r.addRedirectUri(e.redirectUri):ac.validateRedirectUri(e.redirectUri),r.addScopes(e.scopes,!0,this.oidcDefaultScopes),r.addAuthorizationCode(e.code),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&!Zn(this.config)&&r.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&r.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const t=this.config.clientCredentials.clientAssertion;r.addClientAssertion(await gc(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(t.assertionType)}if(r.addGrantType(O),r.addClientInfo(),e.authenticationScheme===$.POP){const t=new dc(this.cryptoUtils,this.performanceClient);let n;if(e.popKid)n=this.cryptoUtils.encodeKid(e.popKid);else{n=(await Vs(t.generateCnf.bind(t),Jr,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}r.addPopToken(n)}else if(e.authenticationScheme===$.SSH){if(!e.sshJwk)throw pn(on);r.addSshJwk(e.sshJwk)}let o;if((!gn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=vn(e.clientInfo,this.cryptoUtils.base64Decode);o={credential:"".concat(t.uid).concat(F).concat(t.utid),type:ll}}catch(i){this.logger.verbose("Could not parse client info for CCS Header: "+i)}else o=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&o)switch(o.type){case ll:try{const e=yn(o.credential);r.addCcsOid(e)}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case cl:r.addCcsUpn(o.credential)}return e.embeddedClientId&&r.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&r.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[nc]||r.addExtraQueryParameters({[nc]:"1"}),r.createQueryString()}async createAuthCodeUrlQueryString(e){var t,n,r;const o=e.correlationId||this.config.cryptoInterface.createNewGuid();null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement($r,o);const i=new sc(o,this.performanceClient);i.addClientId(e.embeddedClientId||(null===(n=e.extraQueryParameters)||void 0===n?void 0:n[Jl])||this.config.authOptions.clientId);const a=[...e.scopes||[],...e.extraScopesToConsent||[]];var s,l;(i.addScopes(a,!0,this.oidcDefaultScopes),i.addRedirectUri(e.redirectUri),i.addCorrelationId(o),i.addResponseMode(e.responseMode),i.addResponseTypeCode(),i.addLibraryInfo(this.config.libraryInfo),Zn(this.config)||i.addApplicationTelemetry(this.config.telemetry.application),i.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&i.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&i.addPrompt(e.prompt),e.domainHint)&&(i.addDomainHint(e.domainHint),null===(s=this.performanceClient)||void 0===s||s.addFields({domainHintFromRequest:!0},o));if(null===(r=this.performanceClient)||void 0===r||r.addFields({prompt:e.prompt},o),e.prompt!==P.SELECT_ACCOUNT){if(e.sid&&e.prompt===P.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),i.addSid(e.sid),null===(l=this.performanceClient)||void 0===l||l.addFields({sidFromRequest:!0},o);else if(e.account){const t=this.extractAccountSid(e.account);let n=this.extractLoginHint(e.account);if(n&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),n=null),n){var c;this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),i.addLoginHint(n),null===(c=this.performanceClient)||void 0===c||c.addFields({loginHintFromClaim:!0},o);try{const t=yn(e.account.homeAccountId);i.addCcsOid(t)}catch(p){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t&&e.prompt===P.NONE){var u;this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),i.addSid(t),null===(u=this.performanceClient)||void 0===u||u.addFields({sidFromClaim:!0},o);try{const t=yn(e.account.homeAccountId);i.addCcsOid(t)}catch(p){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint){var d;this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),i.addLoginHint(e.loginHint),i.addCcsUpn(e.loginHint),null===(d=this.performanceClient)||void 0===d||d.addFields({loginHintFromRequest:!0},o)}else if(e.account.username){var h;this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),i.addLoginHint(e.account.username),null===(h=this.performanceClient)||void 0===h||h.addFields({loginHintFromUpn:!0},o);try{const t=yn(e.account.homeAccountId);i.addCcsOid(t)}catch(p){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else if(e.loginHint){var f;this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),i.addLoginHint(e.loginHint),i.addCcsUpn(e.loginHint),null===(f=this.performanceClient)||void 0===f||f.addFields({loginHintFromRequest:!0},o)}}else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&i.addNonce(e.nonce),e.state&&i.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&i.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.embeddedClientId&&i.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),this.addExtraQueryParams(e,i),e.platformBroker&&(i.addNativeBroker(),e.authenticationScheme===$.POP)){const t=new dc(this.cryptoUtils);let n;if(e.popKid)n=this.cryptoUtils.encodeKid(e.popKid);else{n=(await Vs(t.generateCnf.bind(t),Jr,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}i.addPopToken(n)}return i.createQueryString()}createLogoutUrlQueryString(e){const t=new sc(e.correlationId,this.performanceClient);return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,t),t.createQueryString()}addExtraQueryParams(e,t){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.sid)||null}extractLoginHint(e){var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.login_hint)||null}}function vc(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:o,extensionVersion:i}=e,a=new Map([[0,[n,r]],[2,[o,i]]]);let s=[];if(null!==t&&void 0!==t&&t.length){if(s=t.split(","),s.length<4)return t}else s=Array.from({length:4},(()=>"|"));return a.forEach(((e,t)=>{var n,r;2===e.length&&null!==(n=e[0])&&void 0!==n&&n.length&&null!==(r=e[1])&&void 0!==r&&r.length&&function(e){const{skuArr:t,index:n,skuName:r,skuVersion:o}=e;if(n>=t.length)return;t[n]=[r,o].join("|")}({skuArr:s,index:t,skuName:e[0],skuVersion:e[1]})})),s.join(",")}class yc{constructor(e,t){this.cacheOutcome=fe,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||u.EMPTY_STRING,this.wrapperVer=e.wrapperVer||u.EMPTY_STRING,this.telemetryCacheKey=Y.CACHE_KEY+H+e.clientId}generateCurrentRequestHeaderValue(){const e="".concat(this.apiId).concat(Y.VALUE_SEPARATOR).concat(this.cacheOutcome),t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();null!==n&&void 0!==n&&n.length&&t.push("broker_error=".concat(n));const r=t.join(Y.VALUE_SEPARATOR),o=[e,this.getRegionDiscoveryFields()].join(Y.VALUE_SEPARATOR);return[Y.SCHEMA_VERSION,o,r].join(Y.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=yc.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(Y.VALUE_SEPARATOR),r=e.errors.slice(0,t).join(Y.VALUE_SEPARATOR),o=e.errors.length,i=[o,t<o?Y.OVERFLOW_TRUE:Y.OVERFLOW_FALSE].join(Y.VALUE_SEPARATOR);return[Y.SCHEMA_VERSION,e.cacheHits,n,r,i].join(Y.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=Y.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Ee?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(Y.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=yc.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}static maxErrorsToSend(e){let t,n=0,r=0;const o=e.errors.length;for(t=0;t<o;t++){const o=e.failedRequests[2*t]||u.EMPTY_STRING,i=e.failedRequests[2*t+1]||u.EMPTY_STRING,a=e.errors[t]||u.EMPTY_STRING;if(r+=o.toString().length+i.toString().length+a.length+3,!(r<Y.MAX_LAST_HEADER_BYTES))break;n+=1}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||u.EMPTY_STRING),e.push(this.regionSource||u.EMPTY_STRING),e.push(this.regionOutcome||u.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return vc(e)}}class bc{constructor(e,t,n,r,o,i,a,s,l){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=i,this.nativeMessageHandler=s,this.correlationId=l||cs(),this.logger=r.clone(Do,Ns,this.correlationId),this.performanceClient=a}async clearCacheOnLogout(e){if(e){Rn.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(Rn.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(t){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch(n){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return On.getAbsoluteUrl(t,Ts())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new yc(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(gr,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,i=null!==n&&void 0!==n&&n.length?"true"===n:this.config.auth.instanceAware,a=t&&i?this.config.auth.authority.replace(On.getDomainFromUrl(o),t.environment):o,s=Ys.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),l=await Vs(lc,to,this.logger,this.performanceClient,this.correlationId)(s,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(t&&!l.isAlias(t.environment))throw pn(dn);return l}}async function wc(e,t,n){e.addQueueMeasurement(ko,n);const r=Qs(Cc,So,t,e,n)(e,t,n);return{verifier:r,challenge:await Vs(kc,To,t,e,n)(r,e,t,n)}}function Cc(e,t,n){try{const r=new Uint8Array(32);Qs(ss,Ao,t,e,n)(r);return Qa(r)}catch(r){throw Da(Ki)}}async function kc(e,t,n,r){t.addQueueMeasurement(To,r);try{const o=await Vs(as,Io,n,t,r)(e,t,r);return Qa(new Uint8Array(o))}catch(o){throw Da(Ki)}}async function Sc(e,t,n,r){n.addQueueMeasurement(Rr,e.correlationId);const o=e.authority||t.auth.authority,i=[...e&&e.scopes||[]],a=c(c({},e),{},{correlationId:e.correlationId,authority:o,scopes:i});if(a.authenticationScheme){if(a.authenticationScheme===$.SSH){if(!e.sshJwk)throw pn(on);if(!e.sshKid)throw pn(an)}r.verbose('Authentication Scheme set to "'.concat(a.authenticationScheme,'" as configured in Auth request'))}else a.authenticationScheme=$.BEARER,r.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!gn.isEmptyObj(e.claims)&&(a.requestedClaimsHash=await ms(e.claims)),a}async function Tc(e,t,n,r,o){r.addQueueMeasurement(xr,e.correlationId);const i=await Vs(Sc,Rr,o,r,e.correlationId)(e,n,r,o);return c(c(c({},e),i),{},{account:t,forceRefresh:e.forceRefresh||!1})}class Ic extends bc{async initializeAuthorizationCodeRequest(e){this.performanceClient.addQueueMeasurement(jr,this.correlationId);const t=await Vs(wc,ko,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),n=c(c({},e),{},{redirectUri:e.redirectUri,code:u.EMPTY_STRING,codeVerifier:t.verifier});return e.codeChallenge=t.challenge,e.codeChallengeMethod=u.S256_CODE_CHALLENGE_METHOD,n}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",null===e||void 0===e?void 0:e.correlationId);const t=c({correlationId:this.correlationId||cs()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=On.getAbsoluteUrl(e.postLogoutRedirectUri,Ts())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=On.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Ts())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=On.getAbsoluteUrl(Ts(),Ts())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(Fr,this.correlationId);const t=await Vs(this.getClientConfiguration.bind(this),zr,this.logger,this.performanceClient,this.correlationId)(e);return new mc(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:i}=e;this.performanceClient.addQueueMeasurement(zr,this.correlationId);const a=await Vs(this.getDiscoveredAuthority.bind(this),gr,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:i}),s=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:s.loggerCallback,piiLoggingEnabled:s.piiLoggingEnabled,logLevel:s.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:Do,version:Ns,cpu:u.EMPTY_STRING,os:u.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(Dr,this.correlationId);const n=this.getRedirectUri(e.redirectUri),r={interactionType:t},o=sl.setRequestState(this.browserCrypto,e&&e.state||u.EMPTY_STRING,r),i=await Vs(Sc,Rr,this.logger,this.performanceClient,this.correlationId)(c(c({},e),{},{correlationId:this.correlationId}),this.config,this.performanceClient,this.logger),a=c(c({},i),{},{redirectUri:n,state:o,nonce:e.nonce||cs(),responseMode:this.config.auth.OIDCOptions.serverResponseType});if(e.loginHint||e.sid)return a;const s=e.account||this.browserStorage.getActiveAccount();return s&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii("Setting validated request account: ".concat(s.homeAccountId),this.correlationId),a.account=s),a}}function Ac(e){if(null==e)throw new TypeError("Cannot destructure "+e)}const Ec="user_switch",_c={[Ec]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Pc extends Ee{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,Pc.prototype),this.name="NativeAuthError",this.ext=n}}function Rc(e){return!(!e.ext||!e.ext.status||"PERSISTENT_ERROR"!==e.ext.status&&"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function xc(e,t,n){if(n&&n.status)switch(n.status){case"ACCOUNT_UNAVAILABLE":return al(Xs);case"USER_INTERACTION_REQUIRED":return new ol(e,t);case"USER_CANCEL":return Da(ta);case"NO_NETWORK":return Da(ya)}return new Pc(e,_c[e]||t,n)}class Nc extends cc{constructor(e,t){super(e,t)}async acquireCachedToken(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Er,e.correlationId);let n=fe;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!gn.isEmptyObj(e.claims))throw this.setCacheOutcome(pe,e.correlationId),Ct(st);if(!e.account)throw Ct(Ze);const r=e.account.tenantId||function(e){var t;const n=null===(t=new On(e).getUrlComponents().PathSegments.slice(-1)[0])||void 0===t?void 0:t.toLowerCase();switch(n){case T:case I:case A:return;default:return n}}(e.authority),o=this.cacheManager.getTokenKeys(),i=this.cacheManager.getAccessToken(e.account,e,o,r,this.performanceClient,e.correlationId);if(!i)throw this.setCacheOutcome(ge,e.correlationId),Ct(st);if(a=i.cachedAt,Number(a)>Et()||_t(i.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(me,e.correlationId),Ct(st);var a;i.refreshOn&&_t(i.refreshOn,0)&&(n=ve);const s=e.authority||this.authority.getPreferredCache(),l={account:this.cacheManager.readAccountFromCache(e.account),accessToken:i,idToken:this.cacheManager.getIdToken(e.account,o,r,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(n,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await Vs(this.generateResultFromCacheRecord.bind(this),_r,this.logger,this.performanceClient,e.correlationId)(l,e),n]}setCacheOutcome(e,t){var n,r;null===(n=this.serverTelemetryManager)||void 0===n||n.setCacheOutcome(e),null===(r=this.performanceClient)||void 0===r||r.addFields({cacheOutcome:e},t),e!==fe&&this.logger.info("Token refresh is required due to cache outcome: ".concat(e))}async generateResultFromCacheRecord(e,t){var n;let r;if(null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(_r,t.correlationId),e.idToken&&(r=It(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){var o;const e=null===(o=r)||void 0===o?void 0:o.auth_time;if(!e)throw Ct(De);At(e,t.maxAge)}return fc.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)}}class Oc extends Ic{async acquireToken(e){this.performanceClient.addQueueMeasurement(ur,e.correlationId);const t=this.initializeServerTelemetryManager(bi),n=await Vs(this.getClientConfiguration.bind(this),zr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new Nc(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const t=(await Vs(r.acquireCachedToken.bind(r),Er,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(o){throw o instanceof za&&o.errorCode===Sa&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(null===t||void 0===t?void 0:t.account)}}const Mc=["prompt"],Lc=["scopes"];class qc extends bc{constructor(e,t,n,r,o,i,a,s,l,c,u,d){var h;super(e,t,n,r,o,i,s,l,d),this.apiId=a,this.accountId=c,this.nativeMessageHandler=l,this.nativeStorageManager=u,this.silentCacheClient=new Oc(e,this.nativeStorageManager,n,r,o,i,s,l,d);const f=this.nativeMessageHandler.getExtensionId()===Bo?"chrome":null!==(h=this.nativeMessageHandler.getExtensionId())&&void 0!==h&&h.length?"unknown":void 0;this.skus=yc.makeExtraSkuString({libraryName:Do,libraryVersion:Ns,extensionName:f,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters=c(c({},e.extraParameters),{},{[rc]:this.skus})}async acquireToken(e){this.performanceClient.addQueueMeasurement(vr,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const t=this.performanceClient.startMeasurement(vr,e.correlationId),n=Et(),r=this.initializeServerTelemetryManager(this.apiId);try{const i=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,i);return t.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(o){this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const a=Object.assign({},(Ac(i),i)),s={method:Vo,request:a},l=await this.nativeMessageHandler.sendMessage(s),c=this.validateNativeResponse(l);return await this.handleNativeResponse(c,i,n).then((e=>(t.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),r.clearNativeBrokerErrorCode(),e))).catch((e=>{throw t.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))}catch(o){throw o instanceof Pc&&r.setNativeBrokerErrorCode(o.errorCode),o}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:mn.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),Ct(nt);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw Ct(nt);try{const e=this.createSilentCacheRequest(t,n),r=await this.silentCacheClient.acquireToken(e),o=c(c({},n),{},{idTokenClaims:null===r||void 0===r?void 0:r.idTokenClaims,idToken:null===r||void 0===r?void 0:r.idToken});return c(c({},r),{},{account:o})}catch(r){throw r}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const n=Object.assign({},(Ac(e),e));delete n.onRedirectNavigate;const r=await this.initializeNativeRequest(n),o={method:Vo,request:r};try{const e=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(e)}catch(s){if(s instanceof Pc){if(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(s.errorCode),Rc(s))throw s}}this.browserStorage.setTemporaryCache(ci,JSON.stringify(r),!0);const i={apiId:pi,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(a,i)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&(null===e||void 0===e||e.addFields({errorCode:"no_cached_request"},t)),null;const{prompt:r}=n,o=bn(n,Mc);r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(ci));const i={method:Vo,request:o},a=Et();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const e=await this.nativeMessageHandler.sendMessage(i);this.validateNativeResponse(e);const t=this.handleNativeResponse(e,o,a);this.browserStorage.setInteractionInProgress(!1);const n=await t;return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),n}catch(s){throw this.browserStorage.setInteractionInProgress(!1),s}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){var r;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const o=It(e.id_token,Ya),i=this.createHomeAccountIdentifier(e,o);if(i!==(null===(r=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId}))||void 0===r?void 0:r.homeAccountId)&&e.account.id!==t.accountId)throw xc(Ec);const a=await this.getDiscoveredAuthority({requestAuthority:t.authority}),s=pc(this.browserStorage,a,i,Ya,o,e.client_info,void 0,o.tid,void 0,e.account.id,this.logger),l=await this.generateAuthenticationResult(e,t,o,s,a.canonicalAuthority,n);return await this.cacheAccount(s),await this.cacheNativeTokens(e,t,i,o,e.access_token,l.tenantId,n),l}createHomeAccountIdentifier(e,t){return Rn.generateHomeAccountId(e.client_info||u.EMPTY_STRING,In,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?mn.fromString(e.scope):mn.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===$.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new dc(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw Ct(ft);return n.signPopToken(e.access_token,t.keyId,r)}return e.access_token}async generateAuthenticationResult(e,t,n,r,o,i){const a=this.addTelemetryFromNativeResponse(e),s=e.scope?mn.fromString(e.scope):mn.fromString(t.scope),l=e.account.properties||{},c=l.UID||n.oid||n.sub||u.EMPTY_STRING,d=l.TenantId||n.tid||u.EMPTY_STRING,h=Tn(r.getAccountInfo(),void 0,n,e.id_token);h.nativeAccountId!==e.account.id&&(h.nativeAccountId=e.account.id);const f=await this.generatePopAccessToken(e,t),p=t.tokenType===$.POP?$.POP:$.BEARER;return{authority:o,uniqueId:c,tenantId:d,scopes:s.asArray(),account:h,idToken:e.id_token,idTokenClaims:n,accessToken:f,fromCache:!!a&&this.isResponseFromCache(a),expiresOn:new Date(1e3*Number(i+e.expires_in)),tokenType:p,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e).catch((e=>{this.logger.error("Error occurred while removing account context from browser storage. ".concat(e))}))}cacheNativeTokens(e,t,n,r,o,i,a){const s=Rt(n,t.authority,e.id_token||"",t.clientId,r.tid||""),l=a+(t.tokenType===$.POP?u.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),c=this.generateScopes(e,t),d={idToken:s,accessToken:xt(n,t.authority,o,t.clientId,r.tid||i,c.printScopes(),l,0,Ya,void 0,t.tokenType,void 0,t.keyId)};return this.nativeStorageManager.saveCacheRecord(d,this.correlationId,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw _e(Te,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(t){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new On(t);n.validateAsUri();const{scopes:r}=e,o=bn(e,Lc),i=new mn(r||[]);i.appendScopes(g);const a=c(c({},o),{},{accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:i.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:(()=>{switch(this.apiId){case mi:case bi:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),P.NONE}if(e.prompt)switch(e.prompt){case P.NONE:case P.CONSENT:case P.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace("initializeNativeRequest: prompt = ".concat(e.prompt," is not compatible with native flow")),Da(Oa)}else this.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:c(c({},e.extraQueryParameters),e.tokenQueryParameters),extendedExpiryToken:!1,keyId:e.popKid});if(a.signPopToken&&e.popKid)throw Da(La);if(this.handleExtraBrokerParams(a),a.extraParameters=a.extraParameters||{},a.extraParameters.telemetry=Ko,e.authenticationScheme===$.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},n=new dc(this.browserCrypto);let r;if(a.keyId)r=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:a.keyId})),a.signPopToken=!1;else{const o=await Vs(n.generateCnf.bind(n),Jr,this.logger,this.performanceClient,e.correlationId)(t,this.logger);r=o.reqCnfString,a.keyId=o.kid,a.signPopToken=!0}a.reqCnf=r}return this.addRequestSKUs(a),a}handleExtraBrokerParams(e){var t;const n=e.extraParameters&&e.extraParameters.hasOwnProperty(oc)&&e.extraParameters.hasOwnProperty(ic)&&e.extraParameters.hasOwnProperty(Jl);if(!e.embeddedClientId&&!n)return;let r="";const o=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[ic],r=e.extraParameters[Jl]),e.extraParameters={child_client_id:r,child_redirect_uri:o},null===(t=this.performanceClient)||void 0===t||t.addFields({embeddedClientId:r,embeddedRedirectUri:o},e.correlationId)}}class Uc{constructor(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(go)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:jo,extensionId:this.extensionId,responseId:cs(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii("NativeMessageHandler - Sending request to browser extension: ".concat(JSON.stringify(t))),this.messageChannel.port1.postMessage(t),new Promise(((e,n)=>{this.resolvers.set(t.responseId,{resolve:e,reject:n})}))}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const r=new Uc(e,t,n,Bo);return await r.sendHandshakeRequest(),r}catch(r){const o=new Uc(e,t,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:jo,extensionId:this.extensionId,responseId:cs(),body:{method:Wo}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise(((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout((()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(Da(Pa)),this.handshakeResolvers.delete(e.responseId)}),this.handshakeTimeoutMs)}))}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===jo&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===Wo){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace("NativeMessageHandler.onWindowMessage - resolver can't be found for request ".concat(t.responseId));this.logger.verbose(t.extensionId?"Extension with id: ".concat(t.extensionId," not installed"):"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject(Da(Ra))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===Go){if(!n)return;const e=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii("NativeMessageHandler - Received response from browser extension: ".concat(JSON.stringify(e))),"Success"!==e.status)n.reject(xc(e.code,e.description,e.ext));else{if(!e.result)throw _e(Te,"Event does not contain result.");e.result.code&&e.result.description?n.reject(xc(e.result.code,e.result.description,e.result.ext)):n.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===Qo){if(!r)return void this.logger.trace("NativeMessageHandler.onChannelMessage - resolver can't be found for request ".concat(t.responseId));clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose("NativeMessageHandler - Received HandshakeResponse from extension: ".concat(this.extensionId)),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii("Error parsing response from WAM Extension: ".concat(o)),this.logger.errorPii("Unable to parse ".concat(e)),n?n.reject(o):r&&r.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isPlatformBrokerAvailable(e,t,n,r){if(t.trace("isPlatformBrokerAvailable called"),!e.system.allowPlatformBroker)return t.trace("isPlatformBrokerAvailable: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return t.trace("isPlatformBrokerAvailable: Platform extension provider is not initialized, returning false"),!1;if(r)switch(r){case $.BEARER:case $.POP:return t.trace("isPlatformBrokerAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isPlatformBrokerAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}class Hc{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async handleCodeResponse(e,t){let n;this.performanceClient.addQueueMeasurement(Wr,t.correlationId);try{n=this.authModule.handleFragmentResponse(e,t.state)}catch(r){throw r instanceof Yl&&r.subError===ta?Da(ta):r}return Vs(this.handleCodeResponseFromServer.bind(this),Kr,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.performanceClient.addQueueMeasurement(Kr,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await Vs(this.authModule.updateAuthority.bind(this.authModule),Qr,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await Vs(this.authModule.acquireToken.bind(this.authModule),Vr,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:ll}:e.loginHint?{credential:e.loginHint,type:cl}:null}}function Fc(e,t,n){const r=Nn(e);if(!r)throw xn(e)?(n.error("A ".concat(t," is present in the iframe but it does not contain known properties. It's likely that the ").concat(t," has been replaced by code running on the redirectUri page.")),n.errorPii("The ".concat(t," detected is: ").concat(e)),Da(Yi)):(n.error("The request has returned to the redirectUri but a ".concat(t," is not present. It's likely that the ").concat(t," has been removed or the page has been redirected by code running on the redirectUri page.")),Da(Vi));return r}class zc extends Ic{constructor(e,t,n,r,o,i,a,s,l,c){super(e,t,n,r,o,i,a,l,c),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=s}acquireToken(e){try{var t;const n={popupName:this.generatePopupName(e.scopes||g,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:null!==(t=e.popupWindowParent)&&void 0!==t?t:window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,n)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),n.popup=this.openSizedPopup("about:blank",n),this.acquireTokenPopupAsync(e,n))}catch(n){return Promise.reject(n)}}logout(e){try{var t;this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:(null===e||void 0===e?void 0:e.popupWindowAttributes)||{},popupWindowParent:null!==(t=null===e||void 0===e?void 0:e.popupWindowParent)&&void 0!==t?t:window},o=e&&e.authority,i=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,r,o,i)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(n,r,o,i))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(e,t){this.logger.verbose("acquireTokenPopupAsync called");const n=this.initializeServerTelemetryManager(gi),r=await Vs(this.initializeAuthorizationRequest.bind(this),Dr,this.logger,this.performanceClient,this.correlationId)(e,ki.Popup);Rs(r.authority);try{const o=await Vs(this.initializeAuthorizationCodeRequest.bind(this),jr,this.logger,this.performanceClient,this.correlationId)(r),i=await Vs(this.createAuthCodeClient.bind(this),Fr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account}),a=Uc.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let s;a&&(s=this.performanceClient.startMeasurement(mr,e.correlationId));const l=await i.getAuthCodeUrl(c(c({},r),{},{platformBroker:a})),u=new Hc(i,this.browserStorage,o,this.logger,this.performanceClient),d=this.initiateAuthRequest(l,t);this.eventHandler.emitEvent(zl,ki.Popup,{popupWindow:d},null);const h=await this.monitorPopupForHash(d,t.popupWindowParent),f=Qs(Fc,eo,this.logger,this.performanceClient,this.correlationId)(h,this.config.auth.OIDCOptions.serverResponseType,this.logger);if($l.removeThrottle(this.browserStorage,this.config.auth.clientId,o),f.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),s&&s.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw Da(xa);const e=new qc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,gi,this.performanceClient,this.nativeMessageHandler,f.accountId,this.nativeStorage,r.correlationId),{userRequestState:t}=sl.parseRequestState(this.browserCrypto,r.state);return await e.acquireToken(c(c({},r),{},{state:t,prompt:void 0}))}return await u.handleCodeResponse(f,r)}catch(i){var o;throw null===(o=t.popup)||void 0===o||o.close(),i instanceof Ee&&(i.setCorrelationId(this.correlationId),n.cacheFailedRequest(i)),i}}async logoutPopupAsync(e,t,n,r){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(Dl,ki.Popup,e);const o=this.initializeServerTelemetryManager(Ci);try{await this.clearCacheOnLogout(e.account);const l=await Vs(this.createAuthCodeClient.bind(this),Fr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:n,account:e.account||void 0});try{l.authority.endSessionEndpoint}catch(c){var i;if(null!==(i=e.account)&&void 0!==i&&i.homeAccountId&&e.postLogoutRedirectUri&&l.authority.protocolMode===ke){var a,s;if(this.browserStorage.removeAccount(null===(a=e.account)||void 0===a?void 0:a.homeAccountId),this.eventHandler.emitEvent(jl,ki.Popup,e),r){const e={apiId:Ci,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=On.getAbsoluteUrl(r,Ts());await this.navigationClient.navigateInternal(t,e)}return void(null===(s=t.popup)||void 0===s||s.close())}}const u=l.getLogoutUri(e);this.eventHandler.emitEvent(jl,ki.Popup,e);const d=this.openPopup(u,t);if(this.eventHandler.emitEvent(zl,ki.Popup,{popupWindow:d},null),await this.monitorPopupForHash(d,t.popupWindowParent).catch((()=>{})),r){const e={apiId:Ci,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=On.getAbsoluteUrl(r,Ts());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: ".concat(t)),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(u){var l;throw null===(l=t.popup)||void 0===l||l.close(),u instanceof Ee&&(u.setCorrelationId(this.correlationId),o.cacheFailedRequest(u)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(Bl,ki.Popup,null,u),this.eventHandler.emitEvent(Kl,ki.Popup),u}this.eventHandler.emitEvent(Kl,ki.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii("Navigate to: ".concat(e)),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),Da(Qi)}monitorPopupForHash(e,t){return new Promise(((t,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const r=setInterval((()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(r),void n(Da(ta));let o="";try{o=e.location.href}catch(s){}if(!o||"about:blank"===o)return;clearInterval(r);let i="";const a=this.config.auth.OIDCOptions.serverResponseType;e&&(i=a===x.QUERY?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(i)}),this.config.system.pollIntervalMilliseconds)})).finally((()=>{this.cleanPopup(e,t)}))}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii("Navigating popup window to: ".concat(e)),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii("Opening popup window to: ".concat(e)),n=this.openSizedPopup(e,t)),!n)throw Da(ea);return n.focus&&n.focus(),this.currentWindow=n,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),this.browserStorage.setInteractionInProgress(!1),Da(Zi)}}openSizedPopup(e,t){var n,r,o,i;let{popupName:a,popupWindowAttributes:s,popupWindowParent:l}=t;const c=l.screenLeft?l.screenLeft:l.screenX,u=l.screenTop?l.screenTop:l.screenY,d=l.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,h=l.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let f=null===(n=s.popupSize)||void 0===n?void 0:n.width,p=null===(r=s.popupSize)||void 0===r?void 0:r.height,g=null===(o=s.popupPosition)||void 0===o?void 0:o.top,m=null===(i=s.popupPosition)||void 0===i?void 0:i.left;return(!f||f<0||f>d)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),f=Uo),(!p||p<0||p>h)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),p=Ho),(!g||g<0||g>h)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),g=Math.max(0,h/2-Ho/2+u)),(!m||m<0||m>d)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),m=Math.max(0,d/2-Uo/2+c)),l.open(e,a,"width=".concat(f,", height=").concat(p,", top=").concat(g,", left=").concat(m,", scrollbars=yes"))}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(ki.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return"".concat(Fo,".").concat(this.config.auth.clientId,".").concat(e.join("-"),".").concat(t,".").concat(this.correlationId)}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return"".concat(Fo,".").concat(this.config.auth.clientId,".").concat(t,".").concat(this.correlationId)}}class Dc{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(ri,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(li,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: ".concat(e));const n={apiId:pi,timeout:t.redirectTimeout,noHistory:!1};if("function"===typeof t.onRedirectNavigate){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==t.onRedirectNavigate(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await t.navigationClient.navigateExternal(e,n)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await t.navigationClient.navigateExternal(e,n)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Da(Qi)}async handleCodeResponse(e,t){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const n=this.browserStorage.generateStateKey(t),r=this.browserStorage.getTemporaryCache(n);if(!r)throw Ct(Fe,"Cached State");let o;try{o=this.authModule.handleFragmentResponse(e,r)}catch(l){throw l instanceof Yl&&l.subError===ta?Da(ta):l}const i=this.browserStorage.generateNonceKey(r),a=this.browserStorage.getTemporaryCache(i);if(this.authCodeRequest.code=o.code,o.cloud_instance_host_name&&await Vs(this.authModule.updateAuthority.bind(this.authModule),Qr,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(o.cloud_instance_host_name,this.authCodeRequest.correlationId),o.nonce=a||void 0,o.state=r,o.client_info)this.authCodeRequest.clientInfo=o.client_info;else{const e=this.checkCcsCredentials();e&&(this.authCodeRequest.ccsCredential=e)}const s=await this.authModule.acquireToken(this.authCodeRequest,o);return this.browserStorage.cleanRequestByState(t),s}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(si,!0);if(e)try{return JSON.parse(e)}catch(t){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: ".concat(e))}return null}}class jc extends Ic{constructor(e,t,n,r,o,i,a,s,l,c){super(e,t,n,r,o,i,a,l,c),this.nativeStorage=s}async acquireToken(e){const t=await Vs(this.initializeAuthorizationRequest.bind(this),Dr,this.logger,this.performanceClient,this.correlationId)(e,ki.Redirect);this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);const n=this.initializeServerTelemetryManager(pi),r=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent(Wl,ki.Redirect))};try{const o=await Vs(this.initializeAuthorizationCodeRequest.bind(this),jr,this.logger,this.performanceClient,this.correlationId)(t),i=await Vs(this.createAuthCodeClient.bind(this),Fr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),a=new Dc(i,this.browserStorage,o,this.logger,this.performanceClient),s=await i.getAuthCodeUrl(c(c({},t),{},{platformBroker:Uc.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)})),l=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii("Redirect start page: ".concat(l)),window.addEventListener("pageshow",r),await a.initiateAuthRequest(s,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:l,onRedirectNavigate:e.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(o){throw o instanceof Ee&&(o.setCorrelationId(this.correlationId),n.cacheFailedRequest(o)),window.removeEventListener("pageshow",r),this.browserStorage.cleanRequestByState(t.state),o}}async handleRedirectPromise(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;const n=this.initializeServerTelemetryManager(vi);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[r,o]=this.getRedirectResponse(e||"");if(!r)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(ki.Redirect),"back_forward"!==function(){if("undefined"===typeof window||"undefined"===typeof window.performance||"function"!==typeof window.performance.getEntriesByType)return;const e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return null===t||void 0===t?void 0:t.type}()?t.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const i=this.browserStorage.getTemporaryCache(ri,!0)||u.EMPTY_STRING,a=On.removeHashFromUrl(i);if(a===On.removeHashFromUrl(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),i.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(i);return await this.handleResponse(r,n)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(r,n);if(!Ss()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(oi,o,!0);const e={apiId:vi,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let t=!0;if(i&&"null"!==i)this.logger.verbose("Navigating to loginRequestUrl: ".concat(i)),t=await this.navigationClient.navigateInternal(i,e);else{const n=function(){const e=new On(window.location.href).getUrlComponents();return"".concat(e.Protocol,"//").concat(e.HostNameAndPort,"/")}();this.browserStorage.setTemporaryCache(ri,n,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),t=await this.navigationClient.navigateInternal(n,e)}if(!t)return await this.handleResponse(r,n)}return null}catch(r){throw r instanceof Ee&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),this.browserStorage.cleanRequestByInteractionType(ki.Redirect),r}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===x.QUERY?window.location.search:window.location.hash);let n=Nn(t);if(n){try{!function(e,t,n){if(!e.state)throw Da(Gi);const r=bl(t,e.state);if(!r)throw Da($i);if(r.interactionType!==n)throw Da(Ji)}(n,this.browserCrypto,ki.Redirect)}catch(i){return i instanceof Ee&&this.logger.error("Interaction type validation failed due to ".concat(i.errorCode,": ").concat(i.errorMessage)),[null,""]}return(r=window).location.hash="","function"===typeof r.history.replaceState&&r.history.replaceState(null,"","".concat(r.location.origin).concat(r.location.pathname).concat(r.location.search)),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}var r;const o=this.browserStorage.getTemporaryCache(oi,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(oi)),o&&(n=Nn(o),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,o]):[null,""]}async handleResponse(e,t){const n=e.state;if(!n)throw Da(Gi);const r=this.browserStorage.getCachedRequest(n);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw Da(xa);const t=new qc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,gi,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,r.correlationId),{userRequestState:o}=sl.parseRequestState(this.browserCrypto,n);return t.acquireToken(c(c({},r),{},{state:o,prompt:void 0})).finally((()=>{this.browserStorage.cleanRequestByState(n)}))}const o=this.browserStorage.getCachedAuthority(n);if(!o)throw Da(fa);const i=await Vs(this.createAuthCodeClient.bind(this),Fr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:o});$l.removeThrottle(this.browserStorage,this.config.auth.clientId,r);return new Dc(i,this.browserStorage,r,this.logger,this.performanceClient).handleCodeResponse(e,n)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(wi);try{this.eventHandler.emitEvent(Dl,ki.Redirect,e),await this.clearCacheOnLogout(t.account);const a={apiId:wi,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=await Vs(this.createAuthCodeClient.bind(this),Fr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:null===e||void 0===e?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(s.authority.protocolMode===ke)try{s.authority.endSessionEndpoint}catch(i){var r,o;if(null!==(r=t.account)&&void 0!==r&&r.homeAccountId)return this.browserStorage.removeAccount(null===(o=t.account)||void 0===o?void 0:o.homeAccountId),void this.eventHandler.emitEvent(jl,ki.Redirect,t)}const l=s.getLogoutUri(t);if(this.eventHandler.emitEvent(jl,ki.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(l,a);if(!1!==e.onRedirectNavigate(l))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(l,a);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(a){throw a instanceof Ee&&(a.setCorrelationId(this.correlationId),n.cacheFailedRequest(a)),this.eventHandler.emitEvent(Bl,ki.Redirect,null,a),this.eventHandler.emitEvent(Kl,ki.Redirect),a}this.eventHandler.emitEvent(Kl,ki.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return On.getAbsoluteUrl(t,Ts())}}async function Bc(e,t,n,r,o){if(t.addQueueMeasurement(Lr,r),!e)throw n.info("Navigate url is empty"),Da(Qi);return o?Vs(Wc,Ur,n,t,r)(e,o,t,r):Qs(Qc,Hr,n,t,r)(e)}async function Kc(e,t,n,r,o,i,a){return r.addQueueMeasurement(qr,i),new Promise(((r,i)=>{t<xs&&o.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower (".concat(t,"ms) than the default (").concat(xs,"ms). This may result in timeouts."));const s=window.setTimeout((()=>{window.clearInterval(l),i(Da(ra))}),t),l=window.setInterval((()=>{let t="";const n=e.contentWindow;try{t=n?n.location.href:""}catch(i){}if(!t||"about:blank"===t)return;let o="";n&&(o=a===x.QUERY?n.location.search:n.location.hash),window.clearTimeout(s),window.clearInterval(l),r(o)}),n)})).finally((()=>{Qs(Gc,mo,o,r,i)(e)}))}function Wc(e,t,n,r){return n.addQueueMeasurement(Ur,r),new Promise(((n,r)=>{const o=Vc();window.setTimeout((()=>{o?(o.src=e,n(o)):r("Unable to load iframe")}),t)}))}function Qc(e){const t=Vc();return t.src=e,t}function Vc(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function Gc(e){document.body===e.parentNode&&document.body.removeChild(e)}class Yc extends Ic{constructor(e,t,n,r,o,i,a,s,l,c,u){super(e,t,n,r,o,i,s,c,u),this.apiId=a,this.nativeStorage=l}async acquireToken(e){this.performanceClient.addQueueMeasurement(dr,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t=c({},e);t.prompt?t.prompt!==P.NONE&&t.prompt!==P.NO_SESSION&&(this.logger.warning("SilentIframeClient. Replacing invalid prompt ".concat(t.prompt," with ").concat(P.NONE)),t.prompt=P.NONE):t.prompt=P.NONE;const n=await Vs(this.initializeAuthorizationRequest.bind(this),Dr,this.logger,this.performanceClient,e.correlationId)(t,ki.Silent);Rs(n.authority);const r=this.initializeServerTelemetryManager(this.apiId);let o;try{return o=await Vs(this.createAuthCodeClient.bind(this),Fr,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),await Vs(this.silentTokenHelper.bind(this),Mr,this.logger,this.performanceClient,e.correlationId)(o,n)}catch(i){if(i instanceof Ee&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),!o||!(i instanceof Ee)||i.errorCode!==qo)throw i;this.performanceClient.addFields({retryError:i.errorCode},this.correlationId);const n=await Vs(this.initializeAuthorizationRequest.bind(this),Dr,this.logger,this.performanceClient,e.correlationId)(t,ki.Silent);return await Vs(this.silentTokenHelper.bind(this),Mr,this.logger,this.performanceClient,this.correlationId)(o,n)}}logout(){return Promise.reject(Da(la))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(Mr,n);const r=await Vs(this.initializeAuthorizationCodeRequest.bind(this),jr,this.logger,this.performanceClient,n)(t),o=await Vs(e.getAuthCodeUrl.bind(e),Br,this.logger,this.performanceClient,n)(c(c({},t),{},{platformBroker:Uc.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)})),i=new Hc(e,this.browserStorage,r,this.logger,this.performanceClient),a=await Vs(Bc,Lr,this.logger,this.performanceClient,n)(o,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),s=this.config.auth.OIDCOptions.serverResponseType,l=await Vs(Kc,qr,this.logger,this.performanceClient,n)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,s),u=Qs(Fc,eo,this.logger,this.performanceClient,this.correlationId)(l,s,this.logger);if(u.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw Da(xa);const e=new qc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,u.accountId,this.browserStorage,n),{userRequestState:r}=sl.parseRequestState(this.browserCrypto,t.state);return Vs(e.acquireToken.bind(e),vr,this.logger,this.performanceClient,n)(c(c({},t),{},{state:r,prompt:t.prompt||P.NONE}))}return Vs(i.handleCodeResponse.bind(i),Wr,this.logger,this.performanceClient,n)(u,t)}}class $c extends cc{constructor(e,t){super(e,t)}async acquireToken(e){var t,n;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(kr,e.correlationId);const r=Et(),o=await Vs(this.executeTokenRequest.bind(this),Cr,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=null===(n=o.headers)||void 0===n?void 0:n[C],a=new fc(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return a.validateTokenResponse(o.body),Vs(a.handleServerTokenResponse.bind(a),Zr,this.logger,this.performanceClient,e.correlationId)(o.body,this.authority,r,e,void 0,void 0,!0,e.forceCache,i)}async acquireTokenByRefreshToken(e){var t;if(!e)throw pn(Jt);if(null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Tr,e.correlationId),!e.account)throw Ct(Ze);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await Vs(this.acquireTokenWithCachedRefreshToken.bind(this),Sr,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(n){const t=n instanceof ol&&n.errorCode===Js,r=n instanceof Yl&&n.errorCode===te&&n.subError===ne;if(t||r)return Vs(this.acquireTokenWithCachedRefreshToken.bind(this),Sr,this.logger,this.performanceClient,e.correlationId)(e,!1);throw n}return Vs(this.acquireTokenWithCachedRefreshToken.bind(this),Sr,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Sr,e.correlationId);const r=Qs(this.cacheManager.getRefreshToken.bind(this.cacheManager),yo,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!r)throw al(Js);var o;if(r.expiresOn&&_t(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw null===(o=this.performanceClient)||void 0===o||o.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),al(Zs);const i=c(c({},e),{},{refreshToken:r.secret,authenticationScheme:e.authenticationScheme||$.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:ll}});try{return await Vs(this.acquireToken.bind(this),kr,this.logger,this.performanceClient,e.correlationId)(i)}catch(s){var a;if(s instanceof ol)if(null===(a=this.performanceClient)||void 0===a||a.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),s.subError===el){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const e=Pt(r);this.cacheManager.removeRefreshToken(e)}throw s}}async executeTokenRequest(e,t){var n,r;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Cr,e.correlationId);const o=this.createTokenQueryParameters(e),i=On.appendQueryString(t.tokenEndpoint,o),a=await Vs(this.createTokenRequestBody.bind(this),Ir,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),l={clientId:(null===(r=e.tokenBodyParameters)||void 0===r?void 0:r.clientId)||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return Vs(this.executePostToTokenEndpoint.bind(this),br,this.logger,this.performanceClient,e.correlationId)(i,a,s,l,e.correlationId,br)}async createTokenRequestBody(e){var t,n,r;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Ir,e.correlationId);const o=e.correlationId,i=new sc(o,this.performanceClient);if(i.addClientId(e.embeddedClientId||(null===(n=e.tokenBodyParameters)||void 0===n?void 0:n[Jl])||this.config.authOptions.clientId),e.redirectUri&&i.addRedirectUri(e.redirectUri),i.addScopes(e.scopes,!0,null===(r=this.config.authOptions.authority.options.OIDCOptions)||void 0===r?void 0:r.defaultScopes),i.addGrantType(M),i.addClientInfo(),i.addLibraryInfo(this.config.libraryInfo),i.addApplicationTelemetry(this.config.telemetry.application),i.addThrottling(),this.serverTelemetryManager&&!Zn(this.config)&&i.addServerTelemetry(this.serverTelemetryManager),i.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&i.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const t=this.config.clientCredentials.clientAssertion;i.addClientAssertion(await gc(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),i.addClientAssertionType(t.assertionType)}if(e.authenticationScheme===$.POP){const t=new dc(this.cryptoUtils,this.performanceClient);let n;if(e.popKid)n=this.cryptoUtils.encodeKid(e.popKid);else{n=(await Vs(t.generateCnf.bind(t),Jr,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}i.addPopToken(n)}else if(e.authenticationScheme===$.SSH){if(!e.sshJwk)throw pn(on);i.addSshJwk(e.sshJwk)}if((!gn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&i.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case ll:try{const t=yn(e.ccsCredential.credential);i.addCcsOid(t)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case cl:i.addCcsUpn(e.ccsCredential.credential)}return e.embeddedClientId&&i.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&i.addExtraQueryParameters(e.tokenBodyParameters),i.createQueryString()}}class Jc extends Ic{async acquireToken(e){this.performanceClient.addQueueMeasurement(fr,e.correlationId);const t=await Vs(Sc,Rr,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n=c(c({},e),t);e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(bi),o=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return Vs(o.acquireTokenByRefreshToken.bind(o),Tr,this.logger,this.performanceClient,e.correlationId)(n).catch((e=>{throw e.setCorrelationId(this.correlationId),r.cacheFailedRequest(e),e}))}logout(){return Promise.reject(Da(la))}async createRefreshTokenClient(e){const t=await Vs(this.getClientConfiguration.bind(this),zr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new $c(t,this.performanceClient)}}class Xc{constructor(e,t,n,r){this.isBrowserEnvironment="undefined"!==typeof window,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}async loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw Da(ma);const r=e.correlationId||cs(),o=t.id_token?It(t.id_token,Ya):void 0,i={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e.authority?new Ys(Ys.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,i,this.logger,e.correlationId||cs()):void 0,s=await this.loadAccount(e,n.clientInfo||t.client_info||"",r,o,a),l=await this.loadIdToken(t,s.homeAccountId,s.environment,s.realm,r),c=await this.loadAccessToken(e,t,s.homeAccountId,s.environment,s.realm,n,r),u=await this.loadRefreshToken(t,s.homeAccountId,s.environment,r);return this.generateAuthenticationResult(e,{account:s,idToken:l,accessToken:c,refreshToken:u},o,a)}async loadAccount(e,t,n,r,o){if(this.logger.verbose("TokenCache - loading account"),e.account){const t=Rn.createFromAccountInfo(e.account);return await this.storage.setAccount(t,n),t}if(!o||!t&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),Da(ka);const i=Rn.generateHomeAccountId(t,o.authorityType,this.logger,this.cryptoObj,r),a=null===r||void 0===r?void 0:r.tid,s=pc(this.storage,o,i,Ya,r,t,o.hostnameAndPort,a,void 0,void 0,this.logger);return await this.storage.setAccount(s,n),s}async loadIdToken(e,t,n,r,o){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const i=Rt(t,n,e.id_token,this.config.auth.clientId,r);return await this.storage.setIdTokenCredential(i,o),i}async loadAccessToken(e,t,n,r,o,i,a){if(!t.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const s=t.scope?mn.fromString(t.scope):new mn(e.scopes),l=i.expiresOn||t.expires_in+(new Date).getTime()/1e3,c=i.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+(new Date).getTime()/1e3,u=xt(n,r,t.access_token,this.config.auth.clientId,o,s.printScopes(),l,c,Ya);return await this.storage.setAccessTokenCredential(u,a),u}async loadRefreshToken(e,t,n,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const o=Nt(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(o,r),o}generateAuthenticationResult(e,t,n,r){var o,i,a;let s,l="",c=[],u=null;null!==t&&void 0!==t&&t.accessToken&&(l=t.accessToken.secret,c=mn.fromString(t.accessToken.target).asArray(),u=new Date(1e3*Number(t.accessToken.expiresOn)),s=new Date(1e3*Number(t.accessToken.extendedExpiresOn)));const d=t.account;return{authority:r?r.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:c,account:d.getAccountInfo(),idToken:(null===(o=t.idToken)||void 0===o?void 0:o.secret)||"",idTokenClaims:n||{},accessToken:l,fromCache:!0,expiresOn:u,correlationId:e.correlationId||"",requestId:"",extExpiresOn:s,familyId:(null===(i=t.refreshToken)||void 0===i?void 0:i.familyId)||"",tokenType:(null===t||void 0===t||null===(a=t.accessToken)||void 0===a?void 0:a.tokenType)||"",state:e.state||"",cloudGraphHostName:d.cloudGraphHostName||"",msGraphHost:d.msGraphHost||"",fromNativeBroker:!1}}}class Zc extends mc{constructor(e){super(e),this.includeRedirectUri=!1}}class eu extends Ic{constructor(e,t,n,r,o,i,a,s,l,c){super(e,t,n,r,o,i,s,l,c),this.apiId=a}async acquireToken(e){if(!e.code)throw Da(Ta);const t=await Vs(this.initializeAuthorizationRequest.bind(this),Dr,this.logger,this.performanceClient,e.correlationId)(e,ki.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const r=c(c({},t),{},{code:e.code}),o=await Vs(this.getClientConfiguration.bind(this),zr,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),i=new Zc(o);this.logger.verbose("Auth code client created");const a=new Hc(i,this.browserStorage,r,this.logger,this.performanceClient);return await Vs(a.handleCodeResponseFromServer.bind(a),Kr,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(r){throw r instanceof Ee&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),r}}logout(){return Promise.reject(Da(la))}}function tu(e){const t=null===e||void 0===e?void 0:e.idTokenClaims;return null!==t&&void 0!==t&&t.tfp||null!==t&&void 0!==t&&t.acr?"B2C":null!==t&&void 0!==t&&t.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===(null===t||void 0===t?void 0:t.tid)?"MSA":"AAD":void 0}function nu(e,t){try{_s(e)}catch(n){throw t.end({success:!1},n),n}}class ru{constructor(e){var t,n,r,o;this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Ks(this.logger,this.performanceClient):kt,this.eventHandler=new Gl(this.logger),this.browserStorage=this.isBrowserEnvironment?new Ql(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,function(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch(r){throw pn(tn)}return{canonicalAuthority:e.authority?$s(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}(this.config.auth)):(t=this.config.auth.clientId,n=this.logger,r=this.performanceClient,o=this.eventHandler,new Ql(t,{cacheLocation:Jo,temporaryCacheLocation:Jo,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},kt,n,r,o));const i={cacheLocation:Jo,temporaryCacheLocation:Jo,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Ql(this.config.auth.clientId,i,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new Xc(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){const n=new ru(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");if(!this.isBrowserEnvironment)return this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,void this.eventHandler.emitEvent(Cl);const t=(null===e||void 0===e?void 0:e.correlationId)||this.getRequestCorrelationId(),n=this.config.system.allowPlatformBroker,r=this.performanceClient.startMeasurement(Nr,t);if(this.eventHandler.emitEvent(wl),await Vs(this.browserStorage.initialize.bind(this.browserStorage),Or,this.logger,this.performanceClient,t)(t),n)try{this.nativeExtensionProvider=await Uc.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(o){this.logger.verbose(o)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await Vs(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),vo,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.initialized=!0,this.eventHandler.emitEvent(Cl),r.end({allowPlatformBroker:n,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),Es(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return"undefined"===typeof n?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){const t=this.getAllAccounts(),n=this.browserStorage.getCachedNativeRequest(),r=n&&Uc.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,o=r?null===n||void 0===n?void 0:n.correlationId:this.browserStorage.getTemporaryCache(li,!0)||"",i=this.performanceClient.startMeasurement(sr,o);let a;if(this.eventHandler.emitEvent(Hl,ki.Redirect),r&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const e=new qc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,vi,this.performanceClient,this.nativeExtensionProvider,n.accountId,this.nativeInternalStorage,n.correlationId);a=Vs(e.handleRedirectPromise.bind(e),po,this.logger,this.performanceClient,i.event.correlationId)(this.performanceClient,i.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const t=this.createRedirectClient(o);a=Vs(t.handleRedirectPromise.bind(t),fo,this.logger,this.performanceClient,i.event.correlationId)(e,i)}return a.then((e=>{if(e){t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(Al,ki.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(Pl,ki.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),i.end({success:!0,accountType:tu(e.account)})}else i.event.errorCode?i.end({success:!1}):i.discard();return this.eventHandler.emitEvent(Fl,ki.Redirect),e})).catch((e=>{const n=e;throw t.length>0?this.eventHandler.emitEvent(Rl,ki.Redirect,null,n):this.eventHandler.emitEvent(El,ki.Redirect,null,n),this.eventHandler.emitEvent(Fl,ki.Redirect),i.end({success:!1},n),e}))}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(ar,t);n.add({accountType:tu(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=e=>{const t="function"===typeof r?r(e):void 0;return!1!==t?n.end({success:!0}):n.discard(),t};else{const e=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=t=>{const r="function"===typeof e?e(t):void 0;return!1!==r?n.end({success:!0}):n.discard(),r}}const o=this.getAllAccounts().length>0;try{let r;if(Ps(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),o?this.eventHandler.emitEvent(_l,ki.Redirect,e):this.eventHandler.emitEvent(Il,ki.Redirect,e),this.nativeExtensionProvider&&this.canUsePlatformBroker(e)){r=new qc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,pi,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch((n=>{if(n instanceof Pc&&Rc(n)){this.nativeExtensionProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(n instanceof ol){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw this.browserStorage.setInteractionInProgress(!1),n}))}else{r=this.createRedirectClient(t).acquireToken(e)}return await r}catch(i){throw n.end({success:!1},i),o?this.eventHandler.emitEvent(Rl,ki.Redirect,null,i):this.eventHandler.emitEvent(El,ki.Redirect,null,i),i}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(ir,t);n.add({scenarioId:e.scenarioId,accountType:tu(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),nu(this.initialized,n),this.browserStorage.setInteractionInProgress(!0)}catch(i){return Promise.reject(i)}const r=this.getAllAccounts();let o;if(r.length>0?this.eventHandler.emitEvent(_l,ki.Popup,e):this.eventHandler.emitEvent(Il,ki.Popup,e),this.canUsePlatformBroker(e))o=this.acquireTokenNative(c(c({},e),{},{correlationId:t}),gi).then((e=>(this.browserStorage.setInteractionInProgress(!1),n.end({success:!0,isNativeBroker:!0,accountType:tu(e.account)}),e))).catch((n=>{if(n instanceof Pc&&Rc(n)){this.nativeExtensionProvider=void 0;return this.createPopupClient(t).acquireToken(e)}if(n instanceof ol){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e)}throw this.browserStorage.setInteractionInProgress(!1),n}));else{o=this.createPopupClient(t).acquireToken(e)}return o.then((e=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(Al,ki.Popup,e):this.eventHandler.emitEvent(Pl,ki.Popup,e),n.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:tu(e.account)}),e))).catch((e=>(r.length>0?this.eventHandler.emitEvent(Rl,ki.Popup,null,e):this.eventHandler.emitEvent(El,ki.Popup,null,e),n.end({success:!1},e),Promise.reject(e))))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var t,n;const r=this.getRequestCorrelationId(e),o=c(c({},e),{},{prompt:e.prompt,correlationId:r});let i;if(this.ssoSilentMeasurement=this.performanceClient.startMeasurement(pr,r),null===(t=this.ssoSilentMeasurement)||void 0===t||t.add({scenarioId:e.scenarioId,accountType:tu(e.account)}),nu(this.initialized,this.ssoSilentMeasurement),null===(n=this.ssoSilentMeasurement)||void 0===n||n.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",r),this.eventHandler.emitEvent(Nl,ki.Silent,o),this.canUsePlatformBroker(o))i=this.acquireTokenNative(o,mi).catch((e=>{if(e instanceof Pc&&Rc(e)){this.nativeExtensionProvider=void 0;return this.createSilentIframeClient(o.correlationId).acquireToken(o)}throw e}));else{i=this.createSilentIframeClient(o.correlationId).acquireToken(o)}return i.then((e=>{var t;return this.eventHandler.emitEvent(Ol,ki.Silent,e),null===(t=this.ssoSilentMeasurement)||void 0===t||t.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:tu(e.account)}),e})).catch((e=>{var t;throw this.eventHandler.emitEvent(Ml,ki.Silent,null,e),null===(t=this.ssoSilentMeasurement)||void 0===t||t.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(tr,t);nu(this.initialized,n),this.eventHandler.emitEvent(Ll,ki.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw Da(Aa);if(e.code){const r=e.code;let o=this.hybridAuthCodeResponses.get(r);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync(c(c({},e),{},{correlationId:t})).then((e=>(this.eventHandler.emitEvent(ql,ki.Silent,e),this.hybridAuthCodeResponses.delete(r),n.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:tu(e.account)}),e))).catch((e=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(Ul,ki.Silent,null,e),n.end({success:!1},e),e})),this.hybridAuthCodeResponses.set(r,o)),await o}if(e.nativeAccountId){if(this.canUsePlatformBroker(e,e.nativeAccountId)){const r=await this.acquireTokenNative(c(c({},e),{},{correlationId:t}),yi,e.nativeAccountId).catch((e=>{throw e instanceof Pc&&Rc(e)&&(this.nativeExtensionProvider=void 0),e}));return n.end({accountType:tu(r.account),success:!0}),r}throw Da(_a)}throw Da(Ia)}catch(r){throw this.eventHandler.emitEvent(Ul,ki.Silent,null,r),n.end({success:!1},r),r}}async acquireTokenByCodeAsync(e){var t;this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(ho,e.correlationId),null===(t=this.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const n=this.createSilentAuthCodeClient(e.correlationId);return await n.acquireToken(e).then((e=>{var t;return null===(t=this.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.end({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker}),e})).catch((e=>{var t;throw null===(t=this.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(Ar,e.correlationId),t){case Mi:case Li:case qi:const t=this.createSilentCacheClient(e.correlationId);return Vs(t.acquireToken.bind(t),ur,this.logger,this.performanceClient,e.correlationId)(e);default:throw Ct(st)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(nr,e.correlationId),t){case Mi:case qi:case Ui:case Hi:const t=this.createSilentRefreshClient(e.correlationId);return Vs(t.acquireToken.bind(t),fr,this.logger,this.performanceClient,e.correlationId)(e);default:throw Ct(st)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(Pr,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return Vs(t.acquireToken.bind(t),dr,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect(c({correlationId:t},e))}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);Ps(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);_s(this.initialized),this.browserStorage.setInteractionInProgress(!0);return this.createPopupClient(t).logout(e)}catch(t){return Promise.reject(t)}}async clearCache(e){if(!this.isBrowserEnvironment)return void this.logger.info("in non-browser environment, returning early.");const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return function(e,t,n,r){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return function(e,t,n){if(t.trace("getAccount called"),0===Object.keys(e).length)return t.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(e);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByUsername(e){return function(e,t,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:e});return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii("getAccountByUsername: Returning signed-in accounts matching username: ".concat(e)),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return function(e,t,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:e});return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii("getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ".concat(e)),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return function(e,t,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:e});return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii("getAccountByLocalId: Returning signed-in accounts matching localAccountId: ".concat(e)),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}setActiveAccount(e){!function(e,t){t.setActiveAccount(e)}(e,this.browserStorage)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=Rn.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(n,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw Da(xa);return new qc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!Uc.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isPlatformBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case P.NONE:case P.CONSENT:case P.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace("canUsePlatformBroker: prompt = ".concat(e.prompt," is not compatible with platform broker flow, returning false")),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new zc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new jc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new Yc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,mi,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new Oc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new Jc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new eu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,yi,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return As(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.config.cache.cacheLocation===Yo?this.eventHandler.subscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}disableAccountStorageEvents(){this.config.cache.cacheLocation===Yo?this.eventHandler.unsubscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return null!==e&&void 0!==e&&e.correlationId?e.correlationId:this.isBrowserEnvironment?cs():u.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect(c({correlationId:t},e||Ri))}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup(c({correlationId:t},e||Ri))}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(rr,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),nu(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const r=e.account||this.getActiveAccount();if(!r)throw Da(ca);n.add({accountType:tu(r)});const o={clientId:this.config.auth.clientId,authority:e.authority||u.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:r.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},i=JSON.stringify(o),a=this.activeSilentTokenRequests.get(i);if("undefined"===typeof a){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t);const o=Vs(this.acquireTokenSilentAsync.bind(this),or,this.logger,this.performanceClient,t)(c(c({},e),{},{correlationId:t}),r).then((t=>(this.activeSilentTokenRequests.delete(i),n.end({success:!0,fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,accessTokenSize:t.accessToken.length,idTokenSize:t.idToken.length}),t))).catch((e=>{throw this.activeSilentTokenRequests.delete(i),n.end({success:!1},e),e}));return this.activeSilentTokenRequests.set(i,o),c(c({},await o),{},{state:e.state})}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),n.discard(),c(c({},await a),{},{state:e.state})}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(or,e.correlationId),this.eventHandler.emitEvent(_l,ki.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const r=await Vs(Tc,xr,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||Mi;return this.acquireTokenSilentNoIframe(r,o).catch((async e=>{const t=function(e,t){const n=!(e instanceof ol&&e.subError!==el),r=e.errorCode===qo||e.errorCode===st,o=n&&r||e.errorCode===Js||e.errorCode===Zs,i=zi.includes(t);return o&&i}(e,o);if(t){if(this.activeIframeRequest){if(o!==Fi){const[t,n]=this.activeIframeRequest;this.logger.verbose("Iframe request is already in progress, awaiting resolution for request with correlationId: ".concat(n),r.correlationId);const i=this.performanceClient.startMeasurement(hr,r.correlationId);i.add({awaitIframeCorrelationId:n});const a=await t;if(i.end({success:a}),a)return this.logger.verbose("Parallel iframe request with correlationId: ".concat(n," succeeded. Retrying cache and/or RT redemption"),r.correlationId),this.acquireTokenSilentNoIframe(r,o);throw this.logger.info("Iframe request with correlationId: ".concat(n," failed. Interaction is required.")),e}return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),Vs(this.acquireTokenBySilentIframe.bind(this),Pr,this.logger,this.performanceClient,r.correlationId)(r)}{let e;return this.activeIframeRequest=[new Promise((t=>{e=t})),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),Vs(this.acquireTokenBySilentIframe.bind(this),Pr,this.logger,this.performanceClient,r.correlationId)(r).then((t=>(e(!0),t))).catch((t=>{throw e(!1),t})).finally((()=>{this.activeIframeRequest=void 0}))}}throw e})).then((t=>(this.eventHandler.emitEvent(Pl,ki.Silent,t),e.correlationId&&this.performanceClient.addFields({fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker},e.correlationId),t))).catch((e=>{throw this.eventHandler.emitEvent(Rl,ki.Silent,null,e),e})).finally((()=>{document.removeEventListener("visibilitychange",n)}))}async acquireTokenSilentNoIframe(e,t){return Uc.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,bi).catch((async e=>{if(e instanceof Pc&&Rc(e))throw this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,Ct(st);throw e}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),Vs(this.acquireTokenFromCache.bind(this),Ar,this.logger,this.performanceClient,e.correlationId)(e,t).catch((n=>{if(t===Li)throw n;return this.eventHandler.emitEvent(xl,ki.Silent,e),Vs(this.acquireTokenByRefreshToken.bind(this),nr,this.logger,this.performanceClient,e.correlationId)(e,t)})))}}class ou{static async createPublicClientApplication(e){const t=await async function(e,t){const n=new Ms(e);return await n.initialize(),ru.createController(n,t)}(e);return new ou(e,t)}constructor(e,t){this.controller=t||new ru(new Ms(e))}async initialize(e){return this.controller.initialize(e)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}const iu={auth:{clientId:"9741d02c-ad67-462d-9b29-7ff973c1c484",authority:"https://login.microsoftonline.com/e5db01bf-c482-460f-9ab2-0d3243358905",redirectUri:window.location.origin}};console.log(iu);const au=new ou(iu),su={instance:{initialize:()=>Promise.reject(ks(ys)),acquireTokenPopup:()=>Promise.reject(ks(ys)),acquireTokenRedirect:()=>Promise.reject(ks(ys)),acquireTokenSilent:()=>Promise.reject(ks(ys)),acquireTokenByCode:()=>Promise.reject(ks(ys)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(ks(ys)),loginPopup:()=>Promise.reject(ks(ys)),loginRedirect:()=>Promise.reject(ks(ys)),logout:()=>Promise.reject(ks(ys)),logoutRedirect:()=>Promise.reject(ks(ys)),logoutPopup:()=>Promise.reject(ks(ys)),ssoSilent:()=>Promise.reject(ks(ys)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw ks(ys)},getLogger:()=>{throw ks(ys)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw ks(ys)},hydrateCache:()=>Promise.reject(ks(ys)),clearCache:()=>Promise.reject(ks(ys))},inProgress:Pi,accounts:[],logger:new we({})},lu=r.createContext(su);lu.Consumer;class cu{static getInteractionStatusFromEvent(e,t){switch(e.eventType){case Il:return Ti;case Nl:return Ei;case _l:if(e.interactionType===ki.Redirect||e.interactionType===ki.Popup)return Ai;break;case Hl:return _i;case Dl:return Ii;case Ol:case Ml:if(t&&t!==Ei)break;return Pi;case Kl:if(t&&t!==Ii)break;return Pi;case Fl:if(t&&t!==_i)break;return Pi;case Al:case El:case Pl:case Rl:case Wl:if(e.interactionType===ki.Redirect||e.interactionType===ki.Popup){if(t&&t!==Ti&&t!==Ai)break;return Pi}}return null}}function uu(e,t){if(e.length!==t.length)return!1;const n=[...t];return e.every((e=>{const t=n.shift();return!(!e||!t)&&(e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username)}))}const du="3.0.4",hu="UNBLOCK_INPROGRESS",fu="EVENT",pu=(e,t)=>{const{type:n,payload:r}=t;let o=e.inProgress;switch(n){case hu:e.inProgress===Si&&(o=Pi,r.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case fu:const t=r.message,i=cu.getInteractionStatusFromEvent(t,e.inProgress);i&&(r.logger.info("MsalProvider - ".concat(t.eventType," results in setting inProgress from ").concat(e.inProgress," to ").concat(i)),o=i);break;default:throw new Error("Unknown action type: ".concat(n))}const i=r.instance.getAllAccounts();return o===e.inProgress||uu(i,e.accounts)?o!==e.inProgress?c(c({},e),{},{inProgress:o}):uu(i,e.accounts)?e:c(c({},e),{},{accounts:i}):c(c({},e),{},{inProgress:o,accounts:i})};function gu(e){let{instance:t,children:n}=e;(0,r.useEffect)((()=>{t.initializeWrapperLibrary(xi,du)}),[t]);const o=(0,r.useMemo)((()=>t.getLogger().clone("@azure/msal-react",du)),[t]),[i,a]=(0,r.useReducer)(pu,void 0,(()=>({inProgress:Si,accounts:t.getAllAccounts()})));(0,r.useEffect)((()=>{const e=t.addEventCallback((e=>{a({payload:{instance:t,logger:o,message:e},type:fu})}));return o.verbose("MsalProvider - Registered event callback with id: ".concat(e)),t.initialize().then((()=>{t.handleRedirectPromise().catch((()=>{})).finally((()=>{a({payload:{instance:t,logger:o},type:hu})}))})).catch((()=>{})),()=>{e&&(o.verbose("MsalProvider - Removing event callback ".concat(e)),t.removeEventCallback(e))}}),[t,o]);const s={instance:t,inProgress:i.inProgress,accounts:i.accounts,logger:o};return r.createElement(lu.Provider,{value:s},n)}const mu=()=>(0,r.useContext)(lu);function vu(e){const{accounts:t,inProgress:n}=mu(),o=(0,r.useMemo)((()=>n!==Si&&function(e,t){return t&&(t.username||t.homeAccountId||t.localAccountId)?!!function(e,t){return e.length>0&&(t.homeAccountId||t.localAccountId||t.username)&&e.filter((e=>(!t.username||t.username.toLowerCase()===e.username.toLowerCase())&&(!t.homeAccountId||t.homeAccountId.toLowerCase()===e.homeAccountId.toLowerCase())&&(!t.localAccountId||t.localAccountId.toLowerCase()===e.localAccountId.toLowerCase())))[0]||null}(e,t):e.length>0}(t,e)),[t,n,e]);return o}n(358);const yu=["page"],bu=["page","matches"],wu=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Cu=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ku=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var Su="popstate";function Tu(){return xu((function(e,t){let{pathname:n,search:r,hash:o}=e.location;return _u("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Pu(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function Iu(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Au(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Eu(e,t){return{usr:e.state,key:e.key,idx:t}}function _u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Ru(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function Pu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Ru(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function xu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,s="POP",l=null,u=d();function d(){return(a.state||{idx:null}).idx}function h(){s="POP";let e=d(),t=null==e?null:e-u;u=e,l&&l({action:s,location:p.location,delta:t})}function f(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:Pu(e);return n=n.replace(/ $/,"%20"),Iu(t,"No window.location.(origin|href) available to create URL for href: ".concat(n)),new URL(n,t)}null==u&&(u=0,a.replaceState(c(c({},a.state),{},{idx:u}),""));let p={get action(){return s},get location(){return e(o,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(Su,h),l=e,()=>{o.removeEventListener(Su,h),l=null}},createHref:e=>t(o,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=_u(p.location,e,t);n&&n(r,e),u=d()+1;let c=Eu(r,u),h=p.createHref(r);try{a.pushState(c,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;o.location.assign(h)}i&&l&&l({action:s,location:p.location,delta:1})},replace:function(e,t){s="REPLACE";let r=_u(p.location,e,t);n&&n(r,e),u=d();let o=Eu(r,u),c=p.createHref(r);a.replaceState(o,"",c),i&&l&&l({action:s,location:p.location,delta:0})},go:e=>a.go(e)};return p}function Nu(e,t){return Ou(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function Ou(e,t,n,r){let o=Vu(("string"===typeof t?Ru(t):t).pathname||"/",n);if(null==o)return null;let i=Mu(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let s=0;null==a&&s<i.length;++s){let e=Qu(o);a=Ku(i[s],e,r)}return a}function Mu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(Iu(a.relativePath.startsWith(r),'Absolute route path "'.concat(a.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),a.relativePath=a.relativePath.slice(r.length));let s=Xu([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(Iu(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(s,'".')),Mu(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:Bu(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of Lu(e.path))o(e,t,r);else o(e,t)})),t}function Lu(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=Lu(r.join("/")),s=[];return s.push(...a.map((e=>""===e?i:[i,e].join("/")))),o&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}var qu=/^:[\w-]+$/,Uu=3,Hu=2,Fu=1,zu=10,Du=-2,ju=e=>"*"===e;function Bu(e,t){let n=e.split("/"),r=n.length;return n.some(ju)&&(r+=Du),t&&(r+=Hu),n.filter((e=>!ju(e))).reduce(((e,t)=>e+(qu.test(t)?Uu:""===t?Fu:zu)),r)}function Ku(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,o={},i="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=Wu({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=Wu({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),a.push({params:o,pathname:Xu([i,u.pathname]),pathnameBase:Zu(Xu([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=Xu([i,u.pathnameBase]))}return a}function Wu(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Au("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:a,pattern:e}}function Qu(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return Au(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function Vu(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Gu(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function Yu(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function $u(e){let t=Yu(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function Ju(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=Ru(e):(r=c({},e),Iu(!r.pathname||!r.pathname.includes("?"),Gu("?","pathname","search",r)),Iu(!r.pathname||!r.pathname.includes("#"),Gu("#","pathname","hash",r)),Iu(!r.search||!r.search.includes("#"),Gu("#","search","hash",r)));let i,a=""===e||""===r.pathname,s=a?"/":r.pathname;if(null==s)i=n;else{let e=t.length-1;if(!o&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:o=""}="string"===typeof e?Ru(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:ed(r),hash:td(o)}}(r,i),u=s&&"/"!==s&&s.endsWith("/"),d=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}var Xu=e=>e.join("/").replace(/\/\/+/g,"/"),Zu=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ed=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",td=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function nd(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var rd=["POST","PUT","PATCH","DELETE"],od=(new Set(rd),["GET",...rd]);new Set(od),Symbol("ResetLoaderData");var id=r.createContext(null);id.displayName="DataRouter";var ad=r.createContext(null);ad.displayName="DataRouterState";var sd=r.createContext({isTransitioning:!1});sd.displayName="ViewTransition";var ld=r.createContext(new Map);ld.displayName="Fetchers";var cd=r.createContext(null);cd.displayName="Await";var ud=r.createContext(null);ud.displayName="Navigation";var dd=r.createContext(null);dd.displayName="Location";var hd=r.createContext({outlet:null,matches:[],isDataRoute:!1});hd.displayName="Route";var fd=r.createContext(null);fd.displayName="RouteError";function pd(){return null!=r.useContext(dd)}function gd(){return Iu(pd(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(dd).location}var md="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vd(e){r.useContext(ud).static||r.useLayoutEffect(e)}function yd(){let{isDataRoute:e}=r.useContext(hd);return e?function(){let{router:e}=Ed("useNavigate"),t=Pd("useNavigate"),n=r.useRef(!1);vd((()=>{n.current=!0}));let o=r.useCallback((async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Au(n.current,md),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,c({fromRouteId:t},o)))}),[e,t]);return o}():function(){Iu(pd(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(id),{basename:t,navigator:n}=r.useContext(ud),{matches:o}=r.useContext(hd),{pathname:i}=gd(),a=JSON.stringify($u(o)),s=r.useRef(!1);vd((()=>{s.current=!0}));let l=r.useCallback((function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Au(s.current,md),!s.current)return;if("number"===typeof r)return void n.go(r);let l=Ju(r,JSON.parse(a),i,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Xu([t,l.pathname])),(o.replace?n.replace:n.push)(l,o.state,o)}),[t,n,a,i,e]);return l}()}r.createContext(null);function bd(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(hd),{pathname:o}=gd(),i=JSON.stringify($u(n));return r.useMemo((()=>Ju(e,JSON.parse(i),o,"path"===t)),[e,i,o,t])}function wd(e,t,n,o){Iu(pd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=r.useContext(ud),{matches:s}=r.useContext(hd),l=s[s.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";Nd(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,g=gd();if(t){var m;let e="string"===typeof t?Ru(t):t;Iu("/"===h||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=g;let v=p.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=!a&&n&&n.matches&&n.matches.length>0?n.matches:Nu(e,{pathname:y});Au(f||null!=b,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),Au(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=Id(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Xu([h,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:Xu([h,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,o);return t&&w?r.createElement(dd.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},w):w}function Cd(){let e=Rd(),t=nd(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},a={padding:"2px 4px",backgroundColor:o},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:a},"ErrorBoundary")," or"," ",r.createElement("code",{style:a},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,s)}var kd=r.createElement(Cd,null),Sd=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(hd.Provider,{value:this.props.routeContext},r.createElement(fd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Td(e){let{routeContext:t,match:n,children:o}=e,i=r.useContext(id);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(hd.Provider,{value:t},o)}function Id(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let o=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=o.findIndex((e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id])));Iu(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),o=o.slice(0,Math.min(o.length,e+1))}let a=!1,s=-1;if(n)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){a=!0,o=s>=0?o.slice(0,s+1):[o[0]];break}}}return o.reduceRight(((e,l,c)=>{let u,d=!1,h=null,f=null;n&&(u=i&&l.route.id?i[l.route.id]:void 0,h=l.route.errorElement||kd,a&&(s<0&&0===c?(Nd("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):s===c&&(d=!0,f=l.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,c+1)),g=()=>{let t;return t=u?h:d?f:l.route.Component?r.createElement(l.route.Component,null):l.route.element?l.route.element:e,r.createElement(Td,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?r.createElement(Sd,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}function Ad(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ed(e){let t=r.useContext(id);return Iu(t,Ad(e)),t}function _d(e){let t=r.useContext(ad);return Iu(t,Ad(e)),t}function Pd(e){let t=function(e){let t=r.useContext(hd);return Iu(t,Ad(e)),t}(e),n=t.matches[t.matches.length-1];return Iu(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Rd(){var e;let t=r.useContext(fd),n=_d("useRouteError"),o=Pd("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[o]}var xd={};function Nd(e,t,n){t||xd[e]||(xd[e]=!0,Au(!1,n))}r.memo((function(e){let{routes:t,future:n,state:r}=e;return wd(t,void 0,r,n)}));function Od(e){let{to:t,replace:n,state:o,relative:i}=e;Iu(pd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=r.useContext(ud);Au(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=r.useContext(hd),{pathname:l}=gd(),c=yd(),u=Ju(t,$u(s),l,"path"===i),d=JSON.stringify(u);return r.useEffect((()=>{c(JSON.parse(d),{replace:n,state:o,relative:i})}),[c,d,i,n,o]),null}function Md(e){Iu(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ld(e){let{basename:t="/",children:n=null,location:o,navigationType:i="POP",navigator:a,static:s=!1}=e;Iu(!pd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo((()=>({basename:l,navigator:a,static:s,future:{}})),[l,a,s]);"string"===typeof o&&(o=Ru(o));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=o,g=r.useMemo((()=>{let e=Vu(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:i}}),[l,u,d,h,f,p,i]);return Au(null!=g,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:r.createElement(ud.Provider,{value:c},r.createElement(dd.Provider,{children:n,value:g}))}function qd(e){let{children:t,location:n}=e;return wd(Ud(t),n)}r.Component;function Ud(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,((e,o)=>{if(!r.isValidElement(e))return;let i=[...t,o];if(e.type===r.Fragment)return void n.push.apply(n,Ud(e.props.children,i));Iu(e.type===Md,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),Iu(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Ud(e.props.children,i)),n.push(a)})),n}var Hd="get",Fd="application/x-www-form-urlencoded";function zd(e){return null!=e&&"string"===typeof e.tagName}var Dd=null;var jd=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bd(e){return null==e||jd.has(e)?e:(Au(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Fd,'"')),null)}function Kd(e,t){let n,r,o,i,a;if(zd(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?Vu(a,t):null,n=e.getAttribute("method")||Hd,o=Bd(e.getAttribute("enctype"))||Fd,i=new FormData(e)}else if(function(e){return zd(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return zd(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?Vu(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Hd,o=Bd(e.getAttribute("formenctype"))||Bd(a.getAttribute("enctype"))||Fd,i=new FormData(a,e),!function(){if(null===Dd)try{new FormData(document.createElement("form"),0),Dd=!1}catch(e){Dd=!0}return Dd}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if(zd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hd,r=null,o=Fd,a=e}var s;return i&&"text/plain"===o&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:a}}function Wd(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Qd(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Vd(e){return null!=e&&"string"===typeof e.page}function Gd(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Yd(e,t,n,r,o,i){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter(((e,t)=>a(e,t)||s(e,t))):"data"===i?t.filter(((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function $d(e){return[...new Set(e)]}function Jd(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,o)=>{if(t&&!Vd(o)&&"script"===o.as&&o.href&&r.has(o.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(i)||(n.add(i),e.push({key:i,link:o})),e}),[])}function Xd(e){return{__html:e}}Symbol("SingleFetchRedirect");function Zd(e){let t="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===t.pathname?t.pathname="_root.data":t.pathname="".concat(t.pathname.replace(/\/$/,""),".data"),t}r.Component;function eh(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let o,i=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(nd(t))return r.createElement(th,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),i);if(t instanceof Error)o=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);o=new Error(e)}return r.createElement(th,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},o.stack),i)}function th(e){var t;let{title:n,renderScripts:o,isOutsideRemixApp:i,children:a}=e,{routeModules:s}=ah();return null!==(t=s.root)&&void 0!==t&&t.Layout&&!i?a:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,o?r.createElement(fh,null):null)))}function nh(e){return!e}function rh(){let e=r.useContext(id);return Wd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function oh(){let e=r.useContext(ad);return Wd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ih=r.createContext(void 0);function ah(){let e=r.useContext(ih);return Wd(e,"You must render this element inside a <HydratedRouter> element"),e}function sh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function lh(e,t,n){if(n&&!hh)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function ch(e){let{page:t}=e,n=bn(e,yu),{router:o}=rh(),i=r.useMemo((()=>Nu(o.routes,t,o.basename)),[o.routes,t,o.basename]);return i?r.createElement(dh,c({page:t,matches:i},n)):null}function uh(e){let{manifest:t,routeModules:n}=ah(),[o,i]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){return Jd((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Qd(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Gd).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"}))))}(e,t,n).then((e=>{r||i(e)})),()=>{r=!0}}),[e,t,n]),o}function dh(e){let{page:t,matches:n}=e,o=bn(e,bu),i=gd(),{manifest:a,routeModules:s}=ah(),{loaderData:l,matches:u}=oh(),d=r.useMemo((()=>Yd(t,n,u,a,i,"data")),[t,n,u,a,i]),h=r.useMemo((()=>Yd(t,n,u,a,i,"assets")),[t,n,u,a,i]),f=r.useMemo((()=>{if(t===i.pathname+i.search+i.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{var n;let o=a.routes[t.route.id];o&&o.hasLoader&&(!d.some((e=>e.route.id===t.route.id))&&t.route.id in l&&null!==(n=s[t.route.id])&&void 0!==n&&n.shouldRevalidate||o.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let o=Zd(t);return r&&e.size>0&&o.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[o.pathname+o.search]}),[l,i,a,d,n,t,s]),p=r.useMemo((()=>function(e,t){return $d(e.map((e=>{let n=t.routes[e.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r})).flat(1))}(h,a)),[h,a]),g=uh(h);return r.createElement(r.Fragment,null,f.map((e=>r.createElement("link",c({key:e,rel:"prefetch",as:"fetch",href:e},o)))),p.map((e=>r.createElement("link",c({key:e,rel:"modulepreload",href:e},o)))),g.map((e=>{let{key:t,link:n}=e;return r.createElement("link",c({key:t},n))})))}ih.displayName="FrameworkContext";var hh=!1;function fh(e){let{manifest:t,serverHandoffString:n,isSpaMode:o,renderMeta:i}=ah(),{router:a,static:s,staticContext:l}=rh(),{matches:u}=oh(),d=nh(o);i&&(i.didRenderScripts=!0);let h=lh(u,null,o);r.useEffect((()=>{hh=!0}),[]);let f=r.useMemo((()=>{var o;let i=l?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",u=s?"".concat(null!==(o=t.hmr)&&void 0!==o&&o.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(d?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(h.map(((e,n)=>"import * as route".concat(n," from ").concat(JSON.stringify(t.routes[e.route.id].module),";"))).join("\n"),"\n  ").concat(d?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(r.pop();r.length>0;)o.push("/".concat(r.join("/"))),r.pop();o.forEach((e=>{let r=Nu(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let i=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return c(c({},e),{},{routes:i})}(t,a),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(h.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Xd(i),type:void 0})),r.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Xd(u),type:"module",async:!0})))}),[]),p=h.map((e=>{let n=t.routes[e.route.id];return n?(n.imports||[]).concat([n.module]):[]})).flat(1),g=hh?[]:t.entry.imports.concat(p);return hh?null:r.createElement(r.Fragment,null,d?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin}),(m=g,[...new Set(m)]).map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin}))),f);var m}function ph(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var gh="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{gh&&(window.__reactRouterVersion="7.1.5")}catch(Af){}function mh(e){let{basename:t,children:n,window:o}=e,i=r.useRef();null==i.current&&(i.current=Tu({window:o,v5Compat:!0}));let a=i.current,[s,l]=r.useState({action:a.action,location:a.location}),c=r.useCallback((e=>{r.startTransition((()=>l(e)))}),[l]);return r.useLayoutEffect((()=>a.listen(c)),[a,c]),r.createElement(Ld,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a})}var vh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yh=r.forwardRef((function(e,t){let n,{onClick:o,discover:i="render",prefetch:a="none",relative:s,reloadDocument:l,replace:u,state:d,target:h,to:f,preventScrollReset:p,viewTransition:g}=e,m=bn(e,wu),{basename:v}=r.useContext(ud),y="string"===typeof f&&vh.test(f),b=!1;if("string"===typeof f&&y&&(n=f,gh))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=Vu(t.pathname,v);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:b=!0}catch(Af){Au(!1,'<Link to="'.concat(f,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Iu(pd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=r.useContext(ud),{hash:i,pathname:a,search:s}=bd(e,{relative:t}),l=a;return"/"!==n&&(l="/"===a?n:Xu([n,a])),o.createHref({pathname:l,search:s,hash:i})}(f,{relative:s}),[C,k,S]=function(e,t){let n=r.useContext(ih),[o,i]=r.useState(!1),[a,s]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect((()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{s(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(o){let e=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(e)}}}),[o]);let p=()=>{i(!0)},g=()=>{i(!1),s(!1)};return n?"intent"!==e?[a,f,{}]:[a,f,{onFocus:sh(l,p),onBlur:sh(c,g),onMouseEnter:sh(u,p),onMouseLeave:sh(d,g),onTouchStart:sh(h,p)}]:[!1,f,{}]}(a,m),T=function(e){let{target:t,replace:n,state:o,preventScrollReset:i,relative:a,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=yd(),c=gd(),u=bd(e,{relative:a});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:Pu(c)===Pu(u);l(e,{replace:t,state:o,preventScrollReset:i,relative:a,viewTransition:s})}}),[c,l,u,n,o,t,e,i,a,s])}(f,{replace:u,state:d,target:h,preventScrollReset:p,relative:s,viewTransition:g});let I=r.createElement("a",c(c(c({},m),S),{},{href:n||w,onClick:b||l?o:function(e){o&&o(e),e.defaultPrevented||T(e)},ref:ph(t,k),target:h,"data-discover":y||"render"!==i?void 0:"true"}));return C&&!y?r.createElement(r.Fragment,null,I,r.createElement(ch,{page:w})):I}));yh.displayName="Link";var bh=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:o=!1,className:i="",end:a=!1,style:s,to:l,viewTransition:u,children:d}=e,h=bn(e,Cu),f=bd(l,{relative:h.relative}),p=gd(),g=r.useContext(ad),{navigator:m,basename:v}=r.useContext(ud),y=null!=g&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(sd);Iu(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=kh("useViewTransitionState"),i=bd(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Vu(n.currentLocation.pathname,o)||n.currentLocation.pathname,s=Vu(n.nextLocation.pathname,o)||n.nextLocation.pathname;return null!=Wu(i.pathname,s)||null!=Wu(i.pathname,a)}(f)&&!0===u,b=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,w=p.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;o||(w=w.toLowerCase(),C=C?C.toLowerCase():null,b=b.toLowerCase()),C&&v&&(C=Vu(C,v)||C);const k="/"!==b&&b.endsWith("/")?b.length-1:b.length;let S,T=w===b||!a&&w.startsWith(b)&&"/"===w.charAt(k),I=null!=C&&(C===b||!a&&C.startsWith(b)&&"/"===C.charAt(b.length)),A={isActive:T,isPending:I,isTransitioning:y},E=T?n:void 0;S="function"===typeof i?i(A):[i,T?"active":null,I?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let _="function"===typeof s?s(A):s;return r.createElement(yh,c(c({},h),{},{"aria-current":E,className:S,ref:t,style:_,to:l,viewTransition:u}),"function"===typeof d?d(A):d)}));bh.displayName="NavLink";var wh=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:o,navigate:i,reloadDocument:a,replace:s,state:l,method:u=Hd,action:d,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:g}=e,m=bn(e,ku),v=Ih(),y=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ud),o=r.useContext(hd);Iu(o,"useFormAction must be used inside a RouteContext");let[i]=o.matches.slice(-1),a=c({},bd(e||".",{relative:t})),s=gd();if(null==e){a.search=s.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:Xu([n,a.pathname]));return Pu(a)}(d,{relative:f}),b="get"===u.toLowerCase()?"get":"post",w="string"===typeof d&&vh.test(d);return r.createElement("form",c(c({ref:t,method:b,action:y,onSubmit:a?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;v(t||e.currentTarget,{fetcherKey:o,method:n,navigate:i,replace:s,state:l,relative:f,preventScrollReset:p,viewTransition:g})}},m),{},{"data-discover":w||"render"!==n?void 0:"true"}))}));function Ch(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function kh(e){let t=r.useContext(id);return Iu(t,Ch(e)),t}wh.displayName="Form";var Sh=0,Th=()=>"__".concat(String(++Sh),"__");function Ih(){let{router:e}=kh("useSubmit"),{basename:t}=r.useContext(ud),n=Pd("useRouteId");return r.useCallback((async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:a,encType:s,formData:l,body:c}=Kd(r,t);if(!1===o.navigate){let t=o.fetcherKey||Th();await e.fetch(t,n,o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||a,formEncType:o.encType||s,flushSync:o.flushSync})}else await e.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||a,formEncType:o.encType||s,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})}),[e,t,n])}new TextEncoder;var Ah,Eh=n(579);function _h(){return(0,Eh.jsx)("div",{className:"logo-wrapper",children:(0,Eh.jsx)("div",{className:"logo-background",children:(0,Eh.jsx)("div",{className:"sign"})})})}function Ph(){return(0,Eh.jsx)("div",{className:"hero hero-wrapper",children:(0,Eh.jsx)("div",{className:"hero-background",children:(0,Eh.jsx)("div",{className:"hero-sign",children:(0,Eh.jsx)(_h,{})})})})}const Rh=["title","titleId"];function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xh.apply(null,arguments)}function Nh(e,t){let{title:n,titleId:o}=e,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Rh);return r.createElement("svg",xh({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",ref:t,"aria-labelledby":o},i),n?r.createElement("title",{id:o},n):null,Ah||(Ah=r.createElement("path",{fill:"currentColor",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})))}const Oh=r.forwardRef(Nh);n.p;var Mh,Lh;const qh=["title","titleId"];function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uh.apply(null,arguments)}function Hh(e,t){let{title:n,titleId:o}=e,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,qh);return r.createElement("svg",Uh({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",stroke:"currentColor",ref:t,"aria-labelledby":o},i),n?r.createElement("title",{id:o},n):null,Mh||(Mh=r.createElement("g",null,r.createElement("path",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:2,d:"M30,11H18c-3.9,0-7,3.1-7,7v12c0,3.9,3.1,7,7,7h12c3.9,0,7-3.1,7-7V18C37,14.1,33.9,11,30,11z"}),r.createElement("circle",{cx:31,cy:16,r:1,fill:"currentColor"}))),Lh||(Lh=r.createElement("g",null,r.createElement("circle",{cx:24,cy:24,r:6,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:2}))))}const Fh=r.forwardRef(Hh);n.p;var zh;const Dh=["title","titleId"];function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jh.apply(null,arguments)}function Bh(e,t){let{title:n,titleId:o}=e,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Dh);return r.createElement("svg",jh({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",ref:t,"aria-labelledby":o},i),n?r.createElement("title",{id:o},n):null,zh||(zh=r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M28.034,19.63c1.576,1.126,3.507,1.788,5.592,1.788v-3.157 c-1.164-0.248-2.194-0.856-2.969-1.701c-1.326-0.827-2.281-2.191-2.561-3.788h-2.923v16.018c-0.007,1.867-1.523,3.379-3.393,3.379 c-1.102,0-2.081-0.525-2.701-1.338c-1.107-0.558-1.866-1.705-1.866-3.029c0-1.873,1.519-3.391,3.393-3.391 c0.359,0,0.705,0.056,1.03,0.159V21.38c-4.024,0.083-7.26,3.369-7.26,7.411c0,2.018,0.806,3.847,2.114,5.183 c1.18,0.792,2.601,1.254,4.129,1.254c4.096,0,7.417-3.319,7.417-7.413L28.034,19.63L28.034,19.63z",clipRule:"evenodd"})))}const Kh=r.forwardRef(Bh);n.p;var Wh;const Qh=["title","titleId"];function Vh(){return Vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vh.apply(null,arguments)}function Gh(e,t){let{title:n,titleId:o}=e,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Qh);return r.createElement("svg",Vh({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",ref:t,"aria-labelledby":o},i),n?r.createElement("title",{id:o},n):null,Wh||(Wh=r.createElement("path",{fill:"currentColor",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"})))}const Yh=r.forwardRef(Gh);n.p;function $h(){return(0,Eh.jsx)("div",{className:"connect-wrapper",style:{display:"flex",gap:"1em",justifyContent:"center",alignItems:"center"},children:(0,Eh.jsxs)("div",{className:"connect-row",children:[(0,Eh.jsx)("div",{children:(0,Eh.jsx)(Fh,{})}),(0,Eh.jsx)("div",{children:(0,Eh.jsx)(Kh,{})}),(0,Eh.jsx)("div",{children:(0,Eh.jsx)(Oh,{})}),(0,Eh.jsx)("div",{children:(0,Eh.jsx)(Yh,{})})]})})}function Jh(){const e=vu(),{accounts:t}=mu(),n=e&&t.some((e=>e.idTokenClaims&&"e5db01bf-c482-460f-9ab2-0d3243358905"===e.idTokenClaims.tid));return(0,Eh.jsxs)("footer",{children:[(0,Eh.jsxs)("div",{className:"footer-top",children:[n?(0,Eh.jsxs)("div",{className:"footer-column",children:[(0,Eh.jsx)("h4",{children:"Employees Only"}),(0,Eh.jsx)("ul",{children:(0,Eh.jsx)("li",{children:(0,Eh.jsx)(bh,{to:"/management/inventory",children:"Inventory Management"})})})]}):(0,Eh.jsx)(Eh.Fragment,{}),(0,Eh.jsxs)("div",{className:"footer-column",children:[(0,Eh.jsx)("h4",{children:"About"}),(0,Eh.jsxs)("ul",{children:[(0,Eh.jsx)("li",{children:"Our Story"}),(0,Eh.jsx)("li",{children:"Meet the Booksellers"}),(0,Eh.jsx)("li",{children:"Contact Us"})]})]}),(0,Eh.jsxs)("div",{className:"footer-column",children:[(0,Eh.jsx)("h4",{children:"Customer Service"}),(0,Eh.jsxs)("ul",{children:[(0,Eh.jsx)("li",{children:"Help"}),(0,Eh.jsx)("li",{children:"Returns"}),(0,Eh.jsx)("li",{children:"Shipping"}),(0,Eh.jsx)("li",{children:"Terms of Service"}),(0,Eh.jsx)("li",{children:"Privacy Policy"})]})]}),(0,Eh.jsxs)("div",{className:"footer-column",children:[(0,Eh.jsx)("h4",{style:{marginBottom:"1em"},children:"Connect"}),(0,Eh.jsx)($h,{})]})]}),(0,Eh.jsxs)("div",{className:"footer-bottom",children:["\xa9 ",(new Date).getFullYear()," Paperback Porch, LLC"]})]})}class Xh{constructor(e,t){this.items=e,this.totalCount=t}}const Zh=class{constructor(e){this.apiUrl=e}async saveUser(e){console.log("Prentended to save",e)}},ef=new class{constructor(){this.items=[{barcode:1,name:"Book A",quantity:10,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:2,name:"Book B",quantity:5,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:3,name:"Book C",quantity:0,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:4,name:"Book D",quantity:7,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:5,name:"Book E",quantity:3,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:6,name:"Book F",quantity:12,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:7,name:"Book G",quantity:8,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:8,name:"Book H",quantity:15,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:9,name:"Book I",quantity:6,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:10,name:"Book J",quantity:9,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:11,name:"Book K",quantity:4,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:12,name:"Book L",quantity:11,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:13,name:"Book M",quantity:2,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:14,name:"Book N",quantity:13,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:15,name:"Book O",quantity:1,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:16,name:"Book P",quantity:14,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:17,name:"Book Q",quantity:0,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:18,name:"Book R",quantity:10,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:19,name:"Book S",quantity:5,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{barcode:20,name:"Book T",quantity:3,category:"book",active:!0,price:"$".concat((100*Math.random()).toFixed(2)),summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}]}async getItems(){let{page:e,pageSize:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1,pageSize:10};return new Xh(this.items.slice((e-1)*t,e*t),this.items.length)}},tf=new Zh("https://www.google.com"),nf=async e=>{try{await au.handleRedirectPromise();const e=await au.loginPopup(),t={name:e.account.name,email:e.account.username,id:e.account.idTokenClaims.sub};await tf.saveUser(t)}catch(t){console.error("Login failed:",t)}};function rf(){return vu()?null:(0,Eh.jsx)("div",{className:"account-options",children:(0,Eh.jsx)("div",{onClick:nf,children:"Log in"})})}function of(){const[e,t]=r.useState(!1),n=()=>{t(!e)};return(0,Eh.jsxs)(Eh.Fragment,{children:[(0,Eh.jsxs)("div",{className:"hamburger",onClick:n,children:[(0,Eh.jsx)("div",{className:e?"bar open":"bar"}),(0,Eh.jsx)("div",{className:e?"bar open":"bar"})]}),(0,Eh.jsx)("nav",{className:e?"nav open":"nav",children:(0,Eh.jsxs)("div",{className:"nav-wrapper",children:[(0,Eh.jsx)("div",{className:e?"exit open":"exit",onClick:n,children:"\xd7"}),(0,Eh.jsx)("div",{className:"storename",children:"Paperback Porch"}),(0,Eh.jsx)("hr",{}),(0,Eh.jsxs)("ul",{className:"nav-links",children:[(0,Eh.jsx)("li",{children:(0,Eh.jsx)(bh,{onClick:n,to:"/",children:"Home"})}),(0,Eh.jsx)("li",{children:(0,Eh.jsx)(bh,{onClick:n,to:"/books",children:"Books"})}),(0,Eh.jsx)("li",{children:(0,Eh.jsx)(bh,{onClick:n,to:"/who-we-are",children:"Who We Are"})}),(0,Eh.jsx)("li",{children:(0,Eh.jsx)(bh,{onClick:n,to:"/subscriptions",children:"Subscriptions"})}),(0,Eh.jsx)("li",{children:(0,Eh.jsx)(bh,{onClick:n,to:"/merch-and-gifts",children:"Merch & Gifts"})}),(0,Eh.jsx)("li",{children:(0,Eh.jsx)(bh,{onClick:n,to:"/events",children:"Events"})}),(0,Eh.jsx)("li",{children:(0,Eh.jsx)(bh,{onClick:n,to:"/about-us",children:"About Us"})})]}),(0,Eh.jsx)("hr",{}),(0,Eh.jsx)(rf,{}),(0,Eh.jsx)("div",{className:"connect-options",children:(0,Eh.jsx)($h,{})})]})})]})}function af(){return(0,Eh.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",fill:"currentColor",children:(0,Eh.jsx)("path",{d:"M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"})})}function sf(){return(0,Eh.jsxs)("div",{className:"search",children:[(0,Eh.jsx)("label",{children:(0,Eh.jsx)(af,{})}),(0,Eh.jsx)("input",{type:"text"})]})}function lf(){return(0,Eh.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",fill:"currentColor",children:(0,Eh.jsx)("path",{d:"M234-276q51-39 114-61.5T480-360q69 0 132 22.5T726-276q35-41 54.5-93T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 59 19.5 111t54.5 93Zm246-164q-59 0-99.5-40.5T340-580q0-59 40.5-99.5T480-720q59 0 99.5 40.5T620-580q0 59-40.5 99.5T480-440Zm0 360q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q53 0 100-15.5t86-44.5q-39-29-86-44.5T480-280q-53 0-100 15.5T294-220q39 29 86 44.5T480-160Zm0-360q26 0 43-17t17-43q0-26-17-43t-43-17q-26 0-43 17t-17 43q0 26 17 43t43 17Zm0-60Zm0 360Z"})})}function cf(){return vu()?(0,Eh.jsx)("div",{className:"user-icon user-icon-logged-in",onClick:()=>(async()=>{try{await au.handleRedirectPromise();const e=await au.logoutPopup();console.log("Logout successful:",e)}catch(e){console.error("Logout failed:",e)}})(),children:(0,Eh.jsx)(lf,{})}):(0,Eh.jsx)("div",{className:"user-icon user-icon-logged-out",onClick:()=>nf(),children:(0,Eh.jsx)(lf,{})})}function uf(){return(0,Eh.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",fill:"currentColor",children:(0,Eh.jsx)("path",{d:"M240-80q-33 0-56.5-23.5T160-160v-480q0-33 23.5-56.5T240-720h80q0-66 47-113t113-47q66 0 113 47t47 113h80q33 0 56.5 23.5T800-640v480q0 33-23.5 56.5T720-80H240Zm0-80h480v-480h-80v80q0 17-11.5 28.5T600-520q-17 0-28.5-11.5T560-560v-80H400v80q0 17-11.5 28.5T360-520q-17 0-28.5-11.5T320-560v-80h-80v480Zm160-560h160q0-33-23.5-56.5T480-800q-33 0-56.5 23.5T400-720ZM240-160v-480 480Z"})})}function df(e){var t;const n=null!==(t=e.items)&&void 0!==t?t:0;return(0,Eh.jsx)("div",{className:"cart","data-items":n,children:(0,Eh.jsx)(uf,{})})}function hf(){return(0,Eh.jsxs)("header",{children:[(0,Eh.jsx)("div",{className:"search",children:(0,Eh.jsx)(sf,{})}),(0,Eh.jsx)(of,{}),(0,Eh.jsx)(cf,{}),(0,Eh.jsx)(df,{})]})}function ff(e){var t,n,r;const o=null!==(t=e.bgColor)&&void 0!==t?t:"var(--accent-color)",i=null!==(n=e.fgColor)&&void 0!==n?n:"var(--light-color)",a=null!==(r=e.text)&&void 0!==r?r:"",s={backgroundColor:o,color:i};return(0,Eh.jsx)("div",{className:"banner-wrapper",children:(0,Eh.jsx)("div",{className:"banner",style:s,children:(0,Eh.jsx)("div",{className:"banner-text",children:(0,Eh.jsx)("span",{children:a})})})})}function pf(e){let{image:t,text:n,title:r,url:o,imageOnLeft:i}=e;return(0,Eh.jsxs)("div",{className:"split-content-wrapper",children:[i&&(0,Eh.jsx)("div",{className:"img",style:{backgroundImage:"url(".concat(t,")")}}),(0,Eh.jsxs)("div",{className:"text",children:[(0,Eh.jsx)("h2",{children:r}),(0,Eh.jsx)("p",{children:n}),(0,Eh.jsx)("div",{className:"button",children:"Learn More"})]}),!i&&(0,Eh.jsx)("div",{className:"img",style:{backgroundImage:"url(".concat(t,")")}})]})}function gf(e){let{text:t,title:n,bgFilled:r}=e;return(0,Eh.jsx)("div",{className:r?"center-content-wrapper bg-filled":"center-content-wrapper",children:(0,Eh.jsxs)("div",{className:"text",children:[(0,Eh.jsx)("h2",{children:n}),(0,Eh.jsx)("p",{children:t})]})})}function mf(){return(0,Eh.jsxs)(Eh.Fragment,{children:[(0,Eh.jsx)(ff,{text:"Speak to a real life human when you have concerns or suggestions.  Review our Contact Us page today!"}),(0,Eh.jsx)(gf,{title:"Grand Opening!",text:"We are so excited to share our curated collection of books with you!  We have something for everyone, so take a look around and find your next favorite read."}),(0,Eh.jsx)(ff,{text:"Don't miss our grand opening sale where you can get 10% off orders over $40!"}),(0,Eh.jsx)(pf,{title:"Love is all around",text:"Whether you choose to celebrate Valentine's Day or not, there's no bad time to celebrate love!",button:"Shop Now",image:"https://i.pinimg.com/originals/f3/9e/ce/f39ece08880a4c0ab931501bbd497e1a.jpg",imageOnLeft:!1,url:"www.google.com"}),(0,Eh.jsx)(gf,{bgFilled:!0,title:"Hey Biggest Fans!",text:"Is your favorite author missing from our selection? Place a request to have it added and we'll do our best to accomodate!"}),(0,Eh.jsx)(pf,{title:"Love is all around",text:"Whether you choose to celebrate Valentine's Day or not, there's no bad time to celebrate love!",button:"Shop Now",image:"https://i.pinimg.com/originals/f3/9e/ce/f39ece08880a4c0ab931501bbd497e1a.jpg",imageOnLeft:!0,url:"www.google.com"}),(0,Eh.jsx)(ff,{text:"Be surprised by our curated selections delivered directly to your abode.  Subscribe for a Blind Date with a book today!"}),(0,Eh.jsx)(gf,{title:"Hey",text:"You're doing great!"}),(0,Eh.jsx)(ff,{text:"Are you an author looking to get your content out there? We'd love to collaborate with you!"})]})}const vf=e=>{let{children:t}=e;const{accounts:n}=mu(),r=gd(),o=n.length>0,i=o?n[0]:null,a=i&&"e5db01bf-c482-460f-9ab2-0d3243358905"===i.idTokenClaims.tid;return o&&a?t:(0,Eh.jsx)(Od,{to:"/access-denied",state:{from:r}})};const yf=class{constructor(){this.active=!0}};function bf(e){let{item:t}=e;const[n,o]=r.useState(!1),[i,a]=r.useState(null!==t&&void 0!==t?t:new yf),s=e=>{const{name:t,value:n}=e.target;a((e=>c(c({},e),{},{[t]:n})))},l=["book","merchandise"],u=()=>{o(!1)},d=!t||!t.barcode?"Create Item":"Edit Item";return n?(0,Eh.jsx)("div",{className:"modal",children:(0,Eh.jsxs)("div",{className:"modal-content",children:[(0,Eh.jsxs)("div",{className:"modal-header",children:[(0,Eh.jsx)("h2",{children:d}),(0,Eh.jsx)("span",{className:"modal-close",onClick:()=>o(!1),children:"\xd7"})]}),(0,Eh.jsxs)("form",{children:[(0,Eh.jsxs)("div",{className:"modal-body",children:[(0,Eh.jsxs)("label",{children:["Barcode:",(0,Eh.jsx)("input",{type:"text",name:"barcode",value:i.barcode,onChange:s})]}),(0,Eh.jsxs)("label",{children:["Name:",(0,Eh.jsx)("input",{type:"text",name:"name",value:i.name,onChange:s})]}),(0,Eh.jsxs)("label",{children:["Summary:",(0,Eh.jsx)("input",{type:"text",name:"summary",value:i.summary,onChange:s})]}),(0,Eh.jsxs)("label",{children:["Price:",(0,Eh.jsx)("input",{type:"number",name:"price",value:i.price,onChange:s})]}),(0,Eh.jsxs)("label",{children:["Category:",(0,Eh.jsxs)("select",{name:"category",value:i.category,onChange:s,children:[(0,Eh.jsx)("option",{value:"",children:"Select Category"}),l.map((e=>(0,Eh.jsx)("option",{value:e,children:e},e)))]})]}),(0,Eh.jsxs)("label",{children:["Quantity:",(0,Eh.jsx)("input",{type:"number",name:"quantity",value:i.quantity,onChange:s})]}),(0,Eh.jsxs)("label",{children:["Used Quantity:",(0,Eh.jsx)("input",{type:"number",name:"usedQuantity",value:i.usedQuantity,onChange:s})]}),"book"===i.category&&(0,Eh.jsxs)(Eh.Fragment,{children:[(0,Eh.jsxs)("label",{children:["Author:",(0,Eh.jsx)("input",{type:"text",name:"author",value:i.author,onChange:s})]}),(0,Eh.jsxs)("label",{children:["Publisher:",(0,Eh.jsx)("input",{type:"text",name:"publisher",value:i.publisher,onChange:s})]}),(0,Eh.jsxs)("label",{children:["ISBN:",(0,Eh.jsx)("input",{type:"text",name:"isbn",value:i.isbn,onChange:s})]})]}),(0,Eh.jsxs)("label",{children:["Active:",(0,Eh.jsx)("input",{type:"checkbox",name:"active",checked:i.active,onChange:e=>a((t=>c(c({},t),{},{active:e.target.checked})))})]})]}),(0,Eh.jsx)("div",{className:"modal-footer",children:(0,Eh.jsx)("button",{type:"button",onClick:u,children:"Save"})})]})]})}):(0,Eh.jsx)("div",{children:(0,Eh.jsx)("button",{onClick:()=>o(!0),children:d})})}function wf(e){return(0,Eh.jsx)("div",{children:(0,Eh.jsxs)("div",{className:"inventory-table",children:[(0,Eh.jsxs)("div",{className:"table-header",children:[(0,Eh.jsx)("div",{className:"table-cell",children:"Barcode"}),(0,Eh.jsx)("div",{className:"table-cell",children:"Category"}),(0,Eh.jsx)("div",{className:"table-cell",children:"Name"}),(0,Eh.jsx)("div",{className:"table-cell",children:"Summary"}),(0,Eh.jsx)("div",{className:"table-cell",children:"Price"}),(0,Eh.jsx)("div",{className:"table-cell",children:"Quantity"}),(0,Eh.jsx)("div",{className:"table-cell",children:"Used Quantity"}),(0,Eh.jsx)("div",{className:"table-cell",children:"Active"}),(0,Eh.jsx)("div",{className:"table-cell",children:(0,Eh.jsx)(bf,{})})]}),e.items.map(((e,t)=>(0,Eh.jsxs)("div",{className:"table-row",children:[(0,Eh.jsx)("div",{className:"table-cell",children:e.barcode}),(0,Eh.jsx)("div",{className:"table-cell",children:e.category}),(0,Eh.jsx)("div",{className:"table-cell",children:e.name}),(0,Eh.jsx)("div",{className:"table-cell",children:e.summary}),(0,Eh.jsx)("div",{className:"table-cell",children:e.price}),(0,Eh.jsx)("div",{className:"table-cell",children:e.quantity}),(0,Eh.jsx)("div",{className:"table-cell",children:e.usedQuantity}),(0,Eh.jsx)("div",{className:"table-cell",children:e.active?"Yes":"No"}),(0,Eh.jsx)("div",{className:"table-cell",children:(0,Eh.jsx)(bf,{item:e})})]},t)))]})})}function Cf(){const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)(0),[i,a]=(0,r.useState)(1);return(0,r.useEffect)((()=>{(async()=>{const e=await ef.getItems({page:i,pageSize:10});o(e.totalItems),t(e.items)})()}),[i]),(0,Eh.jsxs)("div",{className:"inventory-wrapper",children:[(0,Eh.jsx)("div",{children:(0,Eh.jsx)("h3",{children:"Inventory List"})}),(0,Eh.jsx)(wf,{items:e})]})}function kf(){return(0,Eh.jsx)(gf,{title:"Access Denied",text:"You do not have permission to view this page.  If you think you've reached this page on accident, please ensure that you're logged in with your employee login."})}function Sf(){return(0,Eh.jsxs)(qd,{children:[(0,Eh.jsx)(Md,{path:"/",element:(0,Eh.jsx)(mf,{})}),(0,Eh.jsx)(Md,{path:"/management/inventory",element:(0,Eh.jsx)(vf,{children:(0,Eh.jsx)(Cf,{})})}),(0,Eh.jsx)(Md,{path:"/access-denied",element:(0,Eh.jsx)(kf,{})})]})}const Tf=function(){return(0,Eh.jsx)(gu,{instance:au,children:(0,Eh.jsx)(mh,{basename:"/",children:(0,Eh.jsxs)("div",{className:"App",children:[(0,Eh.jsxs)("div",{className:"page-wrapper",children:[(0,Eh.jsx)(ff,{text:"Save $ on orders over $100 by earning free shipping!"}),(0,Eh.jsx)(hf,{}),(0,Eh.jsx)(Ph,{}),(0,Eh.jsx)("main",{children:(0,Eh.jsx)(Sf,{})})]}),(0,Eh.jsx)(Jh,{})]})})})},If=e=>{e&&e instanceof Function&&n.e(488).then(n.bind(n,488)).then((t=>{let{getCLS:n,getFID:r,getFCP:o,getLCP:i,getTTFB:a}=t;n(e),r(e),o(e),i(e),a(e)}))};o.createRoot(document.getElementById("root")).render((0,Eh.jsx)(r.StrictMode,{children:(0,Eh.jsx)(Tf,{})})),If()})();
//# sourceMappingURL=main.ae87be8a.js.map